var Z1=Object.create;var mm=Object.defineProperty,J1=Object.defineProperties,X1=Object.getOwnPropertyDescriptor,eF=Object.getOwnPropertyDescriptors,tF=Object.getOwnPropertyNames,Mb=Object.getOwnPropertySymbols,xb=Object.getPrototypeOf,kb=Object.prototype.hasOwnProperty,nF=Object.prototype.propertyIsEnumerable,rF=Reflect.get;var Pb=(n,e,t)=>e in n?mm(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,O=(n,e)=>{for(var t in e||={})kb.call(e,t)&&Pb(n,t,e[t]);if(Mb)for(var t of Mb(e))nF.call(e,t)&&Pb(n,t,e[t]);return n},se=(n,e)=>J1(n,eF(e));var X8=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var iF=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of tF(e))!kb.call(n,i)&&i!==t&&mm(n,i,{get:()=>e[i],enumerable:!(r=X1(e,i))||r.enumerable});return n};var e5=(n,e,t)=>(t=n!=null?Z1(xb(n)):{},iF(e||!n||!n.__esModule?mm(t,"default",{value:n,enumerable:!0}):t,n));var si=(n,e,t)=>rF(xb(n),t,e);var v=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function Em(n,e){return Object.is(n,e)}var et=null,Ul=!1,Im=1,Ot=Symbol("SIGNAL");function ue(n){let e=et;return et=n,e}function wm(){return et}var ss={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function lc(n){if(Ul)throw new Error("");if(et===null)return;et.consumerOnSignalRead(n);let e=et.nextProducerIndex++;if(ql(et),e<et.producerNode.length&&et.producerNode[e]!==n&&uc(et)){let t=et.producerNode[e];zl(t,et.producerIndexOfThis[e])}et.producerNode[e]!==n&&(et.producerNode[e]=n,et.producerIndexOfThis[e]=uc(et)?Fb(n,et,e):0),et.producerLastReadVersion[e]=n.version}function Ob(){Im++}function Tm(n){if(!(uc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Im)){if(!n.producerMustRecompute(n)&&!Hl(n)){_m(n);return}n.producerRecomputeValue(n),_m(n)}}function Dm(n){if(n.liveConsumerNode===void 0)return;let e=Ul;Ul=!0;try{for(let t of n.liveConsumerNode)t.dirty||oF(t)}finally{Ul=e}}function bm(){return et?.consumerAllowSignalWrites!==!1}function oF(n){n.dirty=!0,Dm(n),n.consumerMarkedDirty?.(n)}function _m(n){n.dirty=!1,n.lastCleanEpoch=Im}function dc(n){return n&&(n.nextProducerIndex=0),ue(n)}function $l(n,e){if(ue(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(uc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)zl(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Hl(n){ql(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Tm(t),r!==t.version))return!0}return!1}function hc(n){if(ql(n),uc(n))for(let e=0;e<n.producerNode.length;e++)zl(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Fb(n,e,t){if(Lb(n),n.liveConsumerNode.length===0&&Vb(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Fb(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function zl(n,e){if(Lb(n),n.liveConsumerNode.length===1&&Vb(n))for(let r=0;r<n.producerNode.length;r++)zl(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];ql(i),i.producerIndexOfThis[r]=e}}function uc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ql(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Lb(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Vb(n){return n.producerNode!==void 0}function Gl(n,e){let t=Object.create(sF);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Tm(t),lc(t),t.value===Bl)throw t.error;return t.value};return r[Ot]=t,r}var ym=Symbol("UNSET"),vm=Symbol("COMPUTING"),Bl=Symbol("ERRORED"),sF=se(O({},ss),{value:ym,dirty:!0,error:null,equal:Em,kind:"computed",producerMustRecompute(n){return n.value===ym||n.value===vm},producerRecomputeValue(n){if(n.value===vm)throw new Error("Detected cycle in computations.");let e=n.value;n.value=vm;let t=dc(n),r,i=!1;try{r=n.computation(),ue(null),i=e!==ym&&e!==Bl&&r!==Bl&&n.equal(e,r)}catch(o){r=Bl,n.error=o}finally{$l(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function aF(){throw new Error}var jb=aF;function Ub(n){jb(n)}function Cm(n){jb=n}var cF=null;function Sm(n,e){let t=Object.create(Wl);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(lc(t),t.value);return r[Ot]=t,r}function fc(n,e){bm()||Ub(n),n.equal(n.value,e)||(n.value=e,uF(n))}function Am(n,e){bm()||Ub(n),fc(n,e(n.value))}var Wl=se(O({},ss),{equal:Em,value:void 0,kind:"signal"});function uF(n){n.version++,Ob(),Dm(n),cF?.()}function Rm(n){let e=ue(null);try{return n()}finally{ue(e)}}var Nm;function pc(){return Nm}function Tr(n){let e=Nm;return Nm=n,e}var Kl=Symbol("NotFound");function re(n){return typeof n=="function"}function as(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ql=as(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Qi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ue=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(re(r))try{r()}catch(o){e=o instanceof Ql?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Bb(o)}catch(s){e=e??[],s instanceof Ql?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ql(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Bb(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Qi(t,e)}remove(e){let{_finalizers:t}=this;t&&Qi(t,e),e instanceof n&&e._removeParent(this)}};Ue.EMPTY=(()=>{let n=new Ue;return n.closed=!0,n})();var Mm=Ue.EMPTY;function Yl(n){return n instanceof Ue||n&&"closed"in n&&re(n.remove)&&re(n.add)&&re(n.unsubscribe)}function Bb(n){re(n)?n():n.unsubscribe()}var Tn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var cs={setTimeout(n,e,...t){let{delegate:r}=cs;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=cs;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Zl(n){cs.setTimeout(()=>{let{onUnhandledError:e}=Tn;if(e)e(n);else throw n})}function Dr(){}var $b=Pm("C",void 0,void 0);function Hb(n){return Pm("E",void 0,n)}function zb(n){return Pm("N",n,void 0)}function Pm(n,e,t){return{kind:n,value:e,error:t}}var Yi=null;function us(n){if(Tn.useDeprecatedSynchronousErrorHandling){let e=!Yi;if(e&&(Yi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Yi;if(Yi=null,t)throw r}}else n()}function qb(n){Tn.useDeprecatedSynchronousErrorHandling&&Yi&&(Yi.errorThrown=!0,Yi.error=n)}var Zi=class extends Ue{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Yl(e)&&e.add(this)):this.destination=gF}static create(e,t,r){return new br(e,t,r)}next(e){this.isStopped?km(zb(e),this):this._next(e)}error(e){this.isStopped?km(Hb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?km($b,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},fF=Function.prototype.bind;function xm(n,e){return fF.call(n,e)}var Om=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Jl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Jl(r)}else Jl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Jl(t)}}},br=class extends Zi{constructor(e,t,r){super();let i;if(re(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Tn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xm(e.next,o),error:e.error&&xm(e.error,o),complete:e.complete&&xm(e.complete,o)}):i=e}this.destination=new Om(i)}};function Jl(n){Tn.useDeprecatedSynchronousErrorHandling?qb(n):Zl(n)}function pF(n){throw n}function km(n,e){let{onStoppedNotification:t}=Tn;t&&cs.setTimeout(()=>t(n,e))}var gF={closed:!0,next:Dr,error:pF,complete:Dr};var ls=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Nt(n){return n}function Xl(...n){return Fm(n)}function Fm(n){return n.length===0?Nt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var te=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=yF(t)?t:new br(t,r,i);return us(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Gb(r),new r((i,o)=>{let s=new br({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ls](){return this}pipe(...t){return Fm(t)(this)}toPromise(t){return t=Gb(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Gb(n){var e;return(e=n??Tn.Promise)!==null&&e!==void 0?e:Promise}function mF(n){return n&&re(n.next)&&re(n.error)&&re(n.complete)}function yF(n){return n&&n instanceof Zi||mF(n)&&Yl(n)}function Lm(n){return re(n?.lift)}function Z(n){return e=>{if(Lm(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Q(n,e,t,r,i){return new Vm(n,e,t,r,i)}var Vm=class extends Zi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ds(){return Z((n,e)=>{let t=null;n._refCount++;let r=Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var hs=class extends te{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Lm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ue;let t=this.getSubject();e.add(this.source.subscribe(Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ue.EMPTY)}return e}refCount(){return ds()(this)}};var Wb=as(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Se=(()=>{class n extends te{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ed(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Wb}next(t){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Mm:(this.currentObservers=null,o.push(t),new Ue(()=>{this.currentObservers=null,Qi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new te;return t.source=this,t}}return n.create=(e,t)=>new ed(e,t),n})(),ed=class extends Se{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Mm}};var ze=class extends Se{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var gc={now(){return(gc.delegate||Date).now()},delegate:void 0};var mc=class extends Se{constructor(e=1/0,t=1/0,r=gc){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var td=class extends Ue{constructor(e,t){super()}schedule(e,t=0){return this}};var yc={setInterval(n,e,...t){let{delegate:r}=yc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=yc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var fs=class extends td{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return yc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&yc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Qi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ps=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ps.now=gc.now;var gs=class extends ps{constructor(e,t=ps.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var dn=new gs(fs),jm=dn;var nd=class extends fs{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var rd=class extends gs{};var Um=new rd(nd);var yt=new te(n=>n.complete());function id(n){return n&&re(n.schedule)}function Bm(n){return n[n.length-1]}function od(n){return re(Bm(n))?n.pop():void 0}function Hn(n){return id(Bm(n))?n.pop():void 0}function Kb(n,e){return typeof Bm(n)=="number"?n.pop():e}function sd(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Yb(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function c(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function Qb(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ji(n){return this instanceof Ji?(this.v=n,this):new Ji(n)}function Zb(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(w){return Promise.resolve(w).then(m,p)}}function a(m,w){r[m]&&(i[m]=function(S){return new Promise(function(R,k){o.push([m,S,R,k])>1||c(m,S)})},w&&(i[m]=w(i[m])))}function c(m,w){try{l(r[m](w))}catch(S){g(o[0][3],S)}}function l(m){m.value instanceof Ji?Promise.resolve(m.value.v).then(h,p):g(o[0][2],m)}function h(m){c("next",m)}function p(m){c("throw",m)}function g(m,w){m(w),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Jb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Qb=="function"?Qb(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var ad=n=>n&&typeof n.length=="number"&&typeof n!="function";function cd(n){return re(n?.then)}function ud(n){return re(n[ls])}function ld(n){return Symbol.asyncIterator&&re(n?.[Symbol.asyncIterator])}function dd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function vF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hd=vF();function fd(n){return re(n?.[hd])}function pd(n){return Zb(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ji(t.read());if(i)return yield Ji(void 0);yield yield Ji(r)}}finally{t.releaseLock()}})}function gd(n){return re(n?.getReader)}function _e(n){if(n instanceof te)return n;if(n!=null){if(ud(n))return _F(n);if(ad(n))return EF(n);if(cd(n))return IF(n);if(ld(n))return Xb(n);if(fd(n))return wF(n);if(gd(n))return TF(n)}throw dd(n)}function _F(n){return new te(e=>{let t=n[ls]();if(re(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function EF(n){return new te(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function IF(n){return new te(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Zl)})}function wF(n){return new te(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Xb(n){return new te(e=>{DF(n,e).catch(t=>e.error(t))})}function TF(n){return Xb(pd(n))}function DF(n,e){var t,r,i,o;return Yb(this,void 0,void 0,function*(){try{for(t=Jb(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Ft(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function ai(n,e=0){return Z((t,r)=>{t.subscribe(Q(r,i=>Ft(r,n,()=>r.next(i),e),()=>Ft(r,n,()=>r.complete(),e),i=>Ft(r,n,()=>r.error(i),e)))})}function ci(n,e=0){return Z((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function eC(n,e){return _e(n).pipe(ci(e),ai(e))}function tC(n,e){return _e(n).pipe(ci(e),ai(e))}function nC(n,e){return new te(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function rC(n,e){return new te(t=>{let r;return Ft(t,e,()=>{r=n[hd](),Ft(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>re(r?.return)&&r.return()})}function md(n,e){if(!n)throw new Error("Iterable cannot be null");return new te(t=>{Ft(t,e,()=>{let r=n[Symbol.asyncIterator]();Ft(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function iC(n,e){return md(pd(n),e)}function oC(n,e){if(n!=null){if(ud(n))return eC(n,e);if(ad(n))return nC(n,e);if(cd(n))return tC(n,e);if(ld(n))return md(n,e);if(fd(n))return rC(n,e);if(gd(n))return iC(n,e)}throw dd(n)}function we(n,e){return e?oC(n,e):_e(n)}function W(...n){let e=Hn(n);return we(n,e)}function ms(n,e){let t=re(n)?n:()=>n,r=i=>i.error(t());return new te(e?i=>e.schedule(r,0,i):r)}function $m(n){return!!n&&(n instanceof te||re(n.lift)&&re(n.subscribe))}var Cr=as(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function sC(n){return n instanceof Date&&!isNaN(n)}function ee(n,e){return Z((t,r)=>{let i=0;t.subscribe(Q(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:bF}=Array;function CF(n,e){return bF(e)?n(...e):n(e)}function yd(n){return ee(e=>CF(n,e))}var{isArray:SF}=Array,{getPrototypeOf:AF,prototype:RF,keys:NF}=Object;function vd(n){if(n.length===1){let e=n[0];if(SF(e))return{args:e,keys:null};if(MF(e)){let t=NF(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function MF(n){return n&&typeof n=="object"&&AF(n)===RF}function _d(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function vc(...n){let e=Hn(n),t=od(n),{args:r,keys:i}=vd(n);if(r.length===0)return we([],e);let o=new te(PF(r,e,i?s=>_d(i,s):Nt));return t?o.pipe(yd(t)):o}function PF(n,e,t=Nt){return r=>{aC(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)aC(e,()=>{let l=we(n[c],e),h=!1;l.subscribe(Q(r,p=>{o[c]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function aC(n,e,t){n?Ft(t,n,e):e()}function cC(n,e,t,r,i,o,s,a){let c=[],l=0,h=0,p=!1,g=()=>{p&&!c.length&&!l&&e.complete()},m=S=>l<r?w(S):c.push(S),w=S=>{o&&e.next(S),l++;let R=!1;_e(t(S,h++)).subscribe(Q(e,k=>{i?.(k),o?m(k):e.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;c.length&&l<r;){let k=c.shift();s?Ft(e,s,()=>w(k)):w(k)}g()}catch(k){e.error(k)}}))};return n.subscribe(Q(e,m,()=>{p=!0,g()})),()=>{a?.()}}function Oe(n,e,t=1/0){return re(e)?Oe((r,i)=>ee((o,s)=>e(r,o,i,s))(_e(n(r,i))),t):(typeof e=="number"&&(t=e),Z((r,i)=>cC(r,i,n,t)))}function zn(n=1/0){return Oe(Nt,n)}function uC(){return zn(1)}function ui(...n){return uC()(we(n,Hn(n)))}function Ed(n){return new te(e=>{_e(n()).subscribe(e)})}function Hm(...n){let e=od(n),{args:t,keys:r}=vd(n),i=new te(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let h=0;h<s;h++){let p=!1;_e(t[h]).subscribe(Q(o,g=>{p||(p=!0,l--),a[h]=g},()=>c--,void 0,()=>{(!c||!p)&&(l||o.next(r?_d(r,a):a),o.complete())}))}});return e?i.pipe(yd(e)):i}function ys(n=0,e,t=jm){let r=-1;return e!=null&&(id(e)?t=e:r=e),new te(i=>{let o=sC(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function xF(n=0,e=dn){return n<0&&(n=0),ys(n,n,e)}function kF(...n){let e=Hn(n),t=Kb(n,1/0),r=n;return r.length?r.length===1?_e(r[0]):zn(t)(we(r,e)):yt}var OF=new te(Dr);function rt(n,e){return Z((t,r)=>{let i=0;t.subscribe(Q(r,o=>n.call(e,o,i++)&&r.next(o)))})}function lC(n){return Z((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(Q(t,l=>{r=!0,i=l,o||_e(n(l)).subscribe(o=Q(t,a,c))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function FF(n,e=dn){return lC(()=>ys(n,e))}function qn(n){return Z((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Q(t,void 0,void 0,s=>{o=_e(n(s,qn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function dC(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(Q(s,h=>{let p=l++;c=a?n(c,h,p):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Gn(n,e){return re(e)?Oe(n,e,1):Oe(n,1)}function LF(n,e=dn){return Z((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+n,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}t.subscribe(Q(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function li(n){return Z((e,t)=>{let r=!1;e.subscribe(Q(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function hn(n){return n<=0?()=>yt:Z((e,t)=>{let r=0;e.subscribe(Q(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function hC(){return Z((n,e)=>{n.subscribe(Q(e,Dr))})}function fC(n){return ee(()=>n)}function zm(n,e){return e?t=>ui(e.pipe(hn(1),hC()),t.pipe(zm(n))):Oe((t,r)=>_e(n(t,r)).pipe(hn(1),fC(t)))}function VF(n,e=dn){let t=ys(n,e);return zm(()=>t)}function pC(n,e=Nt){return n=n??jF,Z((t,r)=>{let i,o=!0;t.subscribe(Q(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function jF(n,e){return n===e}function Id(n=UF){return Z((e,t)=>{let r=!1;e.subscribe(Q(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function UF(){return new Cr}function di(n){return Z((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Sr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?rt((i,o)=>n(i,o,r)):Nt,hn(1),t?li(e):Id(()=>new Cr))}function vs(n){return n<=0?()=>yt:Z((e,t)=>{let r=[];e.subscribe(Q(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function qm(n,e){let t=arguments.length>=2;return r=>r.pipe(n?rt((i,o)=>n(i,o,r)):Nt,vs(1),t?li(e):Id(()=>new Cr))}function gC(){return Z((n,e)=>{let t,r=!1;n.subscribe(Q(e,i=>{let o=t;t=i,r&&e.next([o,i]),r=!0}))})}function BF(n){return Z((e,t)=>{let r,i=!1,o,s=()=>{r=e.subscribe(Q(t,void 0,void 0,a=>{o||(o=new Se,_e(n(o)).subscribe(Q(t,()=>r?s():i=!0))),o&&o.next(a)})),i&&(r.unsubscribe(),r=null,i=!1,s())};s()})}function _c(n,e){return Z(dC(n,e,arguments.length>=2,!0))}function Wm(n={}){let{connector:e=()=>new Se,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,l=0,h=!1,p=!1,g=()=>{a?.unsubscribe(),a=void 0},m=()=>{g(),s=c=void 0,h=p=!1},w=()=>{let S=s;m(),S?.unsubscribe()};return Z((S,R)=>{l++,!p&&!h&&g();let k=c=c??e();R.add(()=>{l--,l===0&&!p&&!h&&(a=Gm(w,i))}),k.subscribe(R),!s&&l>0&&(s=new br({next:H=>k.next(H),error:H=>{p=!0,g(),a=Gm(m,t,H),k.error(H)},complete:()=>{h=!0,g(),a=Gm(m,r),k.complete()}}),_e(S).subscribe(s))})(o)}}function Gm(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new br({next:()=>{r.unsubscribe(),n()}});return _e(e(...t)).subscribe(r)}function $F(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,Wm({connector:()=>new mc(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function HF(n){return rt((e,t)=>n<=t)}function wd(...n){let e=Hn(n);return Z((t,r)=>{(e?ui(n,t,e):ui(n,t)).subscribe(r)})}function Lt(n,e){return Z((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Q(r,c=>{i?.unsubscribe();let l=0,h=o++;_e(n(c,h)).subscribe(i=Q(r,p=>r.next(e?e(c,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Km(n){return Z((e,t)=>{_e(n).subscribe(Q(t,()=>t.complete(),Dr)),!t.closed&&e.subscribe(t)})}function lt(n,e,t){let r=re(n)||e||t?{next:n,error:e,complete:t}:n;return r?Z((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Q(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Nt}var cS="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",L=class extends Error{code;constructor(e,t){super(wv(e,t)),this.code=e}};function zF(n){return`NG0${Math.abs(n)}`}function wv(n,e){return`${zF(n)}${e?": "+e:""}`}var uS=Symbol("InputSignalNode#UNSET"),qF=se(O({},Wl),{transformFn:void 0,applyValueToInputSignal(n,e){fc(n,e)}});function lS(n,e){let t=Object.create(qF);t.value=n,t.transformFn=e?.transform;function r(){if(lc(t),t.value===uS){let i=null;throw new L(-950,i)}return t.value}return r[Ot]=t,r}function Mc(n){return{toString:n}.toString()}var Td="__parameters__";function GF(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function dS(n,e,t){return Mc(()=>{let r=GF(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,h){let p=c.hasOwnProperty(Td)?c[Td]:Object.defineProperty(c,Td,{value:[]})[Td];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var dt=globalThis;function Ae(n){for(let e in n)if(n[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function WF(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function jt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(jt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function ly(n,e){return n?e?`${n} ${e}`:n:e||""}var KF=Ae({__forward_ref__:Ae});function Ut(n){return n.__forward_ref__=Ut,n.toString=function(){return jt(this())},n}function Mt(n){return hS(n)?n():n}function hS(n){return typeof n=="function"&&n.hasOwnProperty(KF)&&n.__forward_ref__===Ut}function j(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Bt(n){return{providers:n.providers||[],imports:n.imports||[]}}function sh(n){return mC(n,pS)||mC(n,gS)}function fS(n){return sh(n)!==null}function mC(n,e){return n.hasOwnProperty(e)?n[e]:null}function QF(n){let e=n&&(n[pS]||n[gS]);return e||null}function yC(n){return n&&(n.hasOwnProperty(vC)||n.hasOwnProperty(YF))?n[vC]:null}var pS=Ae({\u0275prov:Ae}),vC=Ae({\u0275inj:Ae}),gS=Ae({ngInjectableDef:Ae}),YF=Ae({ngInjectorDef:Ae}),V=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=j({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function mS(n){return n&&!!n.\u0275providers}var ZF=Ae({\u0275cmp:Ae}),JF=Ae({\u0275dir:Ae}),XF=Ae({\u0275pipe:Ae}),eL=Ae({\u0275mod:Ae}),kd=Ae({\u0275fac:Ae}),Tc=Ae({__NG_ELEMENT_ID__:Ae}),_C=Ae({__NG_ENV_ID__:Ae});function no(n){return typeof n=="string"?n:n==null?"":String(n)}function tL(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():no(n)}function yS(n,e){throw new L(-200,n)}function Tv(n,e){throw new L(-201,!1)}var ce=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ce||{}),dy;function vS(){return dy}function Vt(n){let e=dy;return dy=n,e}function _S(n,e,t){let r=sh(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ce.Optional)return null;if(e!==void 0)return e;Tv(n,"Injector")}var nL={},eo=nL,hy="__NG_DI_FLAG__",Od=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Kl:eo,r)}},Fd="ngTempTokenPath",rL="ngTokenPath",iL=/\n/gm,oL="\u0275",EC="__source";function sL(n,e=ce.Default){if(pc()===void 0)throw new L(-203,!1);if(pc()===null)return _S(n,void 0,e);{let t=pc(),r;return t instanceof Od?r=t.injector:r=t,r.get(n,e&ce.Optional?null:void 0,e)}}function G(n,e=ce.Default){return(vS()||sL)(Mt(n),e)}function M(n,e=ce.Default){return G(n,ah(e))}function ah(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function fy(n){let e=[];for(let t=0;t<n.length;t++){let r=Mt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,o=ce.Default;for(let s=0;s<r.length;s++){let a=r[s],c=aL(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(G(i,o))}else e.push(G(r))}return e}function ES(n,e){return n[hy]=e,n.prototype[hy]=e,n}function aL(n){return n[hy]}function cL(n,e,t,r){let i=n[Fd];throw e[EC]&&i.unshift(e[EC]),n.message=uL(`
`+n.message,i,t,r),n[rL]=i,n[Fd]=null,n}function uL(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==oL?n.slice(2):n;let i=jt(e);if(Array.isArray(e))i=e.map(jt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):jt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(iL,`
  `)}`}var xt=ES(dS("Optional"),8);var IS=ES(dS("SkipSelf"),4);function ro(n,e){let t=n.hasOwnProperty(kd);return t?n[kd]:null}function lL(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function dL(n){return n.flat(Number.POSITIVE_INFINITY)}function Dv(n,e){n.forEach(t=>Array.isArray(t)?Dv(t,e):e(t))}function wS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ld(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function hL(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function fL(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function bv(n,e,t){let r=Pc(n,e);return r>=0?n[r|1]=t:(r=~r,fL(n,r,e,t)),r}function Qm(n,e){let t=Pc(n,e);if(t>=0)return n[t|1]}function Pc(n,e){return pL(n,e,1)}function pL(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var io={},Pt=[],bs=new V(""),TS=new V("",-1),DS=new V(""),Vd=class{get(e,t=eo){if(t===eo){let r=new Error(`NullInjectorError: No provider for ${jt(e)}!`);throw r.name="NullInjectorError",r}return t}};function bS(n,e){let t=n[eL]||null;if(!t&&e===!0)throw new Error(`Type ${jt(n)} does not have '\u0275mod' property.`);return t}function pi(n){return n[ZF]||null}function gL(n){return n[JF]||null}function mL(n){return n[XF]||null}function Xt(n){return{\u0275providers:n}}function yL(...n){return{\u0275providers:CS(!0,n),\u0275fromNgModule:!0}}function CS(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Dv(e,s=>{let a=s;py(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&SS(i,o),t}function SS(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Cv(i,o=>{e(o,r)})}}function py(n,e,t,r){if(n=Mt(n),!n)return!1;let i=null,o=yC(n),s=!o&&pi(n);if(!o&&!s){let c=n.ngModule;if(o=yC(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)py(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Dv(o.imports,h=>{py(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&SS(l,e)}if(!a){let l=ro(i)||(()=>new i);e({provide:i,useFactory:l,deps:Pt},i),e({provide:DS,useValue:i,multi:!0},i),e({provide:bs,useValue:()=>G(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;Cv(c,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Cv(n,e){for(let t of n)mS(t)&&(t=t.\u0275providers),Array.isArray(t)?Cv(t,e):e(t)}var vL=Ae({provide:String,useValue:Ae});function AS(n){return n!==null&&typeof n=="object"&&vL in n}function _L(n){return!!(n&&n.useExisting)}function EL(n){return!!(n&&n.useFactory)}function Cs(n){return typeof n=="function"}function IL(n){return!!n.useClass}var ch=new V(""),Ad={},IC={},Ym;function uh(){return Ym===void 0&&(Ym=new Vd),Ym}var it=class{},Dc=class extends it{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,my(e,s=>this.processProvider(s)),this.records.set(TS,_s(void 0,this)),i.has("environment")&&this.records.set(it,_s(void 0,this));let o=this.records.get(ch);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(DS,Pt,ce.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Kl:eo,r)}destroy(){Ic(this),this._destroyed=!0;let e=ue(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ue(e)}}onDestroy(e){return Ic(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ic(this);let t=Tr(this),r=Vt(void 0),i;try{return e()}finally{Tr(t),Vt(r)}}get(e,t=eo,r=ce.Default){if(Ic(this),e.hasOwnProperty(_C))return e[_C](this);r=ah(r);let i,o=Tr(this),s=Vt(void 0);try{if(!(r&ce.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=CL(e)&&sh(e);l&&this.injectableDefInScope(l)?c=_s(gy(e),Ad):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,r)}let a=r&ce.Self?uh():this.parent;return t=r&ce.Optional&&t===eo?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Fd]=a[Fd]||[]).unshift(jt(e)),o)throw a;return cL(a,e,"R3InjectorError",this.source)}else throw a}finally{Vt(s),Tr(o)}}resolveInjectorInitializers(){let e=ue(null),t=Tr(this),r=Vt(void 0),i;try{let o=this.get(bs,Pt,ce.Self);for(let s of o)s()}finally{Tr(t),Vt(r),ue(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(jt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Mt(e);let t=Cs(e)?e:Mt(e&&e.provide),r=TL(e);if(!Cs(e)&&e.multi===!0){let i=this.records.get(t);i||(i=_s(void 0,Ad,!0),i.factory=()=>fy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ue(null);try{return t.value===IC?yS(jt(e)):t.value===Ad&&(t.value=IC,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&bL(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ue(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Mt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function gy(n){let e=sh(n),t=e!==null?e.factory:ro(n);if(t!==null)return t;if(n instanceof V)throw new L(204,!1);if(n instanceof Function)return wL(n);throw new L(204,!1)}function wL(n){if(n.length>0)throw new L(204,!1);let t=QF(n);return t!==null?()=>t.factory(n):()=>new n}function TL(n){if(AS(n))return _s(void 0,n.useValue);{let e=RS(n);return _s(e,Ad)}}function RS(n,e,t){let r;if(Cs(n)){let i=Mt(n);return ro(i)||gy(i)}else if(AS(n))r=()=>Mt(n.useValue);else if(EL(n))r=()=>n.useFactory(...fy(n.deps||[]));else if(_L(n))r=(i,o)=>G(Mt(n.useExisting),o!==void 0&&o&ce.Optional?ce.Optional:void 0);else{let i=Mt(n&&(n.useClass||n.provide));if(DL(n))r=()=>new i(...fy(n.deps));else return ro(i)||gy(i)}return r}function Ic(n){if(n.destroyed)throw new L(205,!1)}function _s(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function DL(n){return!!n.deps}function bL(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function CL(n){return typeof n=="function"||typeof n=="object"&&n instanceof V}function my(n,e){for(let t of n)Array.isArray(t)?my(t,e):t&&mS(t)?my(t.\u0275providers,e):e(t)}function ot(n,e){let t;n instanceof Dc?(Ic(n),t=n):t=new Od(n);let r,i=Tr(t),o=Vt(void 0);try{return e()}finally{Tr(i),Vt(o)}}function Sv(){return vS()!==void 0||pc()!=null}function xc(n){if(!Sv())throw new L(-203,!1)}function SL(n){return typeof n=="function"}var Pr=0,ie=1,X=2,_t=3,Cn=4,$t=5,Ss=6,jd=7,tt=8,As=9,Ar=10,Pe=11,bc=12,wC=13,Fs=14,Jt=15,oo=16,Es=17,Rr=18,lh=19,NS=20,hi=21,Zm=22,so=23,fn=24,Ts=25,We=26,MS=1;var ao=7,Ud=8,Rs=9,vt=10;function fi(n){return Array.isArray(n)&&typeof n[MS]=="object"}function xr(n){return Array.isArray(n)&&n[MS]===!0}function Av(n){return(n.flags&4)!==0}function Ls(n){return n.componentOffset>-1}function dh(n){return(n.flags&1)===1}function Kn(n){return!!n.template}function Bd(n){return(n[X]&512)!==0}function Vs(n){return(n[X]&256)===256}var yy=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function PS(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var en=(()=>{let n=()=>xS;return n.ngInherit=!0,n})();function xS(n){return n.type.prototype.ngOnChanges&&(n.setInput=RL),AL}function AL(){let n=OS(this),e=n?.current;if(e){let t=n.previous;if(t===io)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function RL(n,e,t,r,i){let o=this.declaredInputs[r],s=OS(n)||NL(n,{previous:io,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new yy(l&&l.currentValue,t,c===io),PS(n,e,i,t)}var kS="__ngSimpleChanges__";function OS(n){return n[kS]||null}function NL(n,e){return n[kS]=e}var TC=null;var De=function(n,e=null,t){TC?.(n,e,t)},ML="svg",PL="math";function Qn(n){for(;Array.isArray(n);)n=n[Pr];return n}function FS(n,e){return Qn(e[n])}function er(n,e){return Qn(e[n.index])}function Rv(n,e){return n.data[e]}function Nv(n,e){return n[e]}function LS(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Yn(n,e){let t=e[n];return fi(t)?t:t[Pr]}function xL(n){return(n[X]&4)===4}function Mv(n){return(n[X]&128)===128}function kL(n){return xr(n[_t])}function gi(n,e){return e==null?null:n[e]}function VS(n){n[Es]=0}function jS(n){n[X]&1024||(n[X]|=1024,Mv(n)&&js(n))}function OL(n,e){for(;n>0;)e=e[Fs],n--;return e}function hh(n){return!!(n[X]&9216||n[fn]?.dirty)}function vy(n){n[Ar].changeDetectionScheduler?.notify(8),n[X]&64&&(n[X]|=1024),hh(n)&&js(n)}function js(n){n[Ar].changeDetectionScheduler?.notify(0);let e=co(n);for(;e!==null&&!(e[X]&8192||(e[X]|=8192,!Mv(e)));)e=co(e)}function US(n,e){if(Vs(n))throw new L(911,!1);n[hi]===null&&(n[hi]=[]),n[hi].push(e)}function FL(n,e){if(n[hi]===null)return;let t=n[hi].indexOf(e);t!==-1&&n[hi].splice(t,1)}function co(n){let e=n[_t];return xr(e)?e[_t]:e}function Pv(n){return n[jd]??=[]}function xv(n){return n.cleanup??=[]}function LL(n,e,t,r){let i=Pv(e);i.push(t),n.firstCreatePass&&xv(n).push(r,i.length-1)}var le={lFrame:GS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var _y=!1;function VL(){return le.lFrame.elementDepthCount}function jL(){le.lFrame.elementDepthCount++}function UL(){le.lFrame.elementDepthCount--}function kv(){return le.bindingsEnabled}function BS(){return le.skipHydrationRootTNode!==null}function BL(n){return le.skipHydrationRootTNode===n}function $L(){le.skipHydrationRootTNode=null}function J(){return le.lFrame.lView}function Me(){return le.lFrame.tView}function iee(n){return le.lFrame.contextLView=n,n[tt]}function oee(n){return le.lFrame.contextLView=null,n}function Et(){let n=$S();for(;n!==null&&n.type===64;)n=n.parent;return n}function $S(){return le.lFrame.currentTNode}function HL(){let n=le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function vi(n,e){let t=le.lFrame;t.currentTNode=n,t.isParent=e}function Ov(){return le.lFrame.isParent}function Fv(){le.lFrame.isParent=!1}function zL(){return le.lFrame.contextLView}function HS(){return _y}function $d(n){let e=_y;return _y=n,e}function fh(){let n=le.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function qL(){return le.lFrame.bindingIndex}function GL(n){return le.lFrame.bindingIndex=n}function go(){return le.lFrame.bindingIndex++}function Lv(n){let e=le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function WL(){return le.lFrame.inI18n}function KL(n,e){let t=le.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ey(e)}function QL(){return le.lFrame.currentDirectiveIndex}function Ey(n){le.lFrame.currentDirectiveIndex=n}function YL(n){let e=le.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Vv(){return le.lFrame.currentQueryIndex}function ph(n){le.lFrame.currentQueryIndex=n}function ZL(n){let e=n[ie];return e.type===2?e.declTNode:e.type===1?n[$t]:null}function zS(n,e,t){if(t&ce.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ce.Host);)if(i=ZL(o),i===null||(o=o[Fs],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=le.lFrame=qS();return r.currentTNode=e,r.lView=n,!0}function jv(n){let e=qS(),t=n[ie];le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function qS(){let n=le.lFrame,e=n===null?null:n.child;return e===null?GS(n):e}function GS(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function WS(){let n=le.lFrame;return le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var KS=WS;function Uv(){let n=WS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function JL(n){return(le.lFrame.contextLView=OL(n,le.lFrame.contextLView))[tt]}function kr(){return le.lFrame.selectedIndex}function uo(n){le.lFrame.selectedIndex=n}function kc(){let n=le.lFrame;return Rv(n.tView,n.selectedIndex)}function XL(){return le.lFrame.currentNamespace}var QS=!0;function gh(){return QS}function mh(n){QS=n}function eV(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=xS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Bv(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Rd(n,e,t){YS(n,e,3,t)}function Nd(n,e,t,r){(n[X]&3)===t&&YS(n,e,t,r)}function Jm(n,e){let t=n[X];(t&3)===e&&(t&=16383,t+=1,n[X]=t)}function YS(n,e,t,r){let i=r!==void 0?n[Es]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Es]+=65536),(a<o||o==-1)&&(tV(n,t,e,c),n[Es]=(n[Es]&4294901760)+c+2),c++}function DC(n,e){De(4,n,e);let t=ue(null);try{e.call(n)}finally{ue(t),De(5,n,e)}}function tV(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[X]>>14<n[Es]>>16&&(n[X]&3)===e&&(n[X]+=16384,DC(a,o)):DC(a,o)}var Ds=-1,lo=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function nV(n){return(n.flags&8)!==0}function rV(n){return(n.flags&16)!==0}function iV(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];oV(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function ZS(n){return n===3||n===4||n===6}function oV(n){return n.charCodeAt(0)===64}function Ns(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?bC(n,t,i,null,e[++r]):bC(n,t,i,null,null))}}return n}function bC(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function JS(n){return n!==Ds}function Hd(n){return n&32767}function sV(n){return n>>16}function zd(n,e){let t=sV(n),r=e;for(;t>0;)r=r[Fs],t--;return r}var Iy=!0;function qd(n){let e=Iy;return Iy=n,e}var aV=256,XS=aV-1,e0=5,cV=0,Wn={};function uV(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Tc)&&(r=t[Tc]),r==null&&(r=t[Tc]=cV++);let i=r&XS,o=1<<i;e.data[n+(i>>e0)]|=o}function Gd(n,e){let t=t0(n,e);if(t!==-1)return t;let r=e[ie];r.firstCreatePass&&(n.injectorIndex=e.length,Xm(r.data,n),Xm(e,null),Xm(r.blueprint,null));let i=$v(n,e),o=n.injectorIndex;if(JS(i)){let s=Hd(i),a=zd(i,e),c=a[ie].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Xm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function t0(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function $v(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=s0(i),r===null)return Ds;if(t++,i=i[Fs],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ds}function wy(n,e,t){uV(n,e,t)}function lV(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(ZS(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function n0(n,e,t){if(t&ce.Optional||n!==void 0)return n;Tv(e,"NodeInjector")}function r0(n,e,t,r){if(t&ce.Optional&&r===void 0&&(r=null),(t&(ce.Self|ce.Host))===0){let i=n[As],o=Vt(void 0);try{return i?i.get(e,r,t&ce.Optional):_S(e,r,t&ce.Optional)}finally{Vt(o)}}return n0(r,e,t)}function i0(n,e,t,r=ce.Default,i){if(n!==null){if(e[X]&2048&&!(r&ce.Self)){let s=pV(n,e,t,r,Wn);if(s!==Wn)return s}let o=o0(n,e,t,r,Wn);if(o!==Wn)return o}return r0(e,t,r,i)}function o0(n,e,t,r,i){let o=hV(t);if(typeof o=="function"){if(!zS(e,n,r))return r&ce.Host?n0(i,t,r):r0(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ce.Optional))Tv(t);else return s}finally{KS()}}else if(typeof o=="number"){let s=null,a=t0(n,e),c=Ds,l=r&ce.Host?e[Jt][$t]:null;for((a===-1||r&ce.SkipSelf)&&(c=a===-1?$v(n,e):e[a+8],c===Ds||!SC(r,!1)?a=-1:(s=e[ie],a=Hd(c),e=zd(c,e)));a!==-1;){let h=e[ie];if(CC(o,a,h.data)){let p=dV(a,e,t,s,r,l);if(p!==Wn)return p}c=e[a+8],c!==Ds&&SC(r,e[ie].data[a+8]===l)&&CC(o,a,e)?(s=h,a=Hd(c),e=zd(c,e)):a=-1}}return i}function dV(n,e,t,r,i,o){let s=e[ie],a=s.data[n+8],c=r==null?Ls(a)&&Iy:r!=s&&(a.type&3)!==0,l=i&ce.Host&&o===a,h=Md(a,s,t,c,l);return h!==null?Cc(e,s,h,a,i):Wn}function Md(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let m=p;m<g;m++){let w=s[m];if(m<c&&t===w||m>=c&&w.type===t)return m}if(i){let m=s[c];if(m&&Kn(m)&&m.type===t)return c}return null}function Cc(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof lo){let a=o;a.resolving&&yS(tL(s[t]));let c=qd(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?Vt(a.injectImpl):null,p=zS(n,r,ce.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&eV(t,s[t],e)}finally{h!==null&&Vt(h),qd(c),a.resolving=!1,KS()}}return o}function hV(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Tc)?n[Tc]:void 0;return typeof e=="number"?e>=0?e&XS:fV:e}function CC(n,e,t){let r=1<<n;return!!(t[e+(n>>e0)]&r)}function SC(n,e){return!(n&ce.Self)&&!(n&ce.Host&&e)}var to=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return i0(this._tNode,this._lView,e,ah(r),t)}};function fV(){return new to(Et(),J())}function tr(n){return Mc(()=>{let e=n.prototype.constructor,t=e[kd]||Ty(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[kd]||Ty(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ty(n){return hS(n)?()=>{let e=Ty(Mt(n));return e&&e()}:ro(n)}function pV(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[X]&2048&&!Bd(s);){let a=o0(o,s,t,r|ce.Self,Wn);if(a!==Wn)return a;let c=o.parent;if(!c){let l=s[NS];if(l){let h=l.get(t,Wn,r);if(h!==Wn)return h}c=s0(s),s=s[Fs]}o=c}return i}function s0(n){let e=n[ie],t=e.type;return t===2?e.declTNode:t===1?n[$t]:null}function yh(n){return lV(Et(),n)}function AC(n,e=null,t=null,r){let i=a0(n,e,t,r);return i.resolveInjectorInitializers(),i}function a0(n,e=null,t=null,r,i=new Set){let o=[t||Pt,yL(n)];return r=r||(typeof n=="object"?void 0:jt(n)),new Dc(o,e||uh(),r||null,i)}var Le=class n{static THROW_IF_NOT_FOUND=eo;static NULL=new Vd;static create(e,t){if(Array.isArray(e))return AC({name:""},t,e,"");{let r=e.name??"";return AC({name:r},e.parent,e.providers,r)}}static \u0275prov=j({token:n,providedIn:"any",factory:()=>G(TS)});static __NG_ELEMENT_ID__=-1};var RC=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>yh(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},gV=new V("");gV.__NG_ELEMENT_ID__=n=>{let e=Et();if(e===null)throw new L(204,!1);if(e.type&2)return e.value;if(n&ce.Optional)return null;throw new L(204,!1)};var c0=!1,Or=(()=>{class n{static __NG_ELEMENT_ID__=mV;static __NG_ENV_ID__=t=>t}return n})(),Wd=class extends Or{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return Vs(t)?(e(),()=>{}):(US(t,e),()=>FL(t,e))}};function mV(){return new Wd(J())}var mi=class{},vh=new V("",{providedIn:"root",factory:()=>!1});var u0=new V(""),l0=new V(""),nr=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ze(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),_h=(()=>{class n{internalPendingTasks=M(nr);scheduler=M(mi);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return v(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),Dy=class extends Se{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Sv()&&(this.destroyRef=M(Or,{optional:!0})??void 0,this.pendingTasks=M(nr,{optional:!0})??void 0)}emit(e){let t=ue(null);try{super.next(e)}finally{ue(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ue&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Fe=Dy;function Sc(...n){}function d0(n){let e,t;function r(){n=Sc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function NC(n){return queueMicrotask(()=>n()),()=>{n=Sc}}var Hv="isAngularZone",Kd=Hv+"_ID",yV=0,he=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Fe(!1);onMicrotaskEmpty=new Fe(!1);onStable=new Fe(!1);onError=new Fe(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=c0}=e;if(typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,EV(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Hv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new L(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,vV,Sc,Sc);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},vV={};function zv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function _V(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){d0(()=>{n.callbackScheduled=!1,by(n),n.isCheckStableRunning=!0,zv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),by(n)}function EV(n){let e=()=>{_V(n)},t=yV++;n._inner=n._inner.fork({name:"angular",properties:{[Hv]:!0,[Kd]:t,[Kd+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(IV(c))return r.invokeTask(o,s,a,c);try{return MC(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),PC(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return MC(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!wV(c)&&e(),PC(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,by(n),zv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function by(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function MC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function PC(n){n._nesting--,zv(n)}var Cy=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Fe;onMicrotaskEmpty=new Fe;onStable=new Fe;onError=new Fe;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function IV(n){return h0(n,"__ignore_ng_zone__")}function wV(n){return h0(n,"__scheduler_tick__")}function h0(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Zn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},TV=new V("",{providedIn:"root",factory:()=>{let n=M(he),e=M(Zn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function xC(n,e){return lS(n,e)}function DV(n){return lS(uS,n)}var f0=(xC.required=DV,xC);function bV(){return Us(Et(),J())}function Us(n,e){return new It(er(n,e))}var It=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=bV}return n})();function p0(n){return n instanceof It?n.nativeElement:n}function CV(n){return typeof n=="function"&&n[Ot]!==void 0}function _i(n,e){let t=Sm(n,e?.equal),r=t[Ot];return t.set=i=>fc(r,i),t.update=i=>Am(r,i),t.asReadonly=SV.bind(t),t}function SV(){let n=this[Ot];if(n.readonlyFn===void 0){let e=()=>this();e[Ot]=n,n.readonlyFn=e}return n.readonlyFn}function g0(n){return CV(n)&&typeof n.set=="function"}function AV(){return this._results[Symbol.iterator]()}var Sy=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Se}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=dL(e);(this._changesDetected=!lL(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=AV};function m0(n){return(n.flags&128)===128}var y0=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(y0||{}),v0=new Map,RV=0;function NV(){return RV++}function MV(n){v0.set(n[lh],n)}function Ay(n){v0.delete(n[lh])}var kC="__ngContext__";function Bs(n,e){fi(e)?(n[kC]=e[lh],MV(e)):n[kC]=e}function _0(n){return I0(n[bc])}function E0(n){return I0(n[Cn])}function I0(n){for(;n!==null&&!xr(n);)n=n[Cn];return n}var Ry;function w0(n){Ry=n}function T0(){if(Ry!==void 0)return Ry;if(typeof document<"u")return document;throw new L(210,!1)}var qv=new V("",{providedIn:"root",factory:()=>PV}),PV="ng",Gv=new V(""),Ei=new V("",{providedIn:"platform",factory:()=>"unknown"});var see=new V(""),Wv=new V("",{providedIn:"root",factory:()=>T0().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var xV="h",kV="b";var D0=!1,OV=new V("",{providedIn:"root",factory:()=>D0});var Kv=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Kv||{}),$s=new V(""),OC=new Set;function Fr(n){OC.has(n)||(OC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Qv=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=FV}return n})();function FV(){return new Qv(J(),Et())}var Is=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Is||{}),b0=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),LV=[Is.EarlyRead,Is.Write,Is.MixedReadWrite,Is.Read],VV=(()=>{class n{ngZone=M(he);scheduler=M(mi);errorHandler=M(Zn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){M($s,{optional:!0})}execute(){let t=this.sequences.size>0;t&&De(16),this.executing=!0;for(let r of LV)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&De(17)}register(t){let{view:r}=t;r!==void 0?((r[Ts]??=[]).push(t),js(r),r[X]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Kv.AFTER_NEXT_RENDER,t):t()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ny=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ts];e&&(this.view[Ts]=e.filter(t=>t!==this))}};function jV(n,e){!e?.injector&&xc(jV);let t=e?.injector??M(Le);return Fr("NgAfterRender"),C0(n,t,e,!1)}function Yv(n,e){!e?.injector&&xc(Yv);let t=e?.injector??M(Le);return Fr("NgAfterNextRender"),C0(n,t,e,!0)}function UV(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function C0(n,e,t,r){let i=e.get(b0);i.impl??=e.get(VV);let o=e.get($s,null,{optional:!0}),s=t?.phase??Is.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(Or):null,c=e.get(Qv,null,{optional:!0}),l=new Ny(i.impl,UV(n,s),c?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var BV=(n,e,t,r)=>{};function $V(n,e,t,r){BV(n,e,t,r)}var HV=()=>null;function S0(n,e,t=!1){return HV(n,e,t)}function A0(n,e){let t=n.contentQueries;if(t!==null){let r=ue(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];ph(o),a.contentQueries(2,e[s],s)}}}finally{ue(r)}}}function My(n,e,t){ph(0);let r=ue(null);try{e(n,t)}finally{ue(r)}}function Zv(n,e,t){if(Av(e)){let r=ue(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{ue(r)}}}var Jn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Jn||{}),Dd;function R0(){if(Dd===void 0&&(Dd=null,dt.trustedTypes))try{Dd=dt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Dd}function Eh(n){return R0()?.createHTML(n)||n}function zV(n){return R0()?.createScriptURL(n)||n}var bd;function N0(){if(bd===void 0&&(bd=null,dt.trustedTypes))try{bd=dt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return bd}function FC(n){return N0()?.createHTML(n)||n}function LC(n){return N0()?.createScriptURL(n)||n}var Nr=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cS})`}},Py=class extends Nr{getTypeName(){return"HTML"}},xy=class extends Nr{getTypeName(){return"Style"}},ky=class extends Nr{getTypeName(){return"Script"}},Oy=class extends Nr{getTypeName(){return"URL"}},Fy=class extends Nr{getTypeName(){return"ResourceURL"}};function gn(n){return n instanceof Nr?n.changingThisBreaksApplicationSecurity:n}function Lr(n,e){let t=qV(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${cS})`)}return t===e}function qV(n){return n instanceof Nr&&n.getTypeName()||null}function M0(n){return new Py(n)}function P0(n){return new xy(n)}function x0(n){return new ky(n)}function k0(n){return new Oy(n)}function O0(n){return new Fy(n)}function GV(n){let e=new Vy(n);return WV()?new Ly(e):e}var Ly=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Eh(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Vy=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Eh(e),t}};function WV(){try{return!!new window.DOMParser().parseFromString(Eh(""),"text/html")}catch{return!1}}var KV=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ih(n){return n=String(n),n.match(KV)?n:"unsafe:"+n}function Vr(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Oc(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var F0=Vr("area,br,col,hr,img,wbr"),L0=Vr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),V0=Vr("rp,rt"),QV=Oc(V0,L0),YV=Oc(L0,Vr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ZV=Oc(V0,Vr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),VC=Oc(F0,YV,ZV,QV),j0=Vr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),JV=Vr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),XV=Vr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),ej=Oc(j0,JV,XV),tj=Vr("script,style,template"),jy=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=ij(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=rj(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=jC(e).toLowerCase();if(!VC.hasOwnProperty(t))return this.sanitizedSomething=!0,!tj.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!ej.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;j0[a]&&(c=Ih(c)),this.buf.push(" ",s,'="',UC(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=jC(e).toLowerCase();VC.hasOwnProperty(t)&&!F0.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(UC(e))}};function nj(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function rj(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw U0(e);return e}function ij(n){let e=n.firstChild;if(e&&nj(n,e))throw U0(e);return e}function jC(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function U0(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var oj=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sj=/([^\#-~ |!])/g;function UC(n){return n.replace(/&/g,"&amp;").replace(oj,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(sj,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Cd;function Jv(n,e){let t=null;try{Cd=Cd||GV(n);let r=e?String(e):"";t=Cd.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Cd.getInertBodyElement(r)}while(r!==o);let a=new jy().sanitizeChildren(BC(t)||t);return Eh(a)}finally{if(t){let r=BC(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function BC(n){return"content"in n&&aj(n)?n.content:null}function aj(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Sn=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Sn||{});function aee(n){let e=Xv();return e?FC(e.sanitize(Sn.HTML,n)||""):Lr(n,"HTML")?FC(gn(n)):Jv(T0(),no(n))}function cj(n){let e=Xv();return e?e.sanitize(Sn.URL,n)||"":Lr(n,"URL")?gn(n):Ih(no(n))}function uj(n){let e=Xv();if(e)return LC(e.sanitize(Sn.RESOURCE_URL,n)||"");if(Lr(n,"ResourceURL"))return LC(gn(n));throw new L(904,!1)}function cee(n){return zV(n[0])}function lj(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?uj:cj}function B0(n,e,t){return lj(e,t)(n)}function Xv(){let n=J();return n&&n[Ar].sanitizer}var dj=/^>|^->|<!--|-->|--!>|<!-$/g,hj=/(<|>)/g,fj="\u200B$1\u200B";function pj(n){return n.replace(dj,e=>e.replace(hj,fj))}function $0(n){return n instanceof Function?n():n}function gj(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var H0="ng-template";function mj(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&gj(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(e_(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function e_(n){return n.type===4&&n.value!==H0}function yj(n,e,t){let r=n.type===4&&!t?H0:n.value;return e===r}function vj(n,e,t){let r=4,i=n.attrs,o=i!==null?Ij(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Dn(r)&&!Dn(c))return!1;if(s&&Dn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!yj(n,c,t)||c===""&&e.length===1){if(Dn(r))return!1;s=!0}}else if(r&8){if(i===null||!mj(n,i,c,t)){if(Dn(r))return!1;s=!0}}else{let l=e[++a],h=_j(c,i,e_(n),t);if(h===-1){if(Dn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Dn(r))return!1;s=!0}}}}return Dn(r)||s}function Dn(n){return(n&1)===0}function _j(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return wj(e,n)}function z0(n,e,t=!1){for(let r=0;r<e.length;r++)if(vj(n,e[r],t))return!0;return!1}function Ej(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function Ij(n){for(let e=0;e<n.length;e++){let t=n[e];if(ZS(t))return e}return n.length}function wj(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Tj(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function $C(n,e){return n?":not("+e.trim()+")":e}function Dj(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Dn(s)&&(e+=$C(o,i),i=""),r=s,o=o||!Dn(r);t++}return i!==""&&(e+=$C(o,i)),e}function bj(n){return n.map(Dj).join(",")}function Cj(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Dn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Ht={};function Sj(n,e){return n.createText(e)}function Aj(n,e,t){n.setValue(e,t)}function Rj(n,e){return n.createComment(pj(e))}function q0(n,e,t){return n.createElement(e,t)}function Qd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function G0(n,e,t){n.appendChild(e,t)}function HC(n,e,t,r,i){r!==null?Qd(n,e,t,r,i):G0(n,e,t)}function Nj(n,e,t){n.removeChild(null,e,t)}function Mj(n,e,t){n.setAttribute(e,"style",t)}function Pj(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function W0(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&iV(n,e,r),i!==null&&Pj(n,e,i),o!==null&&Mj(n,e,o)}function t_(n,e,t,r,i,o,s,a,c,l,h){let p=We+r,g=p+i,m=xj(p,g),w=typeof l=="function"?l():l;return m[ie]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:h}}function xj(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ht);return t}function kj(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=t_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function n_(n,e,t,r,i,o,s,a,c,l,h){let p=e.blueprint.slice();return p[Pr]=i,p[X]=r|4|128|8|64|1024,(l!==null||n&&n[X]&2048)&&(p[X]|=2048),VS(p),p[_t]=p[Fs]=n,p[tt]=t,p[Ar]=s||n&&n[Ar],p[Pe]=a||n&&n[Pe],p[As]=c||n&&n[As]||null,p[$t]=o,p[lh]=NV(),p[Ss]=h,p[NS]=l,p[Jt]=e.type==2?n[Jt]:p,p}function Oj(n,e,t){let r=er(e,n),i=kj(t),o=n[Ar].rendererFactory,s=r_(n,n_(n,i,null,K0(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function K0(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Q0(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function r_(n,e){return n[bc]?n[wC][Cn]=e:n[bc]=e,n[wC]=e,e}function uee(n=1){Y0(Me(),J(),kr()+n,!1)}function Y0(n,e,t,r){if(!r)if((e[X]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Rd(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Nd(e,o,0,t)}uo(t)}var wh=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(wh||{});function Uy(n,e,t,r){let i=ue(null);try{let[o,s,a]=n.inputs[t],c=null;(s&wh.SignalBased)!==0&&(c=e[o][Ot]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):PS(e,c,o,r)}finally{ue(i)}}function Z0(n,e,t,r,i){let o=kr(),s=r&2;try{uo(-1),s&&e.length>We&&Y0(n,e,We,!1),De(s?2:0,i),t(r,i)}finally{uo(o),De(s?3:1,i)}}function Th(n,e,t){Bj(n,e,t),(t.flags&64)===64&&$j(n,e,t)}function i_(n,e,t=er){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function Fj(n,e,t,r){let o=r.get(OV,D0)||t===Jn.ShadowDom,s=n.selectRootElement(e,o);return Lj(s),s}function Lj(n){Vj(n)}var Vj=()=>null;function jj(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Dh(n,e,t,r,i,o,s,a){if(!a&&s_(e,n,t,r,i)){Ls(e)&&Uj(t,e.index);return}if(e.type&3){let c=er(e,t);r=jj(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)}else e.type&12}function Uj(n,e){let t=Yn(e,n);t[X]&16||(t[X]|=64)}function Bj(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Ls(t)&&Oj(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Gd(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=Cc(e,n,s,t);if(Bs(c,e),o!==null&&Gj(e,s-r,c,a,t,o),Kn(a)){let l=Yn(t.index,e);l[tt]=Cc(e,n,s,t)}}}function $j(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=QL();try{uo(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];Ey(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Hj(c,l)}}finally{uo(-1),Ey(s)}}function Hj(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function o_(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];z0(e,o.selectors,!1)&&(r??=[],Kn(o)?r.unshift(o):r.push(o))}return r}function zj(n,e,t,r,i,o){let s=er(n,e);qj(e[Pe],s,o,n.value,t,r,i)}function qj(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?no(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function Gj(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Uy(r,t,c,l)}}function Wj(n,e){let t=n[As],r=t?t.get(Zn,null):null;r&&r.handleError(e)}function s_(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],h=s[c+1],p=e.data[l];Uy(p,t[l],h,i),a=!0}if(o)for(let c of o){let l=t[c],h=e.data[c];Uy(h,l,r,i),a=!0}return a}function Kj(n,e){let t=Yn(e,n),r=t[ie];Qj(r,t);let i=t[Pr];i!==null&&t[Ss]===null&&(t[Ss]=S0(i,t[As])),De(18),a_(r,t,t[tt]),De(19,t[tt])}function Qj(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function a_(n,e,t){jv(e);try{let r=n.viewQuery;r!==null&&My(1,r,t);let i=n.template;i!==null&&Z0(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Rr]?.finishViewCreation(n),n.staticContentQueries&&A0(n,e),n.staticViewQueries&&My(2,n.viewQuery,t);let o=n.components;o!==null&&Yj(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[X]&=-5,Uv()}}function Yj(n,e){for(let t=0;t<e.length;t++)Kj(n,e[t])}function Fc(n,e,t,r){let i=ue(null);try{let o=e.tView,a=n[X]&4096?4096:16,c=n_(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[oo]=l;let h=n[Rr];return h!==null&&(c[Rr]=h.createEmbeddedView(o)),a_(o,c,t),c}finally{ue(i)}}function Ms(n,e){return!e||e.firstChild===null||m0(n)}var Zj;function c_(n,e){return Zj(n,e)}var Xn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Xn||{});function u_(n){return(n.flags&32)===32}function ws(n,e,t,r,i){if(r!=null){let o,s=!1;xr(r)?o=r:fi(r)&&(s=!0,r=r[Pr]);let a=Qn(r);n===0&&t!==null?i==null?G0(e,t,a):Qd(e,t,a,i||null,!0):n===1&&t!==null?Qd(e,t,a,i||null,!0):n===2?Nj(e,a,s):n===3&&e.destroyNode(a),o!=null&&a2(e,n,o,t,i)}}function Jj(n,e){J0(n,e),e[Pr]=null,e[$t]=null}function Xj(n,e,t,r,i,o){r[Pr]=i,r[$t]=e,Sh(n,r,t,1,i,o)}function J0(n,e){e[Ar].changeDetectionScheduler?.notify(9),Sh(n,e,e[Pe],2,null,null)}function e2(n){let e=n[bc];if(!e)return ey(n[ie],n);for(;e;){let t=null;if(fi(e))t=e[bc];else{let r=e[vt];r&&(t=r)}if(!t){for(;e&&!e[Cn]&&e!==n;)fi(e)&&ey(e[ie],e),e=e[_t];e===null&&(e=n),fi(e)&&ey(e[ie],e),t=e&&e[Cn]}e=t}}function l_(n,e){let t=n[Rs],r=t.indexOf(e);t.splice(r,1)}function bh(n,e){if(Vs(e))return;let t=e[Pe];t.destroyNode&&Sh(n,e,t,3,null,null),e2(e)}function ey(n,e){if(Vs(e))return;let t=ue(null);try{e[X]&=-129,e[X]|=256,e[fn]&&hc(e[fn]),n2(n,e),t2(n,e),e[ie].type===1&&e[Pe].destroy();let r=e[oo];if(r!==null&&xr(e[_t])){r!==e[_t]&&l_(r,e);let i=e[Rr];i!==null&&i.detachView(n)}Ay(e)}finally{ue(t)}}function t2(n,e){let t=n.cleanup,r=e[jd];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[jd]=null);let i=e[hi];if(i!==null){e[hi]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[so];if(o!==null){e[so]=null;for(let s of o)s.destroy()}}function n2(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof lo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];De(4,a,c);try{c.call(a)}finally{De(5,a,c)}}else{De(4,i,o);try{o.call(i)}finally{De(5,i,o)}}}}}function X0(n,e,t){return r2(n,e.parent,t)}function r2(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Pr];if(Ls(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Jn.None||i===Jn.Emulated)return null}return er(r,t)}function eA(n,e,t){return o2(n,e,t)}function i2(n,e,t){return n.type&40?er(n,t):null}var o2=i2,zC;function Ch(n,e,t,r){let i=X0(n,r,e),o=e[Pe],s=r.parent||e[$t],a=eA(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)HC(o,i,t[c],a,!1);else HC(o,i,t,a,!1);zC!==void 0&&zC(o,r,e,t,i)}function wc(n,e){if(e!==null){let t=e.type;if(t&3)return er(e,n);if(t&4)return By(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return wc(n,r);{let i=n[e.index];return xr(i)?By(-1,i):Qn(i)}}else{if(t&128)return wc(n,e.next);if(t&32)return c_(e,n)()||Qn(n[e.index]);{let r=tA(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=co(n[Jt]);return wc(i,r)}else return wc(n,e.next)}}}return null}function tA(n,e){if(e!==null){let r=n[Jt][$t],i=e.projection;return r.projection[i]}return null}function By(n,e){let t=vt+n+1;if(t<e.length){let r=e[t],i=r[ie].firstChild;if(i!==null)return wc(r,i)}return e[ao]}function d_(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&Bs(Qn(a),r),t.flags|=2),!u_(t))if(c&8)d_(n,e,t.child,r,i,o,!1),ws(e,n,i,a,o);else if(c&32){let l=c_(t,r),h;for(;h=l();)ws(e,n,i,h,o);ws(e,n,i,a,o)}else c&16?nA(n,e,r,t,i,o):ws(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Sh(n,e,t,r,i,o){d_(t,r,n.firstChild,e,i,o,!1)}function s2(n,e,t){let r=e[Pe],i=X0(n,t,e),o=t.parent||e[$t],s=eA(o,t,e);nA(r,0,e,t,i,s)}function nA(n,e,t,r,i,o){let s=t[Jt],c=s[$t].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let h=c[l];ws(e,n,i,h,o)}else{let l=c,h=s[_t];m0(r)&&(l.flags|=128),d_(n,e,l,h,i,o,!0)}}function a2(n,e,t,r,i){let o=t[ao],s=Qn(t);o!==s&&ws(e,n,r,o,i);for(let a=vt;a<t.length;a++){let c=t[a];Sh(c[ie],c,n,e,r,o)}}function c2(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Xn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Xn.Important),n.setStyle(t,r,i,o))}}function Yd(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Qn(o)),xr(o)&&u2(o,r);let s=t.type;if(s&8)Yd(n,e,t.child,r);else if(s&32){let a=c_(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=tA(e,t);if(Array.isArray(a))r.push(...a);else{let c=co(e[Jt]);Yd(c[ie],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function u2(n,e){for(let t=vt;t<n.length;t++){let r=n[t],i=r[ie].firstChild;i!==null&&Yd(r[ie],r,i,e)}n[ao]!==n[Pr]&&e.push(n[ao])}function rA(n){if(n[Ts]!==null){for(let e of n[Ts])e.impl.addSequence(e);n[Ts].length=0}}var iA=[];function l2(n){return n[fn]??d2(n)}function d2(n){let e=iA.pop()??Object.create(f2);return e.lView=n,e}function h2(n){n.lView[fn]!==n&&(n.lView=null,iA.push(n))}var f2=se(O({},ss),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{js(n.lView)},consumerOnSignalRead(){this.lView[fn]=this}});function p2(n){let e=n[fn]??Object.create(g2);return e.lView=n,e}var g2=se(O({},ss),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=co(n.lView);for(;e&&!oA(e[ie]);)e=co(e);e&&jS(e)},consumerOnSignalRead(){this.lView[fn]=this}});function oA(n){return n.type!==2}function sA(n){if(n[so]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[so])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[X]&8192)}}var m2=100;function aA(n,e=!0,t=0){let i=n[Ar].rendererFactory,o=!1;o||i.begin?.();try{y2(n,t)}catch(s){throw e&&Wj(n,s),s}finally{o||i.end?.()}}function y2(n,e){let t=HS();try{$d(!0),$y(n,e);let r=0;for(;hh(n);){if(r===m2)throw new L(103,!1);r++,$y(n,1)}}finally{$d(t)}}function v2(n,e,t,r){if(Vs(e))return;let i=e[X],o=!1,s=!1;jv(e);let a=!0,c=null,l=null;o||(oA(n)?(l=l2(e),c=dc(l)):wm()===null?(a=!1,l=p2(e),c=dc(l)):e[fn]&&(hc(e[fn]),e[fn]=null));try{VS(e),GL(n.bindingStartIndex),t!==null&&Z0(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let m=n.preOrderCheckHooks;m!==null&&Rd(e,m,null)}else{let m=n.preOrderHooks;m!==null&&Nd(e,m,0,null),Jm(e,0)}if(s||_2(e),sA(e),cA(e,0),n.contentQueries!==null&&A0(n,e),!o)if(h){let m=n.contentCheckHooks;m!==null&&Rd(e,m)}else{let m=n.contentHooks;m!==null&&Nd(e,m,1),Jm(e,1)}I2(n,e);let p=n.components;p!==null&&lA(e,p,0);let g=n.viewQuery;if(g!==null&&My(2,g,r),!o)if(h){let m=n.viewCheckHooks;m!==null&&Rd(e,m)}else{let m=n.viewHooks;m!==null&&Nd(e,m,2),Jm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Zm]){for(let m of e[Zm])m();e[Zm]=null}o||(rA(e),e[X]&=-73)}catch(h){throw o||js(e),h}finally{l!==null&&($l(l,c),a&&h2(l)),Uv()}}function cA(n,e){for(let t=_0(n);t!==null;t=E0(t))for(let r=vt;r<t.length;r++){let i=t[r];uA(i,e)}}function _2(n){for(let e=_0(n);e!==null;e=E0(e)){if(!(e[X]&2))continue;let t=e[Rs];for(let r=0;r<t.length;r++){let i=t[r];jS(i)}}}function E2(n,e,t){De(18);let r=Yn(e,n);uA(r,t),De(19,r[tt])}function uA(n,e){Mv(n)&&$y(n,e)}function $y(n,e){let r=n[ie],i=n[X],o=n[fn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Hl(o)),s||=!1,o&&(o.dirty=!1),n[X]&=-9217,s)v2(r,n,r.template,n[tt]);else if(i&8192){sA(n),cA(n,1);let a=r.components;a!==null&&lA(n,a,1),rA(n)}}function lA(n,e,t){for(let r=0;r<e.length;r++)E2(n,e[r],t)}function I2(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)uo(~i);else{let o=i,s=t[++r],a=t[++r];KL(s,o);let c=e[o];De(24,c),a(2,c),De(25,c)}}}finally{uo(-1)}}function h_(n,e){let t=HS()?64:1088;for(n[Ar].changeDetectionScheduler?.notify(e);n;){n[X]|=t;let r=co(n);if(Bd(n)&&!r)return n;n=r}return null}function dA(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function hA(n,e){let t=vt+e;if(t<n.length)return n[t]}function Lc(n,e,t,r=!0){let i=e[ie];if(w2(i,e,n,t),r){let s=By(t,n),a=e[Pe],c=a.parentNode(n[ao]);c!==null&&Xj(i,n[$t],a,e,c,s)}let o=e[Ss];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function fA(n,e){let t=Ac(n,e);return t!==void 0&&bh(t[ie],t),t}function Ac(n,e){if(n.length<=vt)return;let t=vt+e,r=n[t];if(r){let i=r[oo];i!==null&&i!==n&&l_(i,r),e>0&&(n[t-1][Cn]=r[Cn]);let o=Ld(n,vt+e);Jj(r[ie],r);let s=o[Rr];s!==null&&s.detachView(o[ie]),r[_t]=null,r[Cn]=null,r[X]&=-129}return r}function w2(n,e,t,r){let i=vt+r,o=t.length;r>0&&(t[i-1][Cn]=e),r<o-vt?(e[Cn]=t[i],wS(t,vt+r,e)):(t.push(e),e[Cn]=null),e[_t]=t;let s=e[oo];s!==null&&t!==s&&pA(s,e);let a=e[Rr];a!==null&&a.insertView(n),vy(e),e[X]|=128}function pA(n,e){let t=n[Rs],r=e[_t];if(fi(r))n[X]|=2;else{let i=r[_t][Jt];e[Jt]!==i&&(n[X]|=2)}t===null?n[Rs]=[e]:t.push(e)}var Rc=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[ie];return Yd(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[tt]}set context(e){this._lView[tt]=e}get destroyed(){return Vs(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[_t];if(xr(e)){let t=e[Ud],r=t?t.indexOf(this):-1;r>-1&&(Ac(e,r),Ld(t,r))}this._attachedToViewContainer=!1}bh(this._lView[ie],this._lView)}onDestroy(e){US(this._lView,e)}markForCheck(){h_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[X]&=-129}reattach(){vy(this._lView),this._lView[X]|=128}detectChanges(){this._lView[X]|=1024,aA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Bd(this._lView),t=this._lView[oo];t!==null&&!e&&l_(t,this._lView),J0(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e;let t=Bd(this._lView),r=this._lView[oo];r!==null&&!t&&pA(r,this._lView),vy(this._lView)}};var ho=(()=>{class n{static __NG_ELEMENT_ID__=b2}return n})(),T2=ho,D2=class extends T2{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Fc(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Rc(i)}};function b2(){return Ah(Et(),J())}function Ah(n,e){return n.type&4?new D2(e,n,Us(n,e)):null}function Hs(n,e,t,r,i){let o=n.data[e];if(o===null)o=C2(n,e,t,r,i),WL()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=HL();o.injectorIndex=s===null?-1:s.injectorIndex}return vi(o,!0),o}function C2(n,e,t,r,i){let o=$S(),s=Ov(),a=s?o:o&&o.parent,c=n.data[e]=A2(n,a,t,e,r,i);return S2(n,c,o,s),c}function S2(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function A2(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return BS()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var hee=new RegExp(`^(\\d+)*(${kV}|${xV})*(.*)`);var R2=()=>null;function Ps(n,e){return R2(n,e)}var N2=class{},gA=class{},Hy=class{resolveComponentFactory(e){throw Error(`No component factory found for ${jt(e)}.`)}},Rh=class{static NULL=new Hy},xs=class{},mn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>M2()}return n})();function M2(){let n=J(),e=Et(),t=Yn(e.index,n);return(fi(t)?t:n)[Pe]}var P2=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>null})}return n})();var ty={},zy=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=ah(r);let i=this.injector.get(e,ty,r);return i!==ty||t===ty?i:this.parentInjector.get(e,t,r)}};function qy(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=ly(i,a);else if(o==2){let c=a,l=e[++s];r=ly(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function z(n,e=ce.Default){let t=J();if(t===null)return G(n,e);let r=Et();return i0(r,t,Mt(n),e)}function mA(){let n="invalid";throw new Error(n)}function f_(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,c=null,l=null,h=k2(s);h===null?a=s:[a,c,l]=h,L2(n,e,t,a,o,c,l)}o!==null&&r!==null&&x2(t,r,o)}function x2(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new L(-301,!1);r.push(e[i],o)}}function k2(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&Kn(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,O2(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function O2(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function F2(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function L2(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let g=0;g<a;g++){let m=r[g];!c&&Kn(m)&&(c=!0,F2(n,t,g)),wy(Gd(t,e),n,m.type)}H2(t,n.data.length,a);for(let g=0;g<a;g++){let m=r[g];m.providersResolver&&m.providersResolver(m)}let l=!1,h=!1,p=Q0(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let m=r[g];if(t.mergedAttrs=Ns(t.mergedAttrs,m.hostAttrs),j2(n,t,e,p,m),$2(p,m,i),s!==null&&s.has(m)){let[S,R]=s.get(m);t.directiveToIndex.set(m.type,[p,S+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let w=m.type.prototype;!l&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(w.ngOnChanges||w.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}V2(n,t,o)}function V2(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))qC(0,e,i,r),qC(1,e,i,r),WC(e,r,!1);else{let o=t.get(i);GC(0,e,o,r),GC(1,e,o,r),WC(e,r,!0)}}}function qC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),yA(e,o)}}function GC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),yA(e,s)}}function yA(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function WC(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||e_(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let h of l)if(h===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function j2(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=ro(i.type,!0)),s=new lo(o,Kn(i),z);n.blueprint[r]=s,t[r]=s,U2(n,e,r,Q0(n,t,i.hostVars,Ht),i)}function U2(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;B2(s)!=a&&s.push(a),s.push(t,r,o)}}function B2(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function $2(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Kn(e)&&(t[""]=n)}}function H2(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function vA(n,e,t,r,i,o,s,a){let c=e.consts,l=gi(c,s),h=Hs(e,n,2,r,l);return o&&f_(e,t,h,gi(c,a),i),h.mergedAttrs=Ns(h.mergedAttrs,h.attrs),h.attrs!==null&&qy(h,h.attrs,!1),h.mergedAttrs!==null&&qy(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function _A(n,e){Bv(n,e),Av(e)&&n.queries.elementEnd(e)}var Zd=class extends Rh{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=pi(e);return new fo(t,this.ngModule)}};function z2(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&wh.SignalBased)!==0};return i&&(o.transform=i),o})}function q2(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function G2(n,e,t){let r=e instanceof it?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new zy(t,r):t}function W2(n){let e=n.get(xs,null);if(e===null)throw new L(407,!1);let t=n.get(P2,null),r=n.get(mi,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function K2(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return q0(e,t,t==="svg"?ML:t==="math"?PL:null)}var fo=class extends gA{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=z2(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=q2(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=bj(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){De(22);let o=ue(null);try{let s=this.componentDef,a=r?["ng-version","19.2.14"]:Cj(this.componentDef.selectors[0]),c=t_(0,null,null,1,0,null,null,null,null,[a],null),l=G2(s,i||this.ngModule,e),h=W2(l),p=h.rendererFactory.createRenderer(null,s),g=r?Fj(p,r,s.encapsulation,l):K2(s,p),m=n_(null,c,null,512|K0(s),null,null,h,p,l,null,S0(g,l,!0));m[We]=g,jv(m);let w=null;try{let S=vA(We,c,m,"#host",()=>[this.componentDef],!0,0);g&&(W0(p,g,S),Bs(g,m)),Th(c,m,S),Zv(c,S,m),_A(c,S),t!==void 0&&Q2(S,this.ngContentSelectors,t),w=Yn(S.index,m),m[tt]=w[tt],a_(c,m,null)}catch(S){throw w!==null&&Ay(w),Ay(m),S}finally{De(23),Uv()}return new Gy(this.componentType,m)}finally{ue(o)}}},Gy=class extends N2{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=Rv(t[ie],We),this.location=Us(this._tNode,t),this.instance=Yn(this._tNode.index,t)[tt],this.hostView=this.changeDetectorRef=new Rc(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=s_(r,i[ie],i,e,t);this.previousInputValues.set(e,t);let s=Yn(r.index,i);h_(s,1)}get injector(){return new to(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Q2(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var jr=(()=>{class n{static __NG_ELEMENT_ID__=Y2}return n})();function Y2(){let n=Et();return IA(n,J())}var Z2=jr,EA=class extends Z2{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Us(this._hostTNode,this._hostLView)}get injector(){return new to(this._hostTNode,this._hostLView)}get parentInjector(){let e=$v(this._hostTNode,this._hostLView);if(JS(e)){let t=zd(e,this._hostLView),r=Hd(e),i=t[ie].data[r+8];return new to(i,t)}else return new to(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=KC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-vt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ps(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Ms(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!SL(e),a;if(s)a=t;else{let w=t||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let c=s?e:new fo(pi(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let S=(s?l:this.parentInjector).get(it,null);S&&(o=S)}let h=pi(c.componentType??{}),p=Ps(this._lContainer,h?.id??null),g=p?.firstChild??null,m=c.create(l,i,g,o);return this.insertImpl(m.hostView,a,Ms(this._hostTNode,p)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(kL(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[_t],l=new EA(c,c[$t],c[_t]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Lc(s,i,o,r),e.attachToViewContainerRef(),wS(ny(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=KC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Ac(this._lContainer,t);r&&(Ld(ny(this._lContainer),t),bh(r[ie],r))}detach(e){let t=this._adjustIndex(e,-1),r=Ac(this._lContainer,t);return r&&Ld(ny(this._lContainer),t)!=null?new Rc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function KC(n){return n[Ud]}function ny(n){return n[Ud]||(n[Ud]=[])}function IA(n,e){let t,r=e[n.index];return xr(r)?t=r:(t=dA(r,e,null,n),e[n.index]=t,r_(e,t)),X2(t,e,n,r),new EA(t,n,e)}function J2(n,e){let t=n[Pe],r=t.createComment(""),i=er(e,n),o=t.parentNode(i);return Qd(t,o,r,t.nextSibling(i),!1),r}var X2=nU,eU=()=>!1;function tU(n,e,t){return eU(n,e,t)}function nU(n,e,t,r){if(n[ao])return;let i;t.type&8?i=Qn(r):i=J2(e,t),n[ao]=i}var Wy=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Ky=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)g_(e,t).matches!==null&&this.queries[t].setDirty()}},Jd=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=cU(e):this.predicate=e}},Qy=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Yy=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,rU(t,o)),this.matchTNodeWithReadOption(e,t,Md(t,e,o,!1,!1))}else r===ho?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Md(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===It||i===jr||i===ho&&t.type&4)this.addMatch(t.index,-2);else{let o=Md(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function rU(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function iU(n,e){return n.type&11?Us(n,e):n.type&4?Ah(n,e):null}function oU(n,e,t,r){return t===-1?iU(e,n):t===-2?sU(n,e,r):Cc(n,n[ie],t,e)}function sU(n,e,t){if(t===It)return Us(e,n);if(t===ho)return Ah(e,n);if(t===jr)return IA(e,n)}function wA(n,e,t,r){let i=e[Rr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let h=o[l];a.push(oU(e,h,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Zy(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=wA(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-c];for(let p=vt;p<h.length;p++){let g=h[p];g[oo]===g[_t]&&Zy(g[ie],g,l,r)}if(h[Rs]!==null){let p=h[Rs];for(let g=0;g<p.length;g++){let m=p[g];Zy(m[ie],m,l,r)}}}}}return r}function p_(n,e){return n[Rr].queries[e].queryList}function TA(n,e,t){let r=new Sy((t&4)===4);return LL(n,e,r,r.destroy),(e[Rr]??=new Ky).queries.push(new Wy(r))-1}function aU(n,e,t){let r=Me();return r.firstCreatePass&&(bA(r,new Jd(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),TA(r,J(),e)}function DA(n,e,t,r){let i=Me();if(i.firstCreatePass){let o=Et();bA(i,new Jd(e,t,r),o.index),uU(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return TA(i,J(),t)}function cU(n){return n.split(",").map(e=>e.trim())}function bA(n,e,t){n.queries===null&&(n.queries=new Qy),n.queries.track(new Yy(e,t))}function uU(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function g_(n,e){return n.queries.getByIndex(e)}function CA(n,e){let t=n[ie],r=g_(t,e);return r.crossesNgTemplate?Zy(t,n,e,[]):wA(t,n,r,e)}function SA(n,e,t){let r,i=Gl(()=>{r._dirtyCounter();let o=fU(r,n);if(e&&o===void 0)throw new L(-951,!1);return o});return r=i[Ot],r._dirtyCounter=_i(0),r._flatValue=void 0,i}function lU(n){return SA(!0,!1,n)}function dU(n){return SA(!0,!0,n)}function hU(n,e){let t=n[Ot];t._lView=J(),t._queryIndex=e,t._queryList=p_(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(r=>r+1))}function fU(n,e){let t=n._lView,r=n._queryIndex;if(t===void 0||r===void 0||t[X]&4)return e?void 0:Pt;let i=p_(t,r),o=CA(t,r);return i.reset(o,p0),e?i.first:i._changesDetected||n._flatValue===void 0?n._flatValue=i.toArray():n._flatValue}function QC(n,e){return lU(e)}function pU(n,e){return dU(e)}var yee=(QC.required=pU,QC);var ks=class{},m_=class{};var Jy=class extends ks{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Zd(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=bS(e);this._bootstrapComponents=$0(o.bootstrap),this._r3Injector=a0(e,t,[{provide:ks,useValue:this},{provide:Rh,useValue:this.componentFactoryResolver},...r],jt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Xy=class extends m_{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Jy(this.moduleType,e,[])}};var Xd=class extends ks{injector;componentFactoryResolver=new Zd(this);instance=null;constructor(e){super();let t=new Dc([...e.providers,{provide:ks,useValue:this},{provide:Rh,useValue:this.componentFactoryResolver}],e.parent||uh(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Vc(n,e,t=null){return new Xd({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var gU=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=CS(!1,t.type),i=r.length>0?Vc([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=j({token:n,providedIn:"environment",factory:()=>new n(G(it))})}return n})();function AA(n){return Mc(()=>{let e=RA(n),t=se(O({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===y0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(gU).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Jn.Emulated,styles:n.styles||Pt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Fr("NgStandalone"),NA(t);let r=n.dependencies;return t.directiveDefs=YC(r,!1),t.pipeDefs=YC(r,!0),t.id=EU(t),t})}function mU(n){return pi(n)||gL(n)}function yU(n){return n!==null}function zt(n){return Mc(()=>({type:n.type,bootstrap:n.bootstrap||Pt,declarations:n.declarations||Pt,imports:n.imports||Pt,exports:n.exports||Pt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function vU(n,e){if(n==null)return io;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=wh.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function _U(n){if(n==null)return io;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ee(n){return Mc(()=>{let e=RA(n);return NA(e),e})}function Nh(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function RA(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||io,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Pt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vU(n.inputs,e),outputs:_U(n.outputs),debugInfo:null}}function NA(n){n.features?.forEach(e=>e(n))}function YC(n,e){if(!n)return null;let t=e?mL:mU;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(yU)}function EU(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function IU(n){return Object.getPrototypeOf(n.prototype).constructor}function wt(n){let e=IU(n.type),t=!0,r=[n];for(;e;){let i;if(Kn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=ry(n.inputs),s.declaredInputs=ry(n.declaredInputs),s.outputs=ry(n.outputs);let a=i.hostBindings;a&&CU(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&DU(n,c),l&&bU(n,l),wU(n,i),WF(n.outputs,i.outputs),Kn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===wt&&(t=!1)}}e=Object.getPrototypeOf(e)}TU(r)}function wU(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function TU(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ns(i.hostAttrs,t=Ns(t,i.hostAttrs))}}function ry(n){return n===io?{}:n===Pt?[]:n}function DU(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function bU(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function CU(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function MA(n){return y_(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function SU(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function y_(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function v_(n,e,t){return n[e]=t}function AU(n,e){return n[e]}function pn(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function PA(n,e,t,r){let i=pn(n,e,t);return pn(n,e+1,r)||i}function RU(n,e,t,r,i,o,s,a,c){let l=e.consts,h=Hs(e,n,4,s||null,a||null);kv()&&f_(e,t,h,gi(l,c),o_),h.mergedAttrs=Ns(h.mergedAttrs,h.attrs),Bv(e,h);let p=h.tView=t_(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function eh(n,e,t,r,i,o,s,a,c,l){let h=t+We,p=e.firstCreatePass?RU(h,e,n,r,i,o,s,a,c):e.data[h];vi(p,!1);let g=MU(e,n,p,t);gh()&&Ch(e,n,g,p),Bs(g,n);let m=dA(g,n,g,p);return n[h]=m,r_(n,m),tU(m,p,n),dh(p)&&Th(e,n,p),c!=null&&i_(n,p,l),p}function NU(n,e,t,r,i,o,s,a){let c=J(),l=Me(),h=gi(l.consts,o);return eh(c,l,n,e,t,r,i,h,s,a),NU}var MU=PU;function PU(n,e,t,r){return mh(!0),e[Pe].createComment("")}var __=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var E_=new V(""),jc=new V(""),Mh=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(t,r,i){this._ngZone=t,this.registry=r,Sv()&&(this._destroyRef=M(Or,{optional:!0})??void 0),I_||(xU(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let t=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{t.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static \u0275fac=function(r){return new(r||n)(G(he),G(Ph),G(jc))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Ph=(()=>{class n{_applications=new Map;registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return I_?.findTestabilityInTree(this,t,r)??null}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function xU(n){I_=n}var I_,xA=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>new ev})}return n})(),ev=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function mo(n){return!!n&&typeof n.then=="function"}function kA(n){return!!n&&typeof n.subscribe=="function"}var OA=new V("");function w_(n){return Xt([{provide:OA,multi:!0,useValue:n}])}var FA=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=M(OA,{optional:!0})??[];injector=M(Le);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=ot(this.injector,i);if(mo(o))t.push(o);else if(kA(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xh=new V("");function kU(){Cm(()=>{throw new L(600,!1)})}function OU(n){return n.isBoundToModule}var FU=10;var Mr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(TV);afterRenderManager=M(b0);zonelessEnabled=M(vh);rootEffectScheduler=M(xA);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Se;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=M(nr).hasPendingTasks.pipe(ee(t=>!t));constructor(){M($s,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=M(it);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Le.NULL){De(10);let o=t instanceof gA;if(!this._injector.get(FA).done){let m="";throw new L(405,m)}let a;o?a=t:a=this._injector.get(Rh).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=OU(a)?void 0:this._injector.get(ks),l=r||a.selector,h=a.create(i,[],l,c),p=h.location.nativeElement,g=h.injector.get(E_,null);return g?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Pd(this.components,h),g?.unregisterApplication(p)}),this._loadComponent(h),De(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){De(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Kv.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new L(101,!1);let t=ue(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ue(t),this.afterTick.next(),De(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(xs,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<FU;)De(14),this.synchronizeOnce(),De(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)LU(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>hh(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Pd(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(xh,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Pd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new L(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Pd(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function LU(n,e,t,r){if(!t&&!hh(n))return;aA(n,e,t&&!r?0:1)}function zs(n,e,t,r){let i=J(),o=go();if(pn(i,o,e)){let s=Me(),a=kc();zj(a,i,n,e,t,r)}return zs}function LA(n,e,t,r){return pn(n,go(),t)?e+no(t)+r:Ht}function VU(n,e,t,r,i,o){let s=qL(),a=PA(n,s,t,i);return Lv(2),a?e+no(t)+r+no(i)+o:Ht}function Sd(n,e){return n<<17|e<<2}function po(n){return n>>17&32767}function jU(n){return(n&2)==2}function UU(n,e){return n&131071|e<<17}function tv(n){return n|2}function Os(n){return(n&131068)>>2}function iy(n,e){return n&-131069|e<<2}function BU(n){return(n&1)===1}function nv(n){return n|1}function $U(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=po(s),c=Os(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Pc(p,h)>0)&&(l=!0)}else h=t;if(i)if(c!==0){let g=po(n[a+1]);n[r+1]=Sd(g,a),g!==0&&(n[g+1]=iy(n[g+1],r)),n[a+1]=UU(n[a+1],r)}else n[r+1]=Sd(a,0),a!==0&&(n[a+1]=iy(n[a+1],r)),a=r;else n[r+1]=Sd(c,0),a===0?a=r:n[c+1]=iy(n[c+1],r),c=r;l&&(n[r+1]=tv(n[r+1])),ZC(n,h,r,!0),ZC(n,h,r,!1),HU(e,h,n,r,o),s=Sd(a,c),o?e.classBindings=s:e.styleBindings=s}function HU(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Pc(o,e)>=0&&(t[r+1]=nv(t[r+1]))}function ZC(n,e,t,r){let i=n[t+1],o=e===null,s=r?po(i):Os(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];zU(c,e)&&(a=!0,n[s+1]=r?nv(l):tv(l)),s=r?po(l):Os(l)}a&&(n[t+1]=r?tv(i):nv(i))}function zU(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Pc(n,e)>=0:!1}var bn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qU(n){return n.substring(bn.key,bn.keyEnd)}function GU(n){return WU(n),VA(n,jA(n,0,bn.textEnd))}function VA(n,e){let t=bn.textEnd;return t===e?-1:(e=bn.keyEnd=KU(n,bn.key=e,t),jA(n,e,t))}function WU(n){bn.key=0,bn.keyEnd=0,bn.value=0,bn.valueEnd=0,bn.textEnd=n.length}function jA(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function KU(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function QU(n,e,t){let r=J(),i=go();if(pn(r,i,e)){let o=Me(),s=kc();Dh(o,s,r,n,e,r[Pe],t,!1)}return QU}function rv(n,e,t,r,i){s_(e,n,t,i?"class":"style",r)}function kh(n,e){return ZU(n,e,null,!0),kh}function Eee(n){JU(iB,YU,n,!0)}function YU(n,e){for(let t=GU(e);t>=0;t=VA(e,t))bv(n,qU(e),!0)}function ZU(n,e,t,r){let i=J(),o=Me(),s=Lv(2);if(o.firstUpdatePass&&BA(o,n,s,r),e!==Ht&&pn(i,s,e)){let a=o.data[kr()];$A(o,a,i,i[Pe],n,i[s+1]=sB(e,t),r,s)}}function JU(n,e,t,r){let i=Me(),o=Lv(2);i.firstUpdatePass&&BA(i,null,o,r);let s=J();if(t!==Ht&&pn(s,o,t)){let a=i.data[kr()];if(HA(a,r)&&!UA(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=ly(c,t||"")),rv(i,a,s,t,r)}else oB(i,a,s,s[Pe],s[o+1],s[o+1]=rB(n,e,t),r,o)}}function UA(n,e){return e>=n.expandoStartIndex}function BA(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[kr()],s=UA(n,t);HA(o,r)&&e===null&&!s&&(e=!1),e=XU(i,o,e,r),$U(i,o,e,t,s,r)}}function XU(n,e,t,r){let i=YL(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=oy(null,n,e,t,r),t=Nc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=oy(i,n,e,t,r),o===null){let c=eB(n,e,r);c!==void 0&&Array.isArray(c)&&(c=oy(null,n,e,c[1],r),c=Nc(c,e.attrs,r),tB(n,e,r,c))}else o=nB(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function eB(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Os(r)!==0)return n[po(r)]}function tB(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[po(i)]=r}function nB(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Nc(r,s,t)}return Nc(r,e.attrs,t)}function oy(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Nc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Nc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),bv(n,s,t?!0:e[++o]))}return n===void 0?null:n}function rB(n,e,t){if(t==null||t==="")return Pt;let r=[],i=gn(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function iB(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&bv(n,r,t)}function oB(n,e,t,r,i,o,s,a){i===Ht&&(i=Pt);let c=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=c<i.length?i[c+1]:void 0,m=l<o.length?o[l+1]:void 0,w=null,S;h===p?(c+=2,l+=2,g!==m&&(w=p,S=m)):p===null||h!==null&&h<p?(c+=2,w=h):(l+=2,w=p,S=m),w!==null&&$A(n,e,t,r,w,S,s,a),h=c<i.length?i[c]:null,p=l<o.length?o[l]:null}}function $A(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],h=BU(l)?JC(c,e,t,i,Os(l),s):void 0;if(!th(h)){th(o)||jU(l)&&(o=JC(c,null,t,i,a,s));let p=FS(kr(),t);c2(r,s,p,i,o)}}function JC(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),h=l?c[1]:c,p=h===null,g=t[i+1];g===Ht&&(g=p?Pt:void 0);let m=p?Qm(g,r):h===r?g:void 0;if(l&&!th(m)&&(m=Qm(c,r)),th(m)&&(a=m,s))return a;let w=n[i+1];i=s?po(w):Os(w)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Qm(c,r))}return a}function th(n){return n!==void 0}function sB(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=jt(gn(n)))),n}function HA(n,e){return(n.flags&(e?8:16))!==0}var iv=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function sy(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function aB(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let l=n.at(o),h=e[o],p=sy(o,l,o,h,t);if(p!==0){p<0&&n.updateValue(o,h),o++;continue}let g=n.at(s),m=e[c],w=sy(s,g,c,m,t);if(w!==0){w<0&&n.updateValue(s,m),s--,c--;continue}let S=t(o,l),R=t(s,g),k=t(o,h);if(Object.is(k,R)){let H=t(c,m);Object.is(H,S)?(n.swap(o,s),n.updateValue(s,m),c--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(r??=new nh,i??=eS(n,o,s,t),ov(n,r,o,k))n.updateValue(o,h),o++,s++;else if(i.has(k))r.set(S,n.detach(o)),s--;else{let H=n.create(o,e[o]);n.attach(o,H),o++,s++}}for(;o<=c;)XC(n,r,t,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let h=n.at(o),p=l.value,g=sy(o,h,o,p,t);if(g!==0)g<0&&n.updateValue(o,p),o++,l=c.next();else{r??=new nh,i??=eS(n,o,s,t);let m=t(o,p);if(ov(n,r,o,m))n.updateValue(o,p),o++,s++,l=c.next();else if(!i.has(m))n.attach(o,n.create(o,p)),o++,s++,l=c.next();else{let w=t(o,h);r.set(w,n.detach(o)),s--}}}for(;!l.done;)XC(n,r,t,n.length,l.value),l=c.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(c=>{n.destroy(c)})}function ov(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function XC(n,e,t,r,i){if(ov(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function eS(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var nh=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Iee(n,e){Fr("NgControlFlow");let t=J(),r=go(),i=t[r]!==Ht?t[r]:-1,o=i!==-1?rh(t,We+i):void 0,s=0;if(pn(t,r,n)){let a=ue(null);try{if(o!==void 0&&fA(o,s),n!==-1){let c=We+n,l=rh(t,c),h=uv(t[ie],c),p=Ps(l,h.tView.ssrId),g=Fc(t,h,e,{dehydratedView:p});Lc(l,g,s,Ms(h,p))}}finally{ue(a)}}else if(o!==void 0){let a=hA(o,s);a!==void 0&&(a[tt]=e)}}var sv=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-vt}};function wee(n){return n}var av=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Tee(n,e,t,r,i,o,s,a,c,l,h,p,g){Fr("NgControlFlow");let m=J(),w=Me(),S=c!==void 0,R=J(),k=a?s.bind(R[Jt][tt]):s,H=new av(S,k);R[We+n]=H,eh(m,w,n+1,e,t,r,i,gi(w.consts,o)),S&&eh(m,w,n+2,c,l,h,p,gi(w.consts,g))}var cv=class extends iv{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-vt}at(e){return this.getLView(e)[tt].$implicit}attach(e,t){let r=t[Ss];this.needsIndexUpdate||=e!==this.length,Lc(this.lContainer,t,e,Ms(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,cB(this.lContainer,e)}create(e,t){let r=Ps(this.lContainer,this.templateTNode.tView.ssrId),i=Fc(this.hostLView,this.templateTNode,new sv(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){bh(e[ie],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[tt].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[tt].$index=e}getLView(e){return uB(this.lContainer,e)}};function Dee(n){let e=ue(null),t=kr();try{let r=J(),i=r[ie],o=r[t],s=t+1,a=rh(r,s);if(o.liveCollection===void 0){let l=uv(i,s);o.liveCollection=new cv(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(aB(c,n,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=go(),h=c.length===0;if(pn(r,l,h)){let p=t+2,g=rh(r,p);if(h){let m=uv(i,p),w=Ps(g,m.tView.ssrId),S=Fc(r,m,void 0,{dehydratedView:w});Lc(g,S,0,Ms(m,w))}else fA(g,0)}}}finally{ue(e)}}function rh(n,e){return n[e]}function cB(n,e){return Ac(n,e)}function uB(n,e){return hA(n,e)}function uv(n,e){return Rv(n,e)}function zA(n,e,t,r){let i=J(),o=Me(),s=We+n,a=i[Pe],c=o.firstCreatePass?vA(s,o,i,e,o_,kv(),t,r):o.data[s],l=lB(o,i,c,a,e,n);i[s]=l;let h=dh(c);return vi(c,!0),W0(a,l,c),!u_(c)&&gh()&&Ch(o,i,l,c),(VL()===0||h)&&Bs(l,i),jL(),h&&(Th(o,i,c),Zv(o,c,i)),r!==null&&i_(i,c),zA}function qA(){let n=Et();Ov()?Fv():(n=n.parent,vi(n,!1));let e=n;BL(e)&&$L(),UL();let t=Me();return t.firstCreatePass&&_A(t,e),e.classesWithoutHost!=null&&nV(e)&&rv(t,e,J(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&rV(e)&&rv(t,e,J(),e.stylesWithoutHost,!1),qA}function T_(n,e,t,r){return zA(n,e,t,r),qA(),T_}var lB=(n,e,t,r,i,o)=>(mh(!0),q0(r,i,XL()));function dB(n,e,t,r,i){let o=e.consts,s=gi(o,r),a=Hs(e,n,8,"ng-container",s);s!==null&&qy(a,s,!0);let c=gi(o,i);return kv()&&f_(e,t,a,c,o_),a.mergedAttrs=Ns(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function GA(n,e,t){let r=J(),i=Me(),o=n+We,s=i.firstCreatePass?dB(o,i,r,e,t):i.data[o];vi(s,!0);let a=fB(i,r,s,n);return r[o]=a,gh()&&Ch(i,r,a,s),Bs(a,r),dh(s)&&(Th(i,r,s),Zv(i,s,r)),t!=null&&i_(r,s),GA}function WA(){let n=Et(),e=Me();return Ov()?Fv():(n=n.parent,vi(n,!1)),e.firstCreatePass&&(Bv(e,n),Av(n)&&e.queries.elementEnd(n)),WA}function hB(n,e,t){return GA(n,e,t),WA(),hB}var fB=(n,e,t,r)=>(mh(!0),Rj(e[Pe],""));function bee(){return J()}function pB(n,e,t){let r=J(),i=go();if(pn(r,i,e)){let o=Me(),s=kc();Dh(o,s,r,n,e,r[Pe],t,!0)}return pB}var Xi=void 0;function gB(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var mB=["en",[["a","p"],["AM","PM"],Xi],[["AM","PM"],Xi,Xi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xi,"{1} 'at' {0}",Xi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",gB],ay={};function tn(n){let e=yB(n),t=tS(e);if(t)return t;let r=e.split("-")[0];if(t=tS(r),t)return t;if(r==="en")return mB;throw new L(701,!1)}function tS(n){return n in ay||(ay[n]=dt.ng&&dt.ng.common&&dt.ng.common.locales&&dt.ng.common.locales[n]),ay[n]}var Be=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Be||{});function yB(n){return n.toLowerCase().replace(/_/g,"-")}var ih="en-US";var vB=ih;function _B(n){typeof n=="string"&&(vB=n.toLowerCase().replace(/_/g,"-"))}function nS(n,e,t){return function r(i){if(i===Function)return t;let o=Ls(n)?Yn(n.index,e):e;h_(o,5);let s=e[tt],a=rS(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=rS(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function rS(n,e,t,r){let i=ue(null);try{return De(6,e,t),t(r)!==!1}catch(o){return EB(n,o),!1}finally{De(7,e,t),ue(i)}}function EB(n,e){let t=n[As],r=t?t.get(Zn,null):null;r&&r.handleError(e)}function iS(n,e,t,r,i,o){let s=e[t],a=e[ie],l=a.data[t].outputs[r],h=s[l],p=a.firstCreatePass?xv(a):null,g=Pv(e),m=h.subscribe(o),w=g.length;g.push(o,m),p&&p.push(i,n.index,w,-(w+1))}function rr(n,e,t,r){let i=J(),o=Me(),s=Et();return KA(o,i,i[Pe],s,n,e,r),rr}function IB(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[jd],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function KA(n,e,t,r,i,o,s){let a=dh(r),l=n.firstCreatePass?xv(n):null,h=Pv(e),p=!0;if(r.type&3||s){let g=er(r,e),m=s?s(g):g,w=h.length,S=s?k=>s(Qn(k[r.index])):r.index,R=null;if(!s&&a&&(R=IB(n,e,i,r.index)),R!==null){let k=R.__ngLastListenerFn__||R;k.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,p=!1}else{o=nS(r,e,o),$V(e,m,i,o);let k=t.listen(m,i,o);h.push(o,k),l&&l.push(i,S,w,w+1)}}else o=nS(r,e,o);if(p){let g=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let w=0;w<m.length;w+=2){let S=m[w],R=m[w+1];iS(r,e,S,R,i,o)}if(g&&g.length)for(let w of g)iS(r,e,w,i,i,o)}}function Cee(n=1){return JL(n)}function wB(n,e){let t=null,r=Ej(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?z0(n,o,!0):Tj(r,o))return i}return t}function See(n){let e=J()[Jt][$t];if(!e.projection){let t=n?n.length:1,r=e.projection=hL(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?wB(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function Aee(n,e=0,t,r,i,o){let s=J(),a=Me(),c=r?n+1:null;c!==null&&eh(s,a,c,r,i,o,null,t);let l=Hs(a,We+n,16,null,t||null);l.projection===null&&(l.projection=e),Fv();let p=!s[Ss]||BS();s[Jt][$t].projection[l.projection]===null&&c!==null?TB(s,a,c):p&&!u_(l)&&s2(a,s,l)}function TB(n,e,t){let r=We+t,i=e.data[r],o=n[r],s=Ps(o,i.tView.ssrId),a=Fc(n,i,void 0,{dehydratedView:s});Lc(o,a,0,Ms(i,s))}function DB(n,e,t){return QA(n,"",e,"",t),DB}function QA(n,e,t,r,i){let o=J(),s=LA(o,e,t,r);if(s!==Ht){let a=Me(),c=kc();Dh(a,c,o,n,s,o[Pe],i,!1)}return QA}function YA(n,e,t,r){DA(n,e,t,r)}function Ree(n,e,t){aU(n,e,t)}function ZA(n){let e=J(),t=Me(),r=Vv();ph(r+1);let i=g_(t,r);if(n.dirty&&xL(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=CA(e,r);n.reset(o,p0),n.notifyOnChanges()}return!0}return!1}function JA(){return p_(J(),Vv())}function Nee(n,e,t,r,i){hU(e,DA(n,t,r,i))}function Mee(n=1){ph(Vv()+n)}function Pee(n){let e=zL();return Nv(e,We+n)}function xee(n,e=""){let t=J(),r=Me(),i=n+We,o=r.firstCreatePass?Hs(r,i,1,e,null):r.data[i],s=bB(r,t,o,e,n);t[i]=s,gh()&&Ch(r,t,s,o),vi(o,!1)}var bB=(n,e,t,r,i)=>(mh(!0),Sj(e[Pe],r));function CB(n){return XA("",n,""),CB}function XA(n,e,t){let r=J(),i=LA(r,n,e,t);return i!==Ht&&eR(r,kr(),i),XA}function SB(n,e,t,r,i){let o=J(),s=VU(o,n,e,t,r,i);return s!==Ht&&eR(o,kr(),s),SB}function eR(n,e,t){let r=FS(e,n);Aj(n[Pe],r,t)}function AB(n,e,t){g0(e)&&(e=e());let r=J(),i=go();if(pn(r,i,e)){let o=Me(),s=kc();Dh(o,s,r,n,e,r[Pe],t,!1)}return AB}function kee(n,e){let t=g0(n);return t&&n.set(e),t}function RB(n,e){let t=J(),r=Me(),i=Et();return KA(r,t,t[Pe],i,n,e),RB}var NB={};function MB(n){let e=Me(),t=J(),r=n+We,i=Hs(e,r,128,null,null);return vi(i,!1),LS(e,t,r,NB),MB}function PB(n,e,t){let r=Me();if(r.firstCreatePass){let i=Kn(n);lv(t,r.data,r.blueprint,i,!0),lv(e,r.data,r.blueprint,i,!1)}}function lv(n,e,t,r,i){if(n=Mt(n),Array.isArray(n))for(let o=0;o<n.length;o++)lv(n[o],e,t,r,i);else{let o=Me(),s=J(),a=Et(),c=Cs(n)?n:Mt(n.provide),l=RS(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Cs(n)||!n.multi){let m=new lo(l,i,z),w=uy(c,e,i?h:h+g,p);w===-1?(wy(Gd(a,s),o,c),cy(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[w]=m,s[w]=m)}else{let m=uy(c,e,h+g,p),w=uy(c,e,h,h+g),S=m>=0&&t[m],R=w>=0&&t[w];if(i&&!R||!i&&!S){wy(Gd(a,s),o,c);let k=OB(i?kB:xB,t.length,i,r,l);!i&&R&&(t[w].providerFactory=k),cy(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(k),s.push(k)}else{let k=tR(t[i?w:m],l,!i&&r);cy(o,n,m>-1?m:w,k)}!i&&r&&R&&t[w].componentProviders++}}}function cy(n,e,t,r){let i=Cs(e),o=IL(e);if(i||o){let c=(o?Mt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,c]):l[h+1].push(r,c)}else l.push(t,c)}}}function tR(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function uy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function xB(n,e,t,r,i){return dv(this.multi,[])}function kB(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Cc(r,r[ie],this.providerFactory.index,i);s=c.slice(0,a),dv(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],dv(o,s);return s}function dv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function OB(n,e,t,r,i){let o=new lo(n,t,z);return o.multi=[],o.index=e,o.componentProviders=0,tR(o,i,r&&!t),o}function yn(n,e=[]){return t=>{t.providersResolver=(r,i)=>PB(r,i?i(n):n,e)}}function Oee(n,e,t){let r=fh()+n,i=J();return i[r]===Ht?v_(i,r,t?e.call(t):e()):AU(i,r)}function Fee(n,e,t,r){return rR(J(),fh(),n,e,t,r)}function nR(n,e){let t=n[e];return t===Ht?void 0:t}function rR(n,e,t,r,i,o){let s=e+t;return pn(n,s,i)?v_(n,s+1,o?r.call(o,i):r(i)):nR(n,s+1)}function FB(n,e,t,r,i,o,s){let a=e+t;return PA(n,a,i,o)?v_(n,a+2,s?r.call(s,i,o):r(i,o)):nR(n,a+2)}function Lee(n,e){let t=Me(),r,i=n+We;t.firstCreatePass?(r=LB(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=ro(r.type,!0)),s,a=Vt(z);try{let c=qd(!1),l=o();return qd(c),LS(t,J(),i,l),l}finally{Vt(a)}}function LB(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Vee(n,e,t){let r=n+We,i=J(),o=Nv(i,r);return iR(i,r)?rR(i,fh(),e,o.transform,t,o):o.transform(t)}function jee(n,e,t,r){let i=n+We,o=J(),s=Nv(o,i);return iR(o,i)?FB(o,fh(),e,s.transform,t,r,s):s.transform(t,r)}function iR(n,e){return n[ie].data[e].pure}function Uee(n,e){return Ah(n,e)}var yi=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},oR=new yi("19.2.14"),hv=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},sR=(()=>{class n{compileModuleSync(t){return new Xy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=bS(t),o=$0(i.declarations).reduce((s,a)=>{let c=pi(a);return c&&s.push(new fo(c)),s},[]);return new hv(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var VB=(()=>{class n{zone=M(he);changeDetectionScheduler=M(mi);applicationRef=M(Mr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jB=new V("",{factory:()=>!1});function aR({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new he(se(O({},cR()),{scheduleInRootZone:t})),[{provide:he,useFactory:n},{provide:bs,multi:!0,useFactory:()=>{let r=M(VB,{optional:!0});return()=>r.initialize()}},{provide:bs,multi:!0,useFactory:()=>{let r=M(UB);return()=>{r.initialize()}}},e===!0?{provide:u0,useValue:!0}:[],{provide:l0,useValue:t??c0}]}function Bee(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=aR({ngZoneFactory:()=>{let i=cR(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Fr("NgZone_CoalesceEvent"),new he(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Xt([{provide:jB,useValue:!0},{provide:vh,useValue:!1},r])}function cR(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var UB=(()=>{class n{subscription=new Ue;initialized=!1;zone=M(he);pendingTasks=M(nr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{he.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var BB=(()=>{class n{appRef=M(Mr);taskService=M(nr);ngZone=M(he);zonelessEnabled=M(vh);tracing=M($s,{optional:!0});disableScheduling=M(u0,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ue;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Kd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(l0,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Cy||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?NC:d0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Kd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,NC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $B(){return typeof $localize<"u"&&$localize.locale||ih}var Uc=new V("",{providedIn:"root",factory:()=>M(Uc,ce.Optional|ce.SkipSelf)||$B()});var fv=new V(""),HB=new V("");function Ec(n){return!n.moduleRef}function zB(n){let e=Ec(n)?n.r3Injector:n.moduleRef.injector,t=e.get(he);return t.run(()=>{Ec(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Zn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Ec(n)){let o=()=>e.destroy(),s=n.platformInjector.get(fv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(fv);s.add(o),n.moduleRef.onDestroy(()=>{Pd(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return GB(r,t,()=>{let o=e.get(FA);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Uc,ih);if(_B(s||ih),!e.get(HB,!0))return Ec(n)?e.get(Mr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ec(n)){let c=e.get(Mr);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return qB(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function qB(n,e){let t=n.injector.get(Mr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new L(-403,!1);e.push(n)}function GB(n,e,t){try{let r=t();return mo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var xd=null;function WB(n=[],e){return Le.create({name:e,providers:[{provide:ch,useValue:"platform"},{provide:fv,useValue:new Set([()=>xd=null])},...n]})}function KB(n=[]){if(xd)return xd;let e=WB(n);return xd=e,kU(),QB(e),e}function QB(n){let e=n.get(Gv,null);ot(n,()=>{e?.forEach(t=>t())})}function D_(){return!1}var Ii=(()=>{class n{static __NG_ELEMENT_ID__=YB}return n})();function YB(n){return ZB(Et(),J(),(n&16)===16)}function ZB(n,e,t){if(Ls(n)&&!t){let r=Yn(n.index,e);return new Rc(r,r)}else if(n.type&175){let r=e[Jt];return new Rc(r,e)}return null}var pv=class{constructor(){}supports(e){return MA(e)}create(e){return new gv(e)}},JB=(n,e)=>e,gv=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||JB}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<oS(r,i,o)?t:r,a=oS(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=c-i;if(l!=h){for(let g=0;g<l;g++){let m=g<o.length?o[g]:o[g]=0,w=m+g;h<=w&&w<l&&(o[g]=m+1)}let p=s.previousIndex;o[p]=h-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!MA(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,SU(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new mv(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new oh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new oh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},mv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},yv=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},oh=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new yv,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function oS(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var vv=class{constructor(){}supports(e){return e instanceof Map||y_(e)}create(){return new _v}},_v=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||y_(e)))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new Ev(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},Ev=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function sS(){return new b_([new pv])}var b_=(()=>{class n{factories;static \u0275prov=j({token:n,providedIn:"root",factory:sS});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||sS()),deps:[[n,new IS,new xt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new L(901,!1)}}return n})();function aS(){return new C_([new vv])}var C_=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:aS});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||aS()),deps:[[n,new IS,new xt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new L(901,!1)}}return n})();var uR=(()=>{class n{constructor(t){}static \u0275fac=function(r){return new(r||n)(G(Mr))};static \u0275mod=zt({type:n});static \u0275inj=Bt({})}return n})();function lR(n){De(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=KB(r),o=[aR({}),{provide:mi,useExisting:BB},...t||[]],s=new Xd({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return zB({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{De(9)}}function wi(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function An(n){return Rm(n)}function yo(n,e){return Gl(n,e?.equal)}var Iv=class{[Ot];constructor(e){this[Ot]=e}destroy(){this[Ot].destroy()}};function dR(n,e){!e?.injector&&xc(dR);let t=e?.injector??M(Le),r=e?.manualCleanup!==!0?t.get(Or):null,i,o=t.get(Qv,null,{optional:!0}),s=t.get(mi);return o!==null&&!e?.forceRoot?(i=t$(o.view,s,n),r instanceof Wd&&r._lView===o.view&&(r=null)):i=n$(n,t.get(xA),s),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Iv(i)}var hR=se(O({},ss),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Sc,run(){if(this.dirty=!1,this.hasRun&&!Hl(this))return;this.hasRun=!0;let n=r=>(this.cleanupFns??=[]).push(r),e=dc(this),t=$d(!1);try{this.maybeCleanup(),this.fn(n)}finally{$d(t),$l(this,e)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),XB=se(O({},hR),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){hc(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),e$=se(O({},hR),{consumerMarkedDirty(){this.view[X]|=8192,js(this.view),this.notifier.notify(13)},destroy(){hc(this),this.onDestroyFn(),this.maybeCleanup(),this.view[so]?.delete(this)}});function t$(n,e,t){let r=Object.create(e$);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=t,n[so]??=new Set,n[so].add(r),r.consumerMarkedDirty(r),r}function n$(n,e,t){let r=Object.create(XB);return r.fn=n,r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}function $ee(n,e){let t=pi(n),r=e.elementInjector||uh();return new fo(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function fR(n){let e=pi(n);if(!e)return null;let t=new fo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var qe=new V("");var mR=null;function nn(){return mR}function S_(n){mR??=n}var Bc=class{},$c=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(yR),providedIn:"platform"})}return n})(),A_=new V(""),yR=(()=>{class n extends $c{_location;_history;_doc=M(qe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nn().getBaseHref(this._doc)}onPopState(t){let r=nn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=nn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Oh(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function pR(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Nn(n){return n&&n[0]!=="?"?`?${n}`:n}var Mn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(Lh),providedIn:"root"})}return n})(),Fh=new V(""),Lh=(()=>{class n extends Mn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Oh(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Nn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Nn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Nn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(G($c),G(Fh,8))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ti=(()=>{class n{_subject=new Se;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=o$(pR(gR(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Nn(r))}normalize(t){return n.stripTrailingSlash(i$(this._basePath,gR(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Nn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Nn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Nn;static joinWithSlash=Oh;static stripTrailingSlash=pR;static \u0275fac=function(r){return new(r||n)(G(Mn))};static \u0275prov=j({token:n,factory:()=>r$(),providedIn:"root"})}return n})();function r$(){return new Ti(G(Mn))}function i$(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function gR(n){return n.replace(/\/index.html$/,"")}function o$(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var O_=(()=>{class n extends Mn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Oh(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Nn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Nn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(G($c),G(Fh,8))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();var F_=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(F_||{});var Tt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Tt||{}),be=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(be||{}),qt=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(qt||{}),Gt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function TR(n){return tn(n)[Be.LocaleId]}function DR(n,e,t){let r=tn(n),i=[r[Be.DayPeriodsFormat],r[Be.DayPeriodsStandalone]],o=vn(i,e);return vn(o,t)}function bR(n,e,t){let r=tn(n),i=[r[Be.DaysFormat],r[Be.DaysStandalone]],o=vn(i,e);return vn(o,t)}function CR(n,e,t){let r=tn(n),i=[r[Be.MonthsFormat],r[Be.MonthsStandalone]],o=vn(i,e);return vn(o,t)}function SR(n,e){let r=tn(n)[Be.Eras];return vn(r,e)}function Hc(n,e){let t=tn(n);return vn(t[Be.DateFormat],e)}function zc(n,e){let t=tn(n);return vn(t[Be.TimeFormat],e)}function qc(n,e){let r=tn(n)[Be.DateTimeFormat];return vn(r,e)}function ir(n,e){let t=tn(n),r=t[Be.NumberSymbols][e];if(typeof r>"u"){if(e===Gt.CurrencyDecimal)return t[Be.NumberSymbols][Gt.Decimal];if(e===Gt.CurrencyGroup)return t[Be.NumberSymbols][Gt.Group]}return r}function AR(n,e){return tn(n)[Be.NumberFormats][e]}function RR(n){if(!n[Be.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Be.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function NR(n){let e=tn(n);return RR(e),(e[Be.ExtraData][2]||[]).map(r=>typeof r=="string"?R_(r):[R_(r[0]),R_(r[1])])}function MR(n,e,t){let r=tn(n);RR(r);let i=[r[Be.ExtraData][0],r[Be.ExtraData][1]],o=vn(i,e)||[];return vn(o,t)||[]}function vn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function R_(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var s$=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Vh={},a$=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function PR(n,e,t,r){let i=m$(n);e=Ur(t,e)||e;let s=[],a;for(;e;)if(a=a$.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=kR(r,c),i=g$(i,r));let l="";return s.forEach(h=>{let p=f$(h);l+=p?p(i,t,c):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Hh(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Ur(n,e){let t=TR(n);if(Vh[t]??={},Vh[t][e])return Vh[t][e];let r="";switch(e){case"shortDate":r=Hc(n,qt.Short);break;case"mediumDate":r=Hc(n,qt.Medium);break;case"longDate":r=Hc(n,qt.Long);break;case"fullDate":r=Hc(n,qt.Full);break;case"shortTime":r=zc(n,qt.Short);break;case"mediumTime":r=zc(n,qt.Medium);break;case"longTime":r=zc(n,qt.Long);break;case"fullTime":r=zc(n,qt.Full);break;case"short":let i=Ur(n,"shortTime"),o=Ur(n,"shortDate");r=jh(qc(n,qt.Short),[i,o]);break;case"medium":let s=Ur(n,"mediumTime"),a=Ur(n,"mediumDate");r=jh(qc(n,qt.Medium),[s,a]);break;case"long":let c=Ur(n,"longTime"),l=Ur(n,"longDate");r=jh(qc(n,qt.Long),[c,l]);break;case"full":let h=Ur(n,"fullTime"),p=Ur(n,"fullDate");r=jh(qc(n,qt.Full),[h,p]);break}return r&&(Vh[t][e]=r),r}function jh(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Pn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function c$(n,e){return Pn(n,3).substring(0,e)}function Ke(n,e,t=0,r=!1,i=!1){return function(o,s){let a=u$(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return c$(a,e);let c=ir(s,Gt.MinusSign);return Pn(a,e,c,r,i)}}function u$(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Re(n,e,t=Tt.Format,r=!1){return function(i,o){return l$(i,o,n,e,t,r)}}function l$(n,e,t,r,i,o){switch(t){case 2:return CR(e,i,r)[n.getMonth()];case 1:return bR(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let l=NR(e),h=MR(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[m,w]=g,S=s>=m.hours&&a>=m.minutes,R=s<w.hours||s===w.hours&&a<w.minutes;if(m.hours<w.hours){if(S&&R)return!0}else if(S||R)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return DR(e,i,r)[s<12?0:1];case 3:return SR(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function Uh(n){return function(e,t,r){let i=-1*r,o=ir(t,Gt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Pn(s,2,o)+Pn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Pn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Pn(s,2,o)+":"+Pn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Pn(s,2,o)+":"+Pn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var d$=0,$h=4;function h$(n){let e=Hh(n,d$,1).getDay();return Hh(n,0,1+(e<=$h?$h:$h+7)-e)}function xR(n){let e=n.getDay(),t=e===0?-3:$h-e;return Hh(n.getFullYear(),n.getMonth(),n.getDate()+t)}function N_(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=xR(t),s=h$(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Pn(i,n,ir(r,Gt.MinusSign))}}function Bh(n,e=!1){return function(t,r){let o=xR(t).getFullYear();return Pn(o,n,ir(r,Gt.MinusSign),e)}}var M_={};function f$(n){if(M_[n])return M_[n];let e;switch(n){case"G":case"GG":case"GGG":e=Re(3,be.Abbreviated);break;case"GGGG":e=Re(3,be.Wide);break;case"GGGGG":e=Re(3,be.Narrow);break;case"y":e=Ke(0,1,0,!1,!0);break;case"yy":e=Ke(0,2,0,!0,!0);break;case"yyy":e=Ke(0,3,0,!1,!0);break;case"yyyy":e=Ke(0,4,0,!1,!0);break;case"Y":e=Bh(1);break;case"YY":e=Bh(2,!0);break;case"YYY":e=Bh(3);break;case"YYYY":e=Bh(4);break;case"M":case"L":e=Ke(1,1,1);break;case"MM":case"LL":e=Ke(1,2,1);break;case"MMM":e=Re(2,be.Abbreviated);break;case"MMMM":e=Re(2,be.Wide);break;case"MMMMM":e=Re(2,be.Narrow);break;case"LLL":e=Re(2,be.Abbreviated,Tt.Standalone);break;case"LLLL":e=Re(2,be.Wide,Tt.Standalone);break;case"LLLLL":e=Re(2,be.Narrow,Tt.Standalone);break;case"w":e=N_(1);break;case"ww":e=N_(2);break;case"W":e=N_(1,!0);break;case"d":e=Ke(2,1);break;case"dd":e=Ke(2,2);break;case"c":case"cc":e=Ke(7,1);break;case"ccc":e=Re(1,be.Abbreviated,Tt.Standalone);break;case"cccc":e=Re(1,be.Wide,Tt.Standalone);break;case"ccccc":e=Re(1,be.Narrow,Tt.Standalone);break;case"cccccc":e=Re(1,be.Short,Tt.Standalone);break;case"E":case"EE":case"EEE":e=Re(1,be.Abbreviated);break;case"EEEE":e=Re(1,be.Wide);break;case"EEEEE":e=Re(1,be.Narrow);break;case"EEEEEE":e=Re(1,be.Short);break;case"a":case"aa":case"aaa":e=Re(0,be.Abbreviated);break;case"aaaa":e=Re(0,be.Wide);break;case"aaaaa":e=Re(0,be.Narrow);break;case"b":case"bb":case"bbb":e=Re(0,be.Abbreviated,Tt.Standalone,!0);break;case"bbbb":e=Re(0,be.Wide,Tt.Standalone,!0);break;case"bbbbb":e=Re(0,be.Narrow,Tt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Re(0,be.Abbreviated,Tt.Format,!0);break;case"BBBB":e=Re(0,be.Wide,Tt.Format,!0);break;case"BBBBB":e=Re(0,be.Narrow,Tt.Format,!0);break;case"h":e=Ke(3,1,-12);break;case"hh":e=Ke(3,2,-12);break;case"H":e=Ke(3,1);break;case"HH":e=Ke(3,2);break;case"m":e=Ke(4,1);break;case"mm":e=Ke(4,2);break;case"s":e=Ke(5,1);break;case"ss":e=Ke(5,2);break;case"S":e=Ke(6,1);break;case"SS":e=Ke(6,2);break;case"SSS":e=Ke(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Uh(0);break;case"ZZZZZ":e=Uh(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Uh(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Uh(2);break;default:return null}return M_[n]=e,e}function kR(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function p$(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function g$(n,e,t){let i=n.getTimezoneOffset(),o=kR(e,i);return p$(n,-1*(o-i))}function m$(n){if(vR(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Hh(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(s$))return y$(r)}let e=new Date(n);if(!vR(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function y$(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function vR(n){return n instanceof Date&&!isNaN(n.valueOf())}var v$=/^(\d+)?\.((\d+)(-(\d+))?)?$/,_R=22,zh=".",Gc="0",_$=";",E$=",",P_="#";function I$(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=ir(t,Gt.Infinity);else{let l=D$(n);s&&(l=T$(l));let h=e.minInt,p=e.minFrac,g=e.maxFrac;if(o){let H=o.match(v$);if(H===null)throw new Error(`${o} is not a valid digit info`);let q=H[1],ge=H[3],Ge=H[5];q!=null&&(h=x_(q)),ge!=null&&(p=x_(ge)),Ge!=null?g=x_(Ge):ge!=null&&p>g&&(g=p)}b$(l,p,g);let m=l.digits,w=l.integerLen,S=l.exponent,R=[];for(c=m.every(H=>!H);w<h;w++)m.unshift(0);for(;w<0;w++)m.unshift(0);w>0?R=m.splice(w,m.length):(R=m,m=[0]);let k=[];for(m.length>=e.lgSize&&k.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)k.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&k.unshift(m.join("")),a=k.join(ir(t,r)),R.length&&(a+=ir(t,i)+R.join("")),S&&(a+=ir(t,Gt.Exponential)+"+"+S)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function OR(n,e,t){let r=AR(e,F_.Decimal),i=w$(r,ir(e,Gt.MinusSign));return I$(n,i,e,Gt.Group,Gt.Decimal,t)}function w$(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(_$),i=r[0],o=r[1],s=i.indexOf(zh)!==-1?i.split(zh):[i.substring(0,i.lastIndexOf(Gc)+1),i.substring(i.lastIndexOf(Gc)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(P_));for(let h=0;h<c.length;h++){let p=c.charAt(h);p===Gc?t.minFrac=t.maxFrac=h+1:p===P_?t.maxFrac=h+1:t.posSuf+=p}let l=a.split(E$);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(P_);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function T$(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function D$(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(zh))>-1&&(e=e.replace(zh,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Gc;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Gc;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>_R&&(r=r.splice(0,_R-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function b$(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=e+n.integerLen,h=r.reduceRight(function(p,g,m,w){return g=g+p,w[m]=g<10?g:g-10,c&&(w[m]===0&&m>=l?w.pop():c=!1),g>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}function x_(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}var k_=/\s+/,ER=[],C$=(()=>{class n{_ngEl;_renderer;initialClasses=ER;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(k_):ER}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(k_):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(k_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(z(It),z(mn))};static \u0275dir=Ee({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var qh=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},FR=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new qh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),IR(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);IR(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(z(jr),z(ho),z(b_))};static \u0275dir=Ee({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function IR(n,e){n.context.$implicit=e.item}var S$=(()=>{class n{_viewContainer;_context=new Gh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){wR(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){wR(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(z(jr),z(ho))};static \u0275dir=Ee({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Gh=class{$implicit=null;ngIf=null};function wR(n,e){if(n&&!n.createEmbeddedView)throw new L(2020,!1)}var A$=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:Xn.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(z(It),z(C_),z(mn))};static \u0275dir=Ee({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),R$=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(z(jr))};static \u0275dir=Ee({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[en]})}return n})();function L_(n,e){return new L(2100,!1)}var N$=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw L_(n,t);return t.toUpperCase()}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Nh({name:"uppercase",type:n,pure:!0})}return n})(),M$="mediumDate",LR=new V(""),VR=new V(""),P$=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??M$,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return PR(t,s,o||this.locale,a)}catch(s){throw L_(n,s.message)}}static \u0275fac=function(r){return new(r||n)(z(Uc,16),z(LR,24),z(VR,24))};static \u0275pipe=Nh({name:"date",type:n,pure:!0})}return n})();var x$=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!k$(t))return null;i||=this._locale;try{let o=O$(t);return OR(o,i,r)}catch(o){throw L_(n,o.message)}}static \u0275fac=function(r){return new(r||n)(z(Uc,16))};static \u0275pipe=Nh({name:"number",type:n,pure:!0})}return n})();function k$(n){return!(n==null||n===""||n!==n)}function O$(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var V_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=zt({type:n});static \u0275inj=Bt({})}return n})();function Wc(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Wh="browser",jR="server";function F$(n){return n===Wh}function Kh(n){return n===jR}var vo=class{};var UR=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>new j_(M(qe),window)})}return n})(),j_=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=L$(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function L$(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Zh=new V(""),H_=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(G(Zh),G(he))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Kc=class{_doc;constructor(e){this._doc=e}manager},Qh="ng-app-id";function BR(n){for(let e of n)e.remove()}function $R(n,e){let t=e.createElement("style");return t.textContent=n,t}function j$(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Qh}="${e}"],link[${Qh}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Qh),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function B_(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var z_=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Kh(o),j$(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,$R);r?.forEach(i=>this.addUsage(i,this.external,B_))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(BR(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])BR(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,$R(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,B_(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Qh,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(G(qe),G(qv),G(Wv,8),G(Ei))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),U_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},q_=/%COMP%/g;var zR="%COMP%",U$=`_nghost-${zR}`,B$=`_ngcontent-${zR}`,$$=!0,H$=new V("",{providedIn:"root",factory:()=>$$});function z$(n){return B$.replace(q_,n)}function q$(n){return U$.replace(q_,n)}function qR(n,e){return e.map(t=>t.replace(q_,n))}var G_=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=h,this.platformIsServer=Kh(a),this.defaultRenderer=new Qc(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Jn.ShadowDom&&(r=se(O({},r),{encapsulation:Jn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Yh?i.applyToHost(t):i instanceof Yc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Jn.Emulated:o=new Yh(c,l,r,this.appId,h,s,a,p,g);break;case Jn.ShadowDom:return new $_(c,l,t,r,s,a,this.nonce,p,g);default:o=new Yc(c,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(G(H_),G(z_),G(qv),G(H$),G(qe),G(Ei),G(he),G(Wv),G($s,8))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Qc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(U_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(HR(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(HR(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=U_[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=U_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Xn.DashCase|Xn.Important)?e.style.setProperty(t,r,i&Xn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Xn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=nn().getGlobalEventTarget(this.doc,e),!e))throw new L(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function HR(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var $_=class extends Qc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=qR(i.id,h);for(let g of h){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=g,this.shadowRoot.appendChild(m)}let p=i.getExternalStyles?.();if(p)for(let g of p){let m=B_(g,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Yc=class extends Qc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?qR(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Yh=class extends Yc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,c,l,h),this.contentAttr=z$(h),this.hostAttr=q$(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Jh=class n extends Bc{supportsDOMEvents=!0;static makeCurrent(){S_(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=G$();return t==null?null:W$(t)}resetBaseElement(){Zc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Wc(document.cookie,e)}},Zc=null;function G$(){return Zc=Zc||document.head.querySelector("base"),Zc?Zc.getAttribute("href"):null}function W$(n){return new URL(n,document.baseURI).pathname}var Xh=class{addToWindow(e){dt.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new L(5103,!1);return o},dt.getAllAngularTestabilities=()=>e.getAllTestabilities(),dt.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=dt.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};dt.frameworkStabilizers||(dt.frameworkStabilizers=[]),dt.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?nn().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},K$=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),WR=(()=>{class n extends Kc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(G(qe))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),GR=["alt","control","meta","shift"],Q$={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Y$={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},KR=(()=>{class n extends Kc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),GR.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=Q$[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),GR.forEach(s=>{if(s!==i){let a=Y$[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(G(qe))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function Z$(n,e){return lR(O({rootComponent:n},J$(e)))}function J$(n){return{appProviders:[...QR,...n?.providers??[]],platformProviders:nH}}function X$(){Jh.makeCurrent()}function eH(){return new Zn}function tH(){return w0(document),document}var nH=[{provide:Ei,useValue:Wh},{provide:Gv,useValue:X$,multi:!0},{provide:qe,useFactory:tH}];var rH=[{provide:jc,useClass:Xh},{provide:E_,useClass:Mh,deps:[he,Ph,jc]},{provide:Mh,useClass:Mh,deps:[he,Ph,jc]}],QR=[{provide:ch,useValue:"root"},{provide:Zn,useFactory:eH},{provide:Zh,useClass:WR,multi:!0,deps:[qe]},{provide:Zh,useClass:KR,multi:!0,deps:[qe]},G_,z_,H_,{provide:xs,useExisting:G_},{provide:vo,useClass:K$},[]],iH=(()=>{class n{constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275mod=zt({type:n});static \u0275inj=Bt({providers:[...QR,...rH],imports:[V_,uR]})}return n})();var Gs=class{},Jc=class{},Di=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var tf=class{encodeKey(e){return YR(e)}encodeValue(e){return YR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function oH(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var sH=/%(\d[a-f0-9])/gi,aH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function YR(n){return encodeURIComponent(n).replace(sH,(e,t)=>aH[t]??e)}function ef(n){return`${n}`}var Br=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new tf,e.fromString){if(e.fromObject)throw new L(2805,!1);this.map=oH(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(ef):[ef(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(ef(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(ef(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var nf=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function cH(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function ZR(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function JR(n){return typeof Blob<"u"&&n instanceof Blob}function XR(n){return typeof FormData<"u"&&n instanceof FormData}function uH(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var eN="Content-Type",tN="Accept",rN="X-Request-URL",iN="text/plain",oN="application/json",lH=`${oN}, ${iN}, */*`,qs=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(cH(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Di,this.context??=new nf,!this.params)this.params=new Br,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||ZR(this.body)||JR(this.body)||XR(this.body)||uH(this.body)?this.body:this.body instanceof Br?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||XR(this.body)?null:JR(this.body)?this.body.type||null:ZR(this.body)?null:typeof this.body=="string"?iN:this.body instanceof Br?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?oN:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((g,m)=>g.set(m,e.setHeaders[m]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,m)=>g.set(m,e.setParams[m]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},_o=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(_o||{}),Ws=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Di,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},rf=class n extends Ws{constructor(e={}){super(e)}type=_o.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Xc=class n extends Ws{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=_o.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},eu=class extends Ws{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},dH=200,hH=204;function W_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var sN=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof qs)o=t;else{let c;i.headers instanceof Di?c=i.headers:c=new Di(i.headers);let l;i.params&&(i.params instanceof Br?l=i.params:l=new Br({fromObject:i.params})),o=new qs(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=W(o).pipe(Gn(c=>this.handler.handle(c)));if(t instanceof qs||i.observe==="events")return s;let a=s.pipe(rt(c=>c instanceof Xc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ee(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new L(2806,!1);return c.body}));case"blob":return a.pipe(ee(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new L(2807,!1);return c.body}));case"text":return a.pipe(ee(c=>{if(c.body!==null&&typeof c.body!="string")throw new L(2808,!1);return c.body}));case"json":default:return a.pipe(ee(c=>c.body))}case"response":return a;default:throw new L(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Br().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,W_(i,r))}post(t,r,i={}){return this.request("POST",t,W_(i,r))}put(t,r,i={}){return this.request("PUT",t,W_(i,r))}static \u0275fac=function(r){return new(r||n)(G(Gs))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();var fH=new V("");function aN(n,e){return e(n)}function pH(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function gH(n,e,t){return(r,i)=>ot(t,()=>e(r,o=>n(o,i)))}var cN=new V(""),Q_=new V(""),uN=new V(""),Y_=new V("",{providedIn:"root",factory:()=>!0});function mH(){let n=null;return(e,t)=>{n===null&&(n=(M(cN,{optional:!0})??[]).reduceRight(pH,aN));let r=M(nr);if(M(Y_)){let o=r.add();return n(e,t).pipe(di(()=>r.remove(o)))}else return n(e,t)}}var of=(()=>{class n extends Gs{backend;injector;chain=null;pendingTasks=M(nr);contributeToStability=M(Y_);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Q_),...this.injector.get(uN,[])]));this.chain=r.reduceRight((i,o)=>gH(i,o,this.injector),aN)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(di(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(G(Jc),G(it))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();var yH=/^\)\]\}',?\n/,vH=RegExp(`^${rN}:`,"m");function _H(n){return"responseURL"in n&&n.responseURL?n.responseURL:vH.test(n.getAllResponseHeaders())?n.getResponseHeader(rN):null}var K_=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new L(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?we(r.\u0275loadImpl()):W(null)).pipe(Lt(()=>new te(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((S,R)=>s.setRequestHeader(S,R.join(","))),t.headers.has(tN)||s.setRequestHeader(tN,lH),!t.headers.has(eN)){let S=t.detectContentTypeHeader();S!==null&&s.setRequestHeader(eN,S)}if(t.responseType){let S=t.responseType.toLowerCase();s.responseType=S!=="json"?S:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let S=s.statusText||"OK",R=new Di(s.getAllResponseHeaders()),k=_H(s)||t.url;return c=new rf({headers:R,status:s.status,statusText:S,url:k}),c},h=()=>{let{headers:S,status:R,statusText:k,url:H}=l(),q=null;R!==hH&&(q=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=q?dH:0);let ge=R>=200&&R<300;if(t.responseType==="json"&&typeof q=="string"){let Ge=q;q=q.replace(yH,"");try{q=q!==""?JSON.parse(q):null}catch(ve){q=Ge,ge&&(ge=!1,q={error:ve,text:q})}}ge?(o.next(new Xc({body:q,headers:S,status:R,statusText:k,url:H||void 0})),o.complete()):o.error(new eu({error:q,headers:S,status:R,statusText:k,url:H||void 0}))},p=S=>{let{url:R}=l(),k=new eu({error:S,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(k)},g=!1,m=S=>{g||(o.next(l()),g=!0);let R={type:_o.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(R.total=S.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},w=S=>{let R={type:_o.UploadProgress,loaded:S.loaded};S.lengthComputable&&(R.total=S.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",m),a!==null&&s.upload&&s.upload.addEventListener("progress",w)),s.send(a),o.next({type:_o.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",m),a!==null&&s.upload&&s.upload.removeEventListener("progress",w)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(G(vo))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),lN=new V(""),EH="XSRF-TOKEN",IH=new V("",{providedIn:"root",factory:()=>EH}),wH="X-XSRF-TOKEN",TH=new V("",{providedIn:"root",factory:()=>wH}),tu=class{},DH=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Wc(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(G(qe),G(IH))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function bH(n,e){let t=n.url.toLowerCase();if(!M(lN)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=M(tu).getToken(),i=M(TH);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Z_=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Z_||{});function CH(n,e){return{\u0275kind:n,\u0275providers:e}}function dN(...n){let e=[sN,K_,of,{provide:Gs,useExisting:of},{provide:Jc,useFactory:()=>M(fH,{optional:!0})??M(K_)},{provide:Q_,useValue:bH,multi:!0},{provide:lN,useValue:!0},{provide:tu,useClass:DH}];for(let t of n)e.push(...t.\u0275providers);return Xt(e)}var nN=new V("");function hN(){return CH(Z_.LegacyInterceptors,[{provide:nN,useFactory:mH},{provide:Q_,useExisting:nN,multi:!0}])}var SH=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=zt({type:n});static \u0275inj=Bt({providers:[dN(hN())]})}return n})();var fN=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(G(qe))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var AH=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=G(RH),i},providedIn:"root"})}return n})(),RH=(()=>{class n extends AH{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case Sn.NONE:return r;case Sn.HTML:return Lr(r,"HTML")?gn(r):Jv(this._doc,String(r)).toString();case Sn.STYLE:return Lr(r,"Style")?gn(r):r;case Sn.SCRIPT:if(Lr(r,"Script"))return gn(r);throw new L(5200,!1);case Sn.URL:return Lr(r,"URL")?gn(r):Ih(String(r));case Sn.RESOURCE_URL:if(Lr(r,"ResourceURL"))return gn(r);throw new L(5201,!1);default:throw new L(5202,!1)}}bypassSecurityTrustHtml(t){return M0(t)}bypassSecurityTrustStyle(t){return P0(t)}bypassSecurityTrustScript(t){return x0(t)}bypassSecurityTrustUrl(t){return k0(t)}bypassSecurityTrustResourceUrl(t){return O0(t)}static \u0275fac=function(r){return new(r||n)(G(qe))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ae="primary",pu=Symbol("RouteTitle"),nE=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function wo(n){return new nE(n)}function IN(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function MH(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!or(n[t],e[t]))return!1;return!0}function or(n,e){let t=n?rE(n):void 0,r=e?rE(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!wN(n[i],e[i]))return!1;return!0}function rE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function wN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function TN(n){return n.length>0?n[n.length-1]:null}function Ri(n){return $m(n)?n:mo(n)?we(Promise.resolve(n)):W(n)}var PH={exact:bN,subset:CN},DN={exact:xH,subset:kH,ignored:()=>!0};function pN(n,e,t){return PH[t.paths](n.root,e.root,t.matrixParams)&&DN[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function xH(n,e){return or(n,e)}function bN(n,e,t){if(!Eo(n.segments,e.segments)||!cf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!bN(n.children[r],e.children[r],t))return!1;return!0}function kH(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>wN(n[t],e[t]))}function CN(n,e,t){return SN(n,e,e.segments,t)}function SN(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Eo(i,t)||e.hasChildren()||!cf(i,t,r))}else if(n.segments.length===t.length){if(!Eo(n.segments,t)||!cf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!CN(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Eo(n.segments,i)||!cf(n.segments,i,r)||!n.children[ae]?!1:SN(n.children[ae],e,o,r)}}function cf(n,e,t){return e.every((r,i)=>DN[t](n[i].parameters,r.parameters))}var ar=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ie([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=wo(this.queryParams),this._queryParamMap}toString(){return LH.serialize(this)}},Ie=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uf(this)}},bi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=wo(this.parameters),this._parameterMap}toString(){return RN(this)}};function OH(n,e){return Eo(n,e)&&n.every((t,r)=>or(t.parameters,e[r].parameters))}function Eo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function FH(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ae&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ae&&(t=t.concat(e(i,r)))}),t}var To=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>new Ci,providedIn:"root"})}return n})(),Ci=class{parse(e){let t=new oE(e);return new ar(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${nu(e.root,!0)}`,r=UH(e.queryParams),i=typeof e.fragment=="string"?`#${VH(e.fragment)}`:"";return`${t}${r}${i}`}},LH=new Ci;function uf(n){return n.segments.map(e=>RN(e)).join("/")}function nu(n,e){if(!n.hasChildren())return uf(n);if(e){let t=n.children[ae]?nu(n.children[ae],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ae&&r.push(`${i}:${nu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=FH(n,(r,i)=>i===ae?[nu(n.children[ae],!1)]:[`${i}:${nu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ae]!=null?`${uf(n)}/${t[0]}`:`${uf(n)}/(${t.join("//")})`}}function AN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sf(n){return AN(n).replace(/%3B/gi,";")}function VH(n){return encodeURI(n)}function iE(n){return AN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lf(n){return decodeURIComponent(n)}function gN(n){return lf(n.replace(/\+/g,"%20"))}function RN(n){return`${iE(n.path)}${jH(n.parameters)}`}function jH(n){return Object.entries(n).map(([e,t])=>`;${iE(e)}=${iE(t)}`).join("")}function UH(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${sf(t)}=${sf(i)}`).join("&"):`${sf(t)}=${sf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var BH=/^[^\/()?;#]+/;function J_(n){let e=n.match(BH);return e?e[0]:""}var $H=/^[^\/()?;=#]+/;function HH(n){let e=n.match($H);return e?e[0]:""}var zH=/^[^=?&#]+/;function qH(n){let e=n.match(zH);return e?e[0]:""}var GH=/^[^&#]+/;function WH(n){let e=n.match(GH);return e?e[0]:""}var oE=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ae]=new Ie(e,t)),r}parseSegment(){let e=J_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new bi(lf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=HH(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=J_(this.remaining);i&&(r=i,this.capture(r))}e[lf(t)]=lf(r)}parseQueryParam(e){let t=qH(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=WH(this.remaining);s&&(r=s,this.capture(r))}let i=gN(t),o=gN(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=J_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new L(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ae);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ae]:new Ie([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function NN(n){return n.segments.length>0?new Ie([],{[ae]:n}):n}function MN(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=MN(i);if(r===ae&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ie(n.segments,e);return KH(t)}function KH(n){if(n.numberOfChildren===1&&n.children[ae]){let e=n.children[ae];return new Ie(n.segments.concat(e.segments),e.children)}return n}function Si(n){return n instanceof ar}function PN(n,e,t=null,r=null){let i=xN(n);return kN(i,e,t,r)}function xN(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Ie(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=NN(r);return e??i}function kN(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return X_(i,i,i,t,r);let o=QH(e);if(o.toRoot())return X_(i,i,new Ie([],{}),t,r);let s=YH(o,i,n),a=s.processChildren?iu(s.segmentGroup,s.index,o.commands):FN(s.segmentGroup,s.index,o.commands);return X_(i,s.segmentGroup,a,t,r)}function hf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function su(n){return typeof n=="object"&&n!=null&&n.outlets}function X_(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=ON(n,e,t);let a=NN(MN(s));return new ar(a,o,i)}function ON(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=ON(o,e,t)}),new Ie(n.segments,r)}var ff=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&hf(r[0]))throw new L(4003,!1);let i=r.find(su);if(i&&i!==TN(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function QH(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new ff(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ff(t,e,r)}var Ys=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function YH(n,e,t){if(n.isAbsolute)return new Ys(e,!0,0);if(!t)return new Ys(e,!1,NaN);if(t.parent===null)return new Ys(t,!0,0);let r=hf(n.commands[0])?0:1,i=t.segments.length-1+r;return ZH(t,i,n.numberOfDoubleDots)}function ZH(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new Ys(r,!1,i-o)}function JH(n){return su(n[0])?n[0].outlets:{[ae]:n}}function FN(n,e,t){if(n??=new Ie([],{}),n.segments.length===0&&n.hasChildren())return iu(n,e,t);let r=XH(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ie(n.segments.slice(0,r.pathIndex),{});return o.children[ae]=new Ie(n.segments.slice(r.pathIndex),n.children),iu(o,0,i)}else return r.match&&i.length===0?new Ie(n.segments,{}):r.match&&!n.hasChildren()?sE(n,e,t):r.match?iu(n,0,i):sE(n,e,t)}function iu(n,e,t){if(t.length===0)return new Ie(n.segments,{});{let r=JH(t),i={};if(Object.keys(r).some(o=>o!==ae)&&n.children[ae]&&n.numberOfChildren===1&&n.children[ae].segments.length===0){let o=iu(n.children[ae],e,t);return new Ie(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=FN(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ie(n.segments,i)}}function XH(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(su(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!yN(c,l,s))return o;r+=2}else{if(!yN(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function sE(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(su(o)){let c=e4(o.outlets);return new Ie(r,c)}if(i===0&&hf(t[0])){let c=n.segments[e];r.push(new bi(c.path,mN(t[0]))),i++;continue}let s=su(o)?o.outlets[ae]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&hf(a)?(r.push(new bi(s,mN(a))),i+=2):(r.push(new bi(s,{})),i++)}return new Ie(r,{})}function e4(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=sE(new Ie([],{}),0,r))}),e}function mN(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function yN(n,e,t){return n==t.path&&or(e,t.parameters)}var df="imperative",nt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(nt||{}),on=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ai=class extends on{type=nt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},sn=class extends on{urlAfterRedirects;type=nt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Wt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Wt||{}),Js=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Js||{}),sr=class extends on{reason;code;type=nt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},cr=class extends on{reason;code;type=nt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Xs=class extends on{error;target;type=nt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},au=class extends on{urlAfterRedirects;state;type=nt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pf=class extends on{urlAfterRedirects;state;type=nt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gf=class extends on{urlAfterRedirects;state;shouldActivate;type=nt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},mf=class extends on{urlAfterRedirects;state;type=nt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yf=class extends on{urlAfterRedirects;state;type=nt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vf=class{route;type=nt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_f=class{route;type=nt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ef=class{snapshot;type=nt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},If=class{snapshot;type=nt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wf=class{snapshot;type=nt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tf=class{snapshot;type=nt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ea=class{routerEvent;position;anchor;type=nt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},cu=class{},ta=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function t4(n,e){return n.providers&&!n._injector&&(n._injector=Vc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function xn(n){return n.outlet||ae}function n4(n,e){let t=n.filter(r=>xn(r)===e);return t.push(...n.filter(r=>xn(r)!==e)),t}function gu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Df=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return gu(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Do(this.rootInjector)}},Do=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Df(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(G(it))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=aE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=aE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=cE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return cE(e,this._root).map(t=>t.value)}};function aE(n,e){if(n===e.value)return e;for(let t of e.children){let r=aE(n,t);if(r)return r}return null}function cE(n,e){if(n===e.value)return[e];for(let t of e.children){let r=cE(n,t);if(r.length)return r.unshift(e),r}return[]}var rn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Qs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var uu=class extends bf{snapshot;constructor(e,t){super(e),this.snapshot=t,mE(this,e)}toString(){return this.snapshot.toString()}};function LN(n){let e=r4(n),t=new ze([new bi("",{})]),r=new ze({}),i=new ze({}),o=new ze({}),s=new ze(""),a=new ur(t,r,o,s,i,ae,n,e.root);return a.snapshot=e.root,new uu(new rn(a,[]),e)}function r4(n){let e={},t={},r={},i="",o=new Io([],e,r,i,t,ae,n,null,{});return new lu("",new rn(o,[]))}var ur=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ee(l=>l[pu]))??W(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>wo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>wo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Cf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),n.params),data:O(O({},e.data),n.data),resolve:O(O(O(O({},n.data),e.data),i?.data),n._resolvedData)}:r={params:O({},n.params),data:O({},n.data),resolve:O(O({},n.data),n._resolvedData??{})},i&&jN(i)&&(r.resolve[pu]=i.title),r}var Io=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[pu]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},lu=class extends bf{url;constructor(e,t){super(t),this.url=e,mE(this,t)}toString(){return VN(this._root)}};function mE(n,e){e.value._routerState=n,e.children.forEach(t=>mE(n,t))}function VN(n){let e=n.children.length>0?` { ${n.children.map(VN).join(", ")} } `:"";return`${n.value}${e}`}function eE(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,or(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),or(e.params,t.params)||n.paramsSubject.next(t.params),MH(e.url,t.url)||n.urlSubject.next(t.url),or(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function uE(n,e){let t=or(n.params,e.params)&&OH(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||uE(n.parent,e.parent))}function jN(n){return typeof n.title=="string"||n.title===null}var UN=new V(""),yE=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ae;activateEvents=new Fe;deactivateEvents=new Fe;attachEvents=new Fe;detachEvents=new Fe;routerOutletData=f0(void 0);parentContexts=M(Do);location=M(jr);changeDetector=M(Ii);inputBinder=M(mu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new lE(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ee({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[en]})}return n})(),lE=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===ur?this.route:e===Do?this.childContexts:e===UN?this.outletData:this.parent.get(e,t)}},mu=new V(""),vE=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=vc([r.queryParams,r.params,r.data]).pipe(Lt(([o,s,a],c)=>(a=O(O(O({},o),s),a),c===0?W(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=fR(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),_E=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=AA({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&T_(0,"router-outlet")},dependencies:[yE],encapsulation:2})}return n})();function EE(n){let e=n.children&&n.children.map(EE),t=e?se(O({},n),{children:e}):O({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ae&&(t.component=_E),t}function i4(n,e,t){let r=du(n,e._root,t?t._root:void 0);return new uu(r,e)}function du(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=o4(n,e,t);return new rn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>du(n,a)),s}}let r=s4(e.value),i=e.children.map(o=>du(n,o));return new rn(r,i)}}function o4(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return du(n,r,i);return du(n,r)})}function s4(n){return new ur(new ze(n.url),new ze(n.params),new ze(n.queryParams),new ze(n.fragment),new ze(n.data),n.outlet,n.component,n)}var na=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},BN="ngNavigationCancelingError";function Sf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Si(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$N(!1,Wt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function $N(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[BN]=!0,t.cancellationCode=e,t}function a4(n){return HN(n)&&Si(n.url)}function HN(n){return!!n&&n[BN]}var c4=(n,e,t,r)=>ee(i=>(new dE(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),dE=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),eE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Qs(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Qs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Qs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Qs(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Tf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new If(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(eE(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),eE(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Af=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Zs=class{component;route;constructor(e,t){this.component=e,this.route=t}};function u4(n,e,t){let r=n._root,i=e?e._root:null;return ru(r,i,t,[r.value])}function l4(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ia(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!fS(n)?n:e.get(n):r}function ru(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Qs(e);return n.children.forEach(s=>{d4(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ou(a,t.getContext(s),i)),i}function d4(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=h4(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Af(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ru(n,e,a?a.children:null,r,i):ru(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Zs(a.outlet.component,s))}else s&&ou(e,a,i),i.canActivateChecks.push(new Af(r)),o.component?ru(n,null,a?a.children:null,r,i):ru(n,null,t,r,i);return i}function h4(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Eo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Eo(n.url,e.url)||!or(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uE(n,e)||!or(n.queryParams,e.queryParams);case"paramsChange":default:return!uE(n,e)}}function ou(n,e,t){let r=Qs(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ou(s,e.children.getContext(o),t):ou(s,null,t):ou(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Zs(e.outlet.component,i)):t.canDeactivateChecks.push(new Zs(null,i)):t.canDeactivateChecks.push(new Zs(null,i))}function yu(n){return typeof n=="function"}function f4(n){return typeof n=="boolean"}function p4(n){return n&&yu(n.canLoad)}function g4(n){return n&&yu(n.canActivate)}function m4(n){return n&&yu(n.canActivateChild)}function y4(n){return n&&yu(n.canDeactivate)}function v4(n){return n&&yu(n.canMatch)}function zN(n){return n instanceof Cr||n?.name==="EmptyError"}var af=Symbol("INITIAL_VALUE");function ra(){return Lt(n=>vc(n.map(e=>e.pipe(hn(1),wd(af)))).pipe(ee(e=>{for(let t of e)if(t!==!0){if(t===af)return af;if(t===!1||_4(t))return t}return!0}),rt(e=>e!==af),hn(1)))}function _4(n){return Si(n)||n instanceof na}function E4(n,e){return Oe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?W(se(O({},t),{guardsResult:!0})):I4(s,r,i,n).pipe(Oe(a=>a&&f4(a)?w4(r,o,n,e):W(a)),ee(a=>se(O({},t),{guardsResult:a})))})}function I4(n,e,t,r){return we(n).pipe(Oe(i=>S4(i.component,i.route,t,e,r)),Sr(i=>i!==!0,!0))}function w4(n,e,t,r){return we(e).pipe(Gn(i=>ui(D4(i.route.parent,r),T4(i.route,r),C4(n,i.path,t),b4(n,i.route,t))),Sr(i=>i!==!0,!0))}function T4(n,e){return n!==null&&e&&e(new wf(n)),W(!0)}function D4(n,e){return n!==null&&e&&e(new Ef(n)),W(!0)}function b4(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(o=>Ed(()=>{let s=gu(e)??t,a=ia(o,s),c=g4(a)?a.canActivate(e,n):ot(s,()=>a(e,n));return Ri(c).pipe(Sr())}));return W(i).pipe(ra())}function C4(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>l4(s)).filter(s=>s!==null).map(s=>Ed(()=>{let a=s.guards.map(c=>{let l=gu(s.node)??t,h=ia(c,l),p=m4(h)?h.canActivateChild(r,n):ot(l,()=>h(r,n));return Ri(p).pipe(Sr())});return W(a).pipe(ra())}));return W(o).pipe(ra())}function S4(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(a=>{let c=gu(e)??i,l=ia(a,c),h=y4(l)?l.canDeactivate(n,e,t,r):ot(c,()=>l(n,e,t,r));return Ri(h).pipe(Sr())});return W(s).pipe(ra())}function A4(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let o=i.map(s=>{let a=ia(s,n),c=p4(a)?a.canLoad(e,t):ot(n,()=>a(e,t));return Ri(c)});return W(o).pipe(ra(),qN(r))}function qN(n){return Xl(lt(e=>{if(typeof e!="boolean")throw Sf(n,e)}),ee(e=>e===!0))}function R4(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let o=i.map(s=>{let a=ia(s,n),c=v4(a)?a.canMatch(e,t):ot(n,()=>a(e,t));return Ri(c)});return W(o).pipe(ra(),qN(r))}var hu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},fu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ks(n){return ms(new hu(n))}function N4(n){return ms(new L(4e3,!1))}function M4(n){return ms($N(!1,Wt.GuardRejected))}var hE=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[ae])return N4(`${e.redirectTo}`);i=i.children[ae]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:h,url:p,outlet:g,params:m,data:w,title:S}=i,R=ot(o,()=>a({params:m,data:w,queryParams:c,fragment:l,routeConfig:h,url:p,outlet:g,title:S}));if(R instanceof ar)throw new fu(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new fu(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new ar(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ie(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},fE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function P4(n,e,t,r,i){let o=GN(n,e,t);return o.matched?(r=t4(e,r),R4(r,e,t,i).pipe(ee(s=>s===!0?o:O({},fE)))):W(o)}function GN(n,e,t){if(e.path==="**")return x4(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?O({},fE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||IN)(t,n,e);if(!i)return O({},fE);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function x4(n){return{matched:!0,parameters:n.length>0?TN(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function vN(n,e,t,r){return t.length>0&&F4(n,t,r)?{segmentGroup:new Ie(e,O4(r,new Ie(t,n.children))),slicedSegments:[]}:t.length===0&&L4(n,t,r)?{segmentGroup:new Ie(n.segments,k4(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ie(n.segments,n.children),slicedSegments:t}}function k4(n,e,t,r){let i={};for(let o of t)if(Nf(n,e,o)&&!r[xn(o)]){let s=new Ie([],{});i[xn(o)]=s}return O(O({},r),i)}function O4(n,e){let t={};t[ae]=e;for(let r of n)if(r.path===""&&xn(r)!==ae){let i=new Ie([],{});t[xn(r)]=i}return t}function F4(n,e,t){return t.some(r=>Nf(n,e,r)&&xn(r)!==ae)}function L4(n,e,t){return t.some(r=>Nf(n,e,r))}function Nf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function V4(n,e,t){return e.length===0&&!n.children[t]}var pE=class{};function j4(n,e,t,r,i,o,s="emptyOnly"){return new gE(n,e,t,r,i,s,o).recognize()}var U4=31,gE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new hE(this.urlSerializer,this.urlTree)}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=vN(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(({children:t,rootSnapshot:r})=>{let i=new rn(r,t),o=new lu("",i),s=PN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Io([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ae,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ae,t).pipe(ee(r=>({children:r,rootSnapshot:t})),qn(r=>{if(r instanceof fu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof hu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ee(s=>s instanceof rn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return we(o).pipe(Gn(s=>{let a=r.children[s],c=n4(t,s);return this.processSegmentGroup(e,c,a,s,i)}),_c((s,a)=>(s.push(...a),s)),li(null),qm(),Oe(s=>{if(s===null)return Ks(r);let a=WN(s);return B4(a),W(a)}))}processSegment(e,t,r,i,o,s,a){return we(t).pipe(Gn(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(qn(l=>{if(l instanceof hu)return W(null);throw l}))),Sr(c=>!!c),qn(c=>{if(zN(c))return V4(r,i,o)?W(new pE):Ks(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return xn(r)!==s&&(s===ae||!Nf(i,o,r))?Ks(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Ks(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=GN(t,i,o);if(!c)return Ks(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>U4&&(this.allowRedirects=!1));let m=new Io(o,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,_N(i),xn(i),i.component??i._loadedComponent??null,i,EN(i)),w=Cf(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(w.params),m.data=Object.freeze(w.data);let S=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,m,e);return this.applyRedirects.lineralizeSegments(i,S).pipe(Oe(R=>this.processSegment(e,r,t,R.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=P4(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Lt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Lt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:m}=c,w=new Io(g,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,_N(r),xn(r),r.component??r._loadedComponent??null,r,EN(r)),S=Cf(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(S.params),w.data=Object.freeze(S.data);let{segmentGroup:R,slicedSegments:k}=vN(t,g,m,l);if(k.length===0&&R.hasChildren())return this.processChildren(h,l,R,w).pipe(ee(q=>new rn(w,q)));if(l.length===0&&k.length===0)return W(new rn(w,[]));let H=xn(r)===o;return this.processSegment(h,l,R,k,H?ae:o,!0,w).pipe(ee(q=>new rn(w,q instanceof rn?[q]:[])))}))):Ks(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?W({routes:t._loadedRoutes,injector:t._loadedInjector}):A4(e,t,r,this.urlSerializer).pipe(Oe(i=>i?this.configLoader.loadChildren(e,t).pipe(lt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):M4(t))):W({routes:[],injector:e})}};function B4(n){n.sort((e,t)=>e.value.outlet===ae?-1:t.value.outlet===ae?1:e.value.outlet.localeCompare(t.value.outlet))}function $4(n){let e=n.value.routeConfig;return e&&e.path===""}function WN(n){let e=[],t=new Set;for(let r of n){if(!$4(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=WN(r.children);e.push(new rn(r.value,i))}return e.filter(r=>!t.has(r))}function _N(n){return n.data||{}}function EN(n){return n.resolve||{}}function H4(n,e,t,r,i,o){return Oe(s=>j4(n,e,t,r,s.extractedUrl,i,o).pipe(ee(({state:a,tree:c})=>se(O({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function z4(n,e){return Oe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of KN(c))s.add(l);let a=0;return we(s).pipe(Gn(c=>o.has(c)?q4(c,r,n,e):(c.data=Cf(c,c.parent,n).resolve,W(void 0))),lt(()=>a++),vs(1),Oe(c=>a===s.size?W(t):yt))})}function KN(n){let e=n.children.map(t=>KN(t)).flat();return[n,...e]}function q4(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!jN(i)&&(o[pu]=i.title),G4(o,n,e,r).pipe(ee(s=>(n._resolvedData=s,n.data=Cf(n,n.parent,t).resolve,null)))}function G4(n,e,t,r){let i=rE(n);if(i.length===0)return W({});let o={};return we(i).pipe(Oe(s=>W4(n[s],e,t,r).pipe(Sr(),lt(a=>{if(a instanceof na)throw Sf(new Ci,a);o[s]=a}))),vs(1),ee(()=>o),qn(s=>zN(s)?yt:ms(s)))}function W4(n,e,t,r){let i=gu(e)??r,o=ia(n,i),s=o.resolve?o.resolve(e,t):ot(i,()=>o(e,t));return Ri(s)}function tE(n){return Lt(e=>{let t=n(e);return t?we(t).pipe(ee(()=>e)):W(e)})}var IE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ae);return r}getResolvedTitleForRoute(t){return t.data[pu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(QN),providedIn:"root"})}return n})(),QN=(()=>{class n extends IE{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(G(fN))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bo=new V("",{providedIn:"root",factory:()=>({})}),Co=new V(""),Mf=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(sR);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Ri(t.loadComponent()).pipe(ee(ZN),lt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),di(()=>{this.componentLoaders.delete(t)})),i=new hs(r,()=>new Se).pipe(ds());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=YN(r,this.compiler,t,this.onLoadEndListener).pipe(di(()=>{this.childrenLoaders.delete(r)})),s=new hs(o,()=>new Se).pipe(ds());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function YN(n,e,t,r){return Ri(n.loadChildren()).pipe(ee(ZN),Oe(i=>i instanceof m_||Array.isArray(i)?W(i):we(e.compileModuleAsync(i))),ee(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Co,[],{optional:!0,self:!0}).flat()),{routes:s.map(EE),injector:o}}))}function K4(n){return n&&typeof n=="object"&&"default"in n}function ZN(n){return K4(n)?n.default:n}var Pf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(Q4),providedIn:"root"})}return n})(),Q4=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wE=new V(""),TE=new V("");function JN(n,e,t){let r=n.get(TE),i=n.get(qe);return n.get(he).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),Y4(n))),{onViewTransitionCreated:c}=r;return c&&ot(n,()=>c({transition:a,from:e,to:t})),s})}function Y4(n){return new Promise(e=>{Yv({read:()=>setTimeout(e)},{injector:n})})}var DE=new V(""),xf=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Se;transitionAbortSubject=new Se;configLoader=M(Mf);environmentInjector=M(it);destroyRef=M(Or);urlSerializer=M(To);rootContexts=M(Do);location=M(Ti);inputBindingEnabled=M(mu,{optional:!0})!==null;titleStrategy=M(IE);options=M(bo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M(Pf);createViewTransition=M(wE,{optional:!0});navigationErrorHandler=M(DE,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new vf(i)),r=i=>this.events.next(new _f(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(se(O({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new ze(null),this.transitions.pipe(rt(r=>r!==null),Lt(r=>{let i=!1,o=!1;return W(r).pipe(Lt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Wt.SupersededByNewNavigation),yt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?se(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new cr(s.id,this.urlSerializer.serialize(s.rawUrl),l,Js.IgnoredSameUrlNavigation)),s.resolve(!1),yt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return W(s).pipe(Lt(l=>(this.events.next(new Ai(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?yt:Promise.resolve(l))),H4(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),lt(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=se(O({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new au(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:g,extras:m}=s,w=new Ai(l,this.urlSerializer.serialize(h),p,g);this.events.next(w);let S=LN(this.rootComponentType).snapshot;return this.currentTransition=r=se(O({},s),{targetSnapshot:S,urlAfterRedirects:h,extras:se(O({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,W(r)}else{let l="";return this.events.next(new cr(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Js.IgnoredByUrlHandlingStrategy)),s.resolve(!1),yt}}),lt(s=>{let a=new pf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ee(s=>(this.currentTransition=r=se(O({},s),{guards:u4(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),E4(this.environmentInjector,s=>this.events.next(s)),lt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Sf(this.urlSerializer,s.guardsResult);let a=new gf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),rt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Wt.GuardRejected),!1)),tE(s=>{if(s.guards.canActivateChecks.length!==0)return W(s).pipe(lt(a=>{let c=new mf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Lt(a=>{let c=!1;return W(a).pipe(z4(this.paramsInheritanceStrategy,this.environmentInjector),lt({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Wt.NoDataFromResolver)}}))}),lt(a=>{let c=new yf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),tE(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(lt(h=>{c.component=h}),ee(()=>{})));for(let h of c.children)l.push(...a(h));return l};return vc(a(s.targetSnapshot.root)).pipe(li(null),hn(1))}),tE(()=>this.afterPreactivation()),Lt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?we(c).pipe(ee(()=>r)):W(r)}),ee(s=>{let a=i4(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=se(O({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),lt(()=>{this.events.next(new cu)}),c4(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),hn(1),lt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Km(this.transitionAbortSubject.pipe(lt(s=>{throw s}))),di(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Wt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),qn(s=>{if(this.destroyed)return r.resolve(!1),yt;if(o=!0,HN(s))this.events.next(new sr(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),a4(s)?this.events.next(new ta(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Xs(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=ot(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof na){let{message:l,cancellationCode:h}=Sf(this.urlSerializer,c);this.events.next(new sr(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new ta(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return yt}))}))}cancelNavigationTransition(t,r,i){let o=new sr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Z4(n){return n!==df}var XN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(J4),providedIn:"root"})}return n})(),Rf=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},J4=(()=>{class n extends Rf{static \u0275fac=(()=>{let t;return function(i){return(t||(t=tr(n)))(i||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eM=(()=>{class n{urlSerializer=M(To);options=M(bo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=M(Ti);urlHandlingStrategy=M(Pf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ar;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof ar?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=LN(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>M(X4),providedIn:"root"})}return n})(),X4=(()=>{class n extends eM{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ai?this.updateStateMemento():t instanceof cr?this.commitTransition(r):t instanceof au?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof cu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof sr&&(t.code===Wt.GuardRejected||t.code===Wt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Xs?this.restoreHistory(r,!0):t instanceof sn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=O(O({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=O(O({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=tr(n)))(i||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kf(n,e){n.events.pipe(rt(t=>t instanceof sn||t instanceof sr||t instanceof Xs||t instanceof cr),ee(t=>t instanceof sn||t instanceof cr?0:(t instanceof sr?t.code===Wt.Redirect||t.code===Wt.SupersededByNewNavigation:!1)?2:1),rt(t=>t!==2),hn(1)).subscribe(()=>{e()})}var ez={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},kn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(__);stateManager=M(eM);options=M(bo,{optional:!0})||{};pendingTasks=M(nr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(xf);urlSerializer=M(To);location=M(Ti);urlHandlingStrategy=M(Pf);_events=new Se;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(XN);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(Co,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M(mu,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ue;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof sr&&r.code!==Wt.Redirect&&r.code!==Wt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof sn)this.navigated=!0;else if(r instanceof ta){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Z4(i.source)},s);this.scheduleNavigation(a,df,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}rz(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),df,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=O({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(EE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=xN(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return kN(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Si(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,df,null,r)}navigate(t,r={skipLocationChange:!1}){return nz(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=O({},ez):r===!1?i=O({},tz):i=r,Si(t))return pN(this.currentUrlTree,t,i);let o=this.parseUrl(t);return pN(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,c=g});let h=this.pendingTasks.add();return kf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nz(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new L(4008,!1)}function rz(n){return!(n instanceof cu)&&!(n instanceof ta)}var Of=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Se;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof sn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Si(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:B0(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Si(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(z(kn),z(ur),yh("tabindex"),z(mn),z(It),z(Mn))};static \u0275dir=Ee({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&rr("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&zs("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",wi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",wi],replaceUrl:[2,"replaceUrl","replaceUrl",wi],routerLink:"routerLink"},features:[en]})}return n})(),iz=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Fe;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof sn&&this.update()})}ngAfterContentInit(){W(this.links.changes,W(null)).pipe(zn()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=we(t).pipe(zn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=oz(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(z(kn),z(It),z(mn),z(Ii),z(Of,8))};static \u0275dir=Ee({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&YA(o,Of,5),r&2){let s;ZA(s=JA())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[en]})}return n})();function oz(n){return!!n.paths}var vu=class{};var tM=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(rt(t=>t instanceof sn),Gn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Vc(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return we(i).pipe(zn())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=W(null);let o=i.pipe(Oe(s=>s===null?W(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return we([o,s]).pipe(zn())}else return o})}static \u0275fac=function(r){return new(r||n)(G(kn),G(it),G(vu),G(Mf))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nM=new V(""),sz=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ai?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof sn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof cr&&t.code===Js.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ea&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ea(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){mA()};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function az(n,...e){return Xt([{provide:Co,multi:!0,useValue:n},[],{provide:ur,useFactory:rM,deps:[kn]},{provide:xh,multi:!0,useFactory:iM},e.map(t=>t.\u0275providers)])}function rM(n){return n.routerState.root}function _u(n,e){return{\u0275kind:n,\u0275providers:e}}function iM(){let n=M(Le);return e=>{let t=n.get(Mr);if(e!==t.components[0])return;let r=n.get(kn),i=n.get(oM);n.get(CE)===1&&r.initialNavigation(),n.get(cM,null,ce.Optional)?.setUpPreloading(),n.get(nM,null,ce.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var oM=new V("",{factory:()=>new Se}),CE=new V("",{providedIn:"root",factory:()=>1});function sM(){let n=[{provide:CE,useValue:0},w_(()=>{let e=M(Le);return e.get(A_,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(kn),o=e.get(oM);kf(i,()=>{r(!0)}),e.get(xf).afterPreactivation=()=>(r(!0),o.closed?W(void 0):o),i.initialNavigation()}))})];return _u(2,n)}function aM(){let n=[w_(()=>{M(kn).setUpLocationChangeListener()}),{provide:CE,useValue:2}];return _u(3,n)}var cM=new V("");function uM(n){return _u(0,[{provide:cM,useExisting:tM},{provide:vu,useExisting:n}])}function lM(){return _u(8,[vE,{provide:mu,useExisting:vE}])}function dM(n){Fr("NgRouterViewTransitions");let e=[{provide:wE,useValue:JN},{provide:TE,useValue:O({skipNextTransition:!!n?.skipInitialTransition},n)}];return _u(9,e)}var hM=[Ti,{provide:To,useClass:Ci},kn,Do,{provide:ur,useFactory:rM,deps:[kn]},Mf,[]],cz=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[hM,[],{provide:Co,multi:!0,useValue:t},[],r?.errorHandler?{provide:DE,useValue:r.errorHandler}:[],{provide:bo,useValue:r||{}},r?.useHash?lz():dz(),uz(),r?.preloadingStrategy?uM(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?hz(r):[],r?.bindToComponentInputs?lM().\u0275providers:[],r?.enableViewTransitions?dM().\u0275providers:[],fz()]}}static forChild(t){return{ngModule:n,providers:[{provide:Co,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=zt({type:n});static \u0275inj=Bt({})}return n})();function uz(){return{provide:nM,useFactory:()=>{let n=M(UR),e=M(he),t=M(bo),r=M(xf),i=M(To);return t.scrollOffset&&n.setOffset(t.scrollOffset),new sz(i,r,n,e,t)}}}function lz(){return{provide:Mn,useClass:O_}}function dz(){return{provide:Mn,useClass:Lh}}function hz(n){return[n.initialNavigation==="disabled"?aM().\u0275providers:[],n.initialNavigation==="enabledBlocking"?sM().\u0275providers:[]]}var bE=new V("");function fz(){return[{provide:bE,useFactory:iM},{provide:xh,multi:!0,useExisting:bE}]}var wM=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(z(mn),z(It))};static \u0275dir=Ee({type:n})}return n})(),Wf=(()=>{class n extends wM{static \u0275fac=(()=>{let t;return function(i){return(t||(t=tr(n)))(i||n)}})();static \u0275dir=Ee({type:n,features:[wt]})}return n})(),So=new V(""),pz={provide:So,useExisting:Ut(()=>gz),multi:!0},gz=(()=>{class n extends Wf{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=tr(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&rr("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[yn([pz]),wt]})}return n})(),mz={provide:So,useExisting:Ut(()=>TM),multi:!0};function yz(){let n=nn()?nn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var vz=new V(""),TM=(()=>{class n extends wM{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!yz())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(z(mn),z(It),z(vz,8))};static \u0275dir=Ee({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&rr("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[yn([mz]),wt]})}return n})();function NE(n){return n==null||ME(n)===0}function ME(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Ao=new V(""),Su=new V(""),_z=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,fM=class{static min(e){return Ez(e)}static max(e){return Iz(e)}static required(e){return DM(e)}static requiredTrue(e){return wz(e)}static email(e){return Tz(e)}static minLength(e){return bM(e)}static maxLength(e){return Dz(e)}static pattern(e){return bz(e)}static nullValidator(e){return Lf()}static compose(e){return MM(e)}static composeAsync(e){return PM(e)}};function Ez(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Iz(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function DM(n){return NE(n.value)?{required:!0}:null}function wz(n){return n.value===!0?null:{required:!0}}function Tz(n){return NE(n.value)||_z.test(n.value)?null:{email:!0}}function bM(n){return e=>{let t=e.value?.length??ME(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function Dz(n){return e=>{let t=e.value?.length??ME(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function bz(n){if(!n)return Lf;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(NE(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Lf(n){return null}function CM(n){return n!=null}function SM(n){return mo(n)?we(n):n}function AM(n){let e={};return n.forEach(t=>{e=t!=null?O(O({},e),t):e}),Object.keys(e).length===0?null:e}function RM(n,e){return e.map(t=>t(n))}function Cz(n){return!n.validate}function NM(n){return n.map(e=>Cz(e)?e:t=>e.validate(t))}function MM(n){if(!n)return null;let e=n.filter(CM);return e.length==0?null:function(t){return AM(RM(t,e))}}function PE(n){return n!=null?MM(NM(n)):null}function PM(n){if(!n)return null;let e=n.filter(CM);return e.length==0?null:function(t){let r=RM(t,e).map(SM);return Hm(r).pipe(ee(AM))}}function xE(n){return n!=null?PM(NM(n)):null}function pM(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function xM(n){return n._rawValidators}function kM(n){return n._rawAsyncValidators}function SE(n){return n?Array.isArray(n)?n:[n]:[]}function Vf(n,e){return Array.isArray(n)?n.includes(e):n===e}function gM(n,e){let t=SE(e);return SE(n).forEach(i=>{Vf(t,i)||t.push(i)}),t}function mM(n,e){return SE(e).filter(t=>!Vf(n,t))}var jf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=PE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},$r=class extends jf{name;get formDirective(){return null}get path(){return null}},Hr=class extends jf{_parent=null;name=null;valueAccessor=null},Uf=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Sz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Cie=se(O({},Sz),{"[class.ng-submitted]":"isSubmitted"}),Sie=(()=>{class n extends Uf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(z(Hr,2))};static \u0275dir=Ee({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&kh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[wt]})}return n})(),Aie=(()=>{class n extends Uf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(z($r,10))};static \u0275dir=Ee({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&kh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[wt]})}return n})();var Eu="VALID",Ff="INVALID",oa="PENDING",Iu="DISABLED",Ni=class{},Bf=class extends Ni{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Tu=class extends Ni{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Du=class extends Ni{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},sa=class extends Ni{status;source;constructor(e,t){super(),this.status=e,this.source=t}},$f=class extends Ni{source;constructor(e){super(),this.source=e}},Hf=class extends Ni{source;constructor(e){super(),this.source=e}};function kE(n){return(Kf(n)?n.validators:n)||null}function Az(n){return Array.isArray(n)?PE(n):n||null}function OE(n,e){return(Kf(e)?e.asyncValidators:n)||null}function Rz(n){return Array.isArray(n)?xE(n):n||null}function Kf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function OM(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new L(1e3,"");if(!r[t])throw new L(1001,"")}function FM(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new L(1002,"")})}var aa=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return An(this.statusReactive)}set status(e){An(()=>this.statusReactive.set(e))}_status=yo(()=>this.statusReactive());statusReactive=_i(void 0);get valid(){return this.status===Eu}get invalid(){return this.status===Ff}get pending(){return this.status==oa}get disabled(){return this.status===Iu}get enabled(){return this.status!==Iu}errors;get pristine(){return An(this.pristineReactive)}set pristine(e){An(()=>this.pristineReactive.set(e))}_pristine=yo(()=>this.pristineReactive());pristineReactive=_i(!0);get dirty(){return!this.pristine}get touched(){return An(this.touchedReactive)}set touched(e){An(()=>this.touchedReactive.set(e))}_touched=yo(()=>this.touchedReactive());touchedReactive=_i(!1);get untouched(){return!this.touched}_events=new Se;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(gM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mM(e,this._rawAsyncValidators))}hasValidator(e){return Vf(this._rawValidators,e)}hasAsyncValidator(e){return Vf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(se(O({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Du(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Du(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(se(O({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Tu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Tu(!0,r))}markAsPending(e={}){this.status=oa;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new sa(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(se(O({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Iu,this.errors=null,this._forEachChild(i=>{i.disable(se(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bf(this.value,r)),this._events.next(new sa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(se(O({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Eu,this._forEachChild(r=>{r.enable(se(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(se(O({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Eu||this.status===oa)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bf(this.value,t)),this._events.next(new sa(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(se(O({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Iu:Eu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=oa,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=SM(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new sa(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?Iu:this.errors?Ff:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oa)?oa:this._anyControlsHaveStatus(Ff)?Ff:Eu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Tu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Du(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Kf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Az(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Rz(this._rawAsyncValidators)}},ca=class extends aa{constructor(e,t,r){super(kE(t),OE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){FM(this,!0,e),Object.keys(e).forEach(r=>{OM(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var AE=class extends ca{};var ua=new V("",{providedIn:"root",factory:()=>Qf}),Qf="always";function LM(n,e){return[...e.path,n]}function Cu(n,e,t=Qf){FE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Mz(n,e),xz(n,e),Pz(n,e),Nz(n,e)}function zf(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Gf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function qf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Nz(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function FE(n,e){let t=xM(n);e.validator!==null?n.setValidators(pM(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=kM(n);e.asyncValidator!==null?n.setAsyncValidators(pM(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();qf(e._rawValidators,i),qf(e._rawAsyncValidators,i)}function Gf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=xM(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=kM(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return qf(e._rawValidators,r),qf(e._rawAsyncValidators,r),t}function Mz(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&VM(n,e)})}function Pz(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&VM(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function VM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function xz(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function jM(n,e){n==null,FE(n,e)}function kz(n,e){return Gf(n,e)}function LE(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Oz(n){return Object.getPrototypeOf(n.constructor)===Wf}function UM(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function VE(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===TM?t=o:Oz(o)?r=o:i=o}),i||r||t||null}function Fz(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var Lz={provide:$r,useExisting:Ut(()=>Vz)},wu=Promise.resolve(),Vz=(()=>{class n extends $r{callSetDisabledState;get submitted(){return An(this.submittedReactive)}_submitted=yo(()=>this.submittedReactive());submittedReactive=_i(!1);_directives=new Set;form;ngSubmit=new Fe;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new ca({},PE(t),xE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){wu.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Cu(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){wu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){wu.then(()=>{let r=this._findContainer(t.path),i=new ca({});jM(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){wu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){wu.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),UM(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new $f(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new Hf(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(z(Ao,10),z(Su,10),z(ua,8))};static \u0275dir=Ee({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&rr("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[yn([Lz]),wt]})}return n})();function yM(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function vM(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var bu=class extends aa{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(kE(t),OE(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Kf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(vM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){yM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){yM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){vM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var jz=n=>n instanceof bu;var Uz={provide:Hr,useExisting:Ut(()=>Bz)},_M=Promise.resolve(),Bz=(()=>{class n extends Hr{_changeDetectorRef;callSetDisabledState;control=new bu;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Fe;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=VE(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),LE(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Cu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){_M.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&wi(r);_M.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?LM(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(z($r,9),z(Ao,10),z(Su,10),z(So,10),z(Ii,8),z(ua,8))};static \u0275dir=Ee({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[yn([Uz]),wt,en]})}return n})();var Nie=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ee({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var jE=new V(""),$z={provide:Hr,useExisting:Ut(()=>Hz)},Hz=(()=>{class n extends Hr{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(t){}model;update=new Fe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=VE(this,i)}ngOnChanges(t){if(this._isControlChanged(t)){let r=t.form.previousValue;r&&zf(r,this,!1),Cu(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}LE(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&zf(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static \u0275fac=function(r){return new(r||n)(z(Ao,10),z(Su,10),z(So,10),z(jE,8),z(ua,8))};static \u0275dir=Ee({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[yn([$z]),wt,en]})}return n})(),zz={provide:$r,useExisting:Ut(()=>qz)},qz=(()=>{class n extends $r{callSetDisabledState;get submitted(){return An(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=yo(()=>this._submittedReactive());_submittedReactive=_i(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Fe;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Cu(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){zf(t.control||null,t,!1),Fz(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),UM(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new $f(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Hf(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(zf(r||null,t),jz(i)&&(Cu(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);jM(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&kz(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){FE(this.form,this),this._oldForm&&Gf(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(z(Ao,10),z(Su,10),z(ua,8))};static \u0275dir=Ee({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&rr("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[yn([zz]),wt,en]})}return n})();var Gz={provide:Hr,useExisting:Ut(()=>Wz)},Wz=(()=>{class n extends Hr{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Fe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=VE(this,o)}ngOnChanges(t){this._added||this._setUpControl(),LE(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return LM(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(z($r,13),z(Ao,10),z(Su,10),z(So,10),z(jE,8))};static \u0275dir=Ee({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[yn([Gz]),wt,en]})}return n})();var Kz={provide:So,useExisting:Ut(()=>$M),multi:!0};function BM(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Qz(n){return n.split(":")[0]}var $M=(()=>{class n extends Wf{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=BM(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=Qz(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=tr(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&rr("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[yn([Kz]),wt]})}return n})(),Mie=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(BM(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(z(It),z(mn),z($M,9))};static \u0275dir=Ee({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),Yz={provide:So,useExisting:Ut(()=>HM),multi:!0};function EM(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Zz(n){return n.split(":")[0]}var HM=(()=>{class n extends Wf{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=Zz(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=tr(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&rr("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[yn([Yz]),wt]})}return n})(),Pie=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(EM(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(EM(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(z(It),z(mn),z(HM,9))};static \u0275dir=Ee({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function Jz(n){return typeof n=="number"?n:parseInt(n,10)}var zM=(()=>{class n{_validator=Lf;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Lf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ee({type:n,features:[en]})}return n})();var Xz={provide:Ao,useExisting:Ut(()=>eq),multi:!0};var eq=(()=>{class n extends zM{required;inputName="required";normalizeInput=wi;createValidator=t=>DM;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=tr(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&zs("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[yn([Xz]),wt]})}return n})();var tq={provide:Ao,useExisting:Ut(()=>nq),multi:!0},nq=(()=>{class n extends zM{minlength;inputName="minlength";normalizeInput=t=>Jz(t);createValidator=t=>bM(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=tr(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&zs("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[yn([tq]),wt]})}return n})();var qM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=zt({type:n});static \u0275inj=Bt({})}return n})(),RE=class extends aa{constructor(e,t,r){super(kE(t),OE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){FM(this,!1,e),e.forEach((r,i)=>{OM(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function IM(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var xie=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return IM(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new ca(i,o)}record(t,r=null){let i=this._reduceControls(t);return new AE(i,r)}control(t,r,i){let o={};return this.useNonNullable?(IM(r)?o=r:(o.validators=r,o.asyncValidators=i),new bu(t,se(O({},o),{nonNullable:!0}))):new bu(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new RE(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof bu)return t;if(t instanceof aa)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var kie=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ua,useValue:t.callSetDisabledState??Qf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=zt({type:n});static \u0275inj=Bt({imports:[qM]})}return n})(),Oie=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:jE,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ua,useValue:t.callSetDisabledState??Qf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=zt({type:n});static \u0275inj=Bt({imports:[qM]})}return n})();var GM=()=>{};var QM=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},rq=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Yf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,m=l&63;c||(m=64,s||(g=64)),r.push(t[h],t[p],t[g],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(QM(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):rq(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new BE;let g=o<<2|a>>4;if(r.push(g),l!==64){let m=a<<4&240|l>>2;if(r.push(m),p!==64){let w=l<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},BE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},iq=function(n){let e=QM(n);return Yf.encodeByteArray(e,!0)},Ru=function(n){return iq(n).replace(/\./g,"")},Zf=function(n){try{return Yf.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function HE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var oq=()=>HE().__FIREBASE_DEFAULTS__,sq=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},aq=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Zf(n[1]);return e&&JSON.parse(e)},Jf=()=>{try{return GM()||oq()||sq()||aq()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},zE=n=>{var e,t;return(t=(e=Jf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},YM=n=>{let e=zE(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},qE=()=>{var n;return(n=Jf())===null||n===void 0?void 0:n.config},GE=n=>{var e;return(e=Jf())===null||e===void 0?void 0:e[`_${n}`]};var Ro=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Mi(n){return n.endsWith(".cloudworkstations.dev")}function Xf(n){return v(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function ZM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ru(JSON.stringify(t)),Ru(JSON.stringify(s)),""].join(".")}var Au={};function cq(){let n={prod:[],emulator:[]};for(let e of Object.keys(Au))Au[e]?n.emulator.push(e):n.prod.push(e);return n}function uq(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var WM=!1;function ep(n,e){if(typeof window>"u"||typeof document>"u"||!Mi(window.location.host)||Au[n]===e||Au[n]||WM)return;Au[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=cq().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{WM=!0,s()},g}function h(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=uq(r),m=t("text"),w=document.getElementById(m)||document.createElement("span"),S=t("learnmore"),R=document.getElementById(S)||document.createElement("a"),k=t("preprendIcon"),H=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let q=g.element;a(q),h(R,S);let ge=l();c(H,k),q.append(H,w,R,ge),document.body.appendChild(q)}o?(w.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function st(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function lq(){var n;let e=(n=Jf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eP(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function tP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nP(){let n=st();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function rP(){return!lq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nu(){try{return typeof indexedDB=="object"}catch{return!1}}function iP(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var dq="FirebaseError",an=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=dq,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,On.prototype.create)}},On=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?hq(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new an(i,a,r)}};function hq(n,e){return n.replace(fq,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var fq=/\{\$([^}]+)}/g;function oP(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function lr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(KM(o)&&KM(s)){if(!lr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function KM(n){return n!==null&&typeof n=="object"}function No(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function la(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function da(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function sP(n,e){let t=new $E(n,e);return t.subscribe.bind(t)}var $E=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");pq(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=UE),i.error===void 0&&(i.error=UE),i.complete===void 0&&(i.complete=UE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function pq(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function UE(){}var Uie=4*60*60*1e3;function xe(n){return n&&n._delegate?n._delegate:n}var kt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Mo="[DEFAULT]";var WE=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ro;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mq(e))try{this.getOrInitializeService({instanceIdentifier:Mo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Mo){return this.instances.has(e)}getOptions(e=Mo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gq(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mo){return this.component?this.component.multipleInstances?e:Mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function gq(n){return n===Mo?void 0:n}function mq(n){return n.instantiationMode==="EAGER"}var tp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new WE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var yq=[],fe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(fe||{}),vq={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},_q=fe.INFO,Eq={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},Iq=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Eq[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},dr=class{constructor(e){this.name=e,this._logLevel=_q,this._logHandler=Iq,this._userLogHandler=null,yq.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var wq=(n,e)=>e.some(t=>n instanceof t),aP,cP;function Tq(){return aP||(aP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dq(){return cP||(cP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var uP=new WeakMap,QE=new WeakMap,lP=new WeakMap,KE=new WeakMap,ZE=new WeakMap;function bq(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(hr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&uP.set(t,n)}).catch(()=>{}),ZE.set(e,n),e}function Cq(n){if(QE.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});QE.set(n,e)}var YE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return QE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||lP.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return hr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function dP(n){YE=n(YE)}function Sq(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(np(this),e,...t);return lP.set(r,e.sort?e.sort():[e]),hr(r)}:Dq().includes(n)?function(...e){return n.apply(np(this),e),hr(uP.get(this))}:function(...e){return hr(n.apply(np(this),e))}}function Aq(n){return typeof n=="function"?Sq(n):(n instanceof IDBTransaction&&Cq(n),wq(n,Tq())?new Proxy(n,YE):n)}function hr(n){if(n instanceof IDBRequest)return bq(n);if(KE.has(n))return KE.get(n);let e=Aq(n);return e!==n&&(KE.set(n,e),ZE.set(e,n)),e}var np=n=>ZE.get(n);function fP(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=hr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(hr(s.result),c.oldVersion,c.newVersion,hr(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Rq=["get","getKey","getAll","getAllKeys","count"],Nq=["put","add","delete","clear"],JE=new Map;function hP(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(JE.get(e))return JE.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Nq.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Rq.includes(t)))return;let o=function(s,...a){return v(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return JE.set(e,o),o}dP(n=>se(O({},n),{get:(e,t,r)=>hP(e,t)||n.get(e,t,r),has:(e,t)=>!!hP(e,t)||n.has(e,t)}));var eI=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Mq(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Mq(n){let e=n.getComponent();return e?.type==="VERSION"}var tI="@firebase/app",pP="0.13.1";var zr=new dr("@firebase/app"),Pq="@firebase/app-compat",xq="@firebase/analytics-compat",kq="@firebase/analytics",Oq="@firebase/app-check-compat",Fq="@firebase/app-check",Lq="@firebase/auth",Vq="@firebase/auth-compat",jq="@firebase/database",Uq="@firebase/data-connect",Bq="@firebase/database-compat",$q="@firebase/functions",Hq="@firebase/functions-compat",zq="@firebase/installations",qq="@firebase/installations-compat",Gq="@firebase/messaging",Wq="@firebase/messaging-compat",Kq="@firebase/performance",Qq="@firebase/performance-compat",Yq="@firebase/remote-config",Zq="@firebase/remote-config-compat",Jq="@firebase/storage",Xq="@firebase/storage-compat",e3="@firebase/firestore",t3="@firebase/ai",n3="@firebase/firestore-compat",r3="firebase",i3="11.9.0";var nI="[DEFAULT]",o3={[tI]:"fire-core",[Pq]:"fire-core-compat",[kq]:"fire-analytics",[xq]:"fire-analytics-compat",[Fq]:"fire-app-check",[Oq]:"fire-app-check-compat",[Lq]:"fire-auth",[Vq]:"fire-auth-compat",[jq]:"fire-rtdb",[Uq]:"fire-data-connect",[Bq]:"fire-rtdb-compat",[$q]:"fire-fn",[Hq]:"fire-fn-compat",[zq]:"fire-iid",[qq]:"fire-iid-compat",[Gq]:"fire-fcm",[Wq]:"fire-fcm-compat",[Kq]:"fire-perf",[Qq]:"fire-perf-compat",[Yq]:"fire-rc",[Zq]:"fire-rc-compat",[Jq]:"fire-gcs",[Xq]:"fire-gcs-compat",[e3]:"fire-fst",[n3]:"fire-fst-compat",[t3]:"fire-vertex","fire-js":"fire-js",[r3]:"fire-js-all"};var Mu=new Map,s3=new Map,rI=new Map;function gP(n,e){try{n.container.addComponent(e)}catch(t){zr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fn(n){let e=n.name;if(rI.has(e))return zr.debug(`There were multiple attempts to register component ${e}.`),!1;rI.set(e,n);for(let t of Mu.values())gP(t,n);for(let t of s3.values())gP(t,n);return!0}function ha(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Dt(n){return n==null?!1:n.settings!==void 0}var a3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new On("app","Firebase",a3);var iI=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}};var xi=i3;function aI(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:nI,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Pi.create("bad-app-name",{appName:String(i)});if(t||(t=qE()),!t)throw Pi.create("no-options");let o=Mu.get(i);if(o){if(lr(t,o.options)&&lr(r,o.config))return o;throw Pi.create("duplicate-app",{appName:i})}let s=new tp(i);for(let c of rI.values())s.addComponent(c);let a=new iI(t,r,s);return Mu.set(i,a),a}function Po(n=nI){let e=Mu.get(n);if(!e&&n===nI&&qE())return aI();if(!e)throw Pi.create("no-app",{appName:n});return e}function rp(){return Array.from(Mu.values())}function $e(n,e,t){var r;let i=(r=o3[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zr.warn(a.join(" "));return}Fn(new kt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var c3="firebase-heartbeat-database",u3=1,Pu="firebase-heartbeat-store",XE=null;function _P(){return XE||(XE=fP(c3,u3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Pu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Pi.create("idb-open",{originalErrorMessage:n.message})})),XE}function l3(n){return v(this,null,function*(){try{let t=(yield _P()).transaction(Pu),r=yield t.objectStore(Pu).get(EP(n));return yield t.done,r}catch(e){if(e instanceof an)zr.warn(e.message);else{let t=Pi.create("idb-get",{originalErrorMessage:e?.message});zr.warn(t.message)}}})}function mP(n,e){return v(this,null,function*(){try{let r=(yield _P()).transaction(Pu,"readwrite");yield r.objectStore(Pu).put(e,EP(n)),yield r.done}catch(t){if(t instanceof an)zr.warn(t.message);else{let r=Pi.create("idb-set",{originalErrorMessage:t?.message});zr.warn(r.message)}}})}function EP(n){return`${n.name}!${n.options.appId}`}var d3=1024,h3=30,oI=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new sI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=yP();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>h3){let s=p3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zr.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=yP(),{heartbeatsToSend:r,unsentEntries:i}=f3(this._heartbeatsCache.heartbeats),o=Ru(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return zr.warn(t),""}})}};function yP(){return new Date().toISOString().substring(0,10)}function f3(n,e=d3){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),vP(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),vP(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var sI=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Nu()?iP().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield l3(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return mP(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return mP(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function vP(n){return Ru(JSON.stringify({version:2,heartbeats:n})).length}function p3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function g3(n){Fn(new kt("platform-logger",e=>new eI(e),"PRIVATE")),Fn(new kt("heartbeat",e=>new oI(e),"PRIVATE")),$e(tI,pP,n),$e(tI,pP,"esm2017"),$e("fire-js","")}g3("");function UP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var BP=UP,$P=new On("auth","Firebase",UP());var up=new dr("@firebase/auth");function m3(n,...e){up.logLevel<=fe.WARN&&up.warn(`Auth (${xi}): ${n}`,...e)}function op(n,...e){up.logLevel<=fe.ERROR&&up.error(`Auth (${xi}): ${n}`,...e)}function _n(n,...e){throw OI(n,...e)}function Kt(n,...e){return OI(n,...e)}function kI(n,e,t){let r=Object.assign(Object.assign({},BP()),{[e]:t});return new On("auth","Firebase",r).create(e,{appName:n.name})}function fr(n){return kI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y3(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&_n(n,"argument-error"),kI(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function OI(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return $P.create(n,...e)}function U(n,e,...t){if(!n)throw OI(e,...t)}function qr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw op(e),new Error(e)}function Wr(n,e){n||qr(e)}function hI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function HP(){return IP()==="http:"||IP()==="https:"}function IP(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function v3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HP()||eP()||"connection"in navigator)?navigator.onLine:!0}function _3(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var xo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wr(t>e,"Short delay should be less than long delay!"),this.isMobile=JM()||tP()}get(){return v3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function FI(n,e){Wr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var lp=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var E3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var I3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],w3=new xo(3e4,6e4);function Qt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function cn(o,s,a,c){return v(this,arguments,function*(n,e,t,r,i={}){return zP(n,i,()=>v(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=No(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:g},l);return XM()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Mi(n.emulatorConfig.host)&&(m.credentials="include"),lp.fetch()(yield qP(n,n.config.apiHost,t,p),m)}))})}function zP(n,e,t){return v(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},E3),e);try{let i=new fI(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw ku(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ku(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw ku(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw ku(n,"user-disabled",s);let h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw kI(n,h,l);_n(n,h)}}catch(i){if(i instanceof an)throw i;_n(n,"network-request-failed",{message:String(i)})}})}function Fi(o,s,a,c){return v(this,arguments,function*(n,e,t,r,i={}){let l=yield cn(n,e,t,r,i);return"mfaPendingCredential"in l&&_n(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function qP(n,e,t,r){return v(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?FI(n.config,i):`${n.config.apiScheme}://${i}`;return I3.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function T3(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var fI=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Kt(this.auth,"network-request-failed")),w3.get())})}};function ku(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Kt(n,e,r);return i.customData._tokenResponse=t,i}function wP(n){return n!==void 0&&n.getResponse!==void 0}function TP(n){return n!==void 0&&n.enterprise!==void 0}var dp=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return T3(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function D3(n){return v(this,null,function*(){return(yield cn(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})}function GP(n,e){return v(this,null,function*(){return cn(n,"GET","/v2/recaptchaConfig",Qt(n,e))})}function b3(n,e){return v(this,null,function*(){return cn(n,"POST","/v1/accounts:delete",e)})}function hp(n,e){return v(this,null,function*(){return cn(n,"POST","/v1/accounts:lookup",e)})}function Ou(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function LI(n,e=!1){return v(this,null,function*(){let t=xe(n),r=yield t.getIdToken(e),i=VI(r);U(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ou(cI(i.auth_time)),issuedAtTime:Ou(cI(i.iat)),expirationTime:Ou(cI(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function cI(n){return Number(n)*1e3}function VI(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return op("JWT malformed, contained fewer than 3 sections"),null;try{let i=Zf(t);return i?JSON.parse(i):(op("Failed to decode base64 JWT payload"),null)}catch(i){return op("Caught error parsing JWT payload as JSON",i?.toString()),null}}function DP(n){let e=VI(n);return U(e,"internal-error"),U(typeof e.exp<"u","internal-error"),U(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ga(n,e,t=!1){return v(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof an&&C3(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function C3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var pI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),t)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ju=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ou(this.lastLoginAt),this.creationTime=Ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function fp(n){return v(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield ga(n,hp(t,{idToken:r}));U(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?WP(o.providerUserInfo):[],a=S3(n.providerData,s),c=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=c?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ju(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function jI(n){return v(this,null,function*(){let e=xe(n);yield fp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function S3(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function WP(n){return n.map(e=>{var{providerId:t}=e,r=sd(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function A3(n,e){return v(this,null,function*(){let t=yield zP(n,{},()=>v(null,null,function*(){let r=No({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield qP(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&Mi(n.emulatorConfig.host)&&(c.credentials="include"),lp.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function R3(n,e){return v(this,null,function*(){return cn(n,"POST","/v2/accounts:revokeToken",Qt(n,e))})}var Fu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){U(e.idToken,"internal-error"),U(typeof e.idToken<"u","internal-error"),U(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){U(e.length!==0,"internal-error");let t=DP(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return v(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(U(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield A3(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(U(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(U(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(U(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return qr("not implemented")}};function ki(n,e){U(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Oi=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=sd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ju(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let t=yield ga(this,this.stsTokenManager.getToken(this.auth,e));return U(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return LI(this,e)}reload(){return jI(this)}_assign(e){this!==e&&(U(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield fp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(Dt(this.auth.app))return Promise.reject(fr(this.auth));let e=yield this.getIdToken();return yield ga(this,b3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=t.photoURL)!==null&&s!==void 0?s:void 0,S=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,k=(l=t.createdAt)!==null&&l!==void 0?l:void 0,H=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:q,emailVerified:ge,isAnonymous:Ge,providerData:ve,stsTokenManager:D}=t;U(q&&D,e,"internal-error");let _=Fu.fromJSON(this.name,D);U(typeof q=="string",e,"internal-error"),ki(p,e.name),ki(g,e.name),U(typeof ge=="boolean",e,"internal-error"),U(typeof Ge=="boolean",e,"internal-error"),ki(m,e.name),ki(w,e.name),ki(S,e.name),ki(R,e.name),ki(k,e.name),ki(H,e.name);let I=new n({uid:q,auth:e,email:g,emailVerified:ge,displayName:p,isAnonymous:Ge,photoURL:w,phoneNumber:m,tenantId:S,stsTokenManager:_,createdAt:k,lastLoginAt:H});return ve&&Array.isArray(ve)&&(I.providerData=ve.map(T=>Object.assign({},T))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,t,r=!1){return v(this,null,function*(){let i=new Fu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield fp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return v(this,null,function*(){let i=t.users[0];U(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?WP(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Fu;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ju(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var bP=new Map;function Gr(n){Wr(n instanceof Function,"Expected a class definition");let e=bP.get(n);return e?(Wr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,bP.set(n,e),e)}var N3=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(t,r){return v(this,null,function*(){this.storage[t]=r})}_get(t){return v(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return v(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),gI=N3;function sp(n,e,t){return`firebase:${n}:${e}:${t}`}var pp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=sp(this.userKey,i.apiKey,o),this.fullPersistenceKey=sp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield hp(this.auth,{idToken:e}).catch(()=>{});return t?Oi._fromGetAccountInfoResponse(this.auth,t,e):null}return Oi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(this,null,function*(){if(!t.length)return new n(Gr(gI),e,r);let i=(yield Promise.all(t.map(l=>v(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Gr(gI),s=sp(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield hp(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield Oi._fromGetAccountInfoResponse(e,g,h)}else p=Oi._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>v(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function CP(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XP(e))return"Blackberry";if(ex(e))return"Webos";if(QP(e))return"Safari";if((e.includes("chrome/")||YP(e))&&!e.includes("edge/"))return"Chrome";if(JP(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function KP(n=st()){return/firefox\//i.test(n)}function QP(n=st()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YP(n=st()){return/crios\//i.test(n)}function ZP(n=st()){return/iemobile/i.test(n)}function JP(n=st()){return/android/i.test(n)}function XP(n=st()){return/blackberry/i.test(n)}function ex(n=st()){return/webos/i.test(n)}function UI(n=st()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function M3(n=st()){var e;return UI(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function P3(){return nP()&&document.documentMode===10}function tx(n=st()){return UI(n)||JP(n)||ex(n)||XP(n)||/windows phone/i.test(n)||ZP(n)}function nx(n,e=[]){let t;switch(n){case"Browser":t=CP(st());break;case"Worker":t=`${CP(st())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xi}/${r}`}var mI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function x3(t){return v(this,arguments,function*(n,e={}){return cn(n,"GET","/v2/passwordPolicy",Qt(n,e))})}var k3=6,yI=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:k3,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var vI=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gp(this),this.idTokenSubscription=new gp(this),this.beforeStateQueue=new mI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$P,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Gr(t)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield pp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let t=yield hp(this,{idToken:e}),r=yield Oi._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var t;if(Dt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return U(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield fp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=_3()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(Dt(this.app))return Promise.reject(fr(this));let t=e?xe(e):null;return t&&U(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return v(this,null,function*(){if(!this._deleted)return e&&U(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return Dt(this.app)?Promise.reject(fr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Dt(this.app)?Promise.reject(fr(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(Gr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield x3(this),t=new yI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new On("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield R3(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Gr(e)||this._popupRedirectResolver;U(t,this,"argument-error"),this.redirectPersistenceManager=yield pp.create(this,[Gr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(U(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return v(this,null,function*(){var e;if(Dt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&m3(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Ln(n){return xe(n)}var gp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=sP(t=>this.observer=t)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Hu={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function O3(n){Hu=n}function BI(n){return Hu.loadJS(n)}function F3(){return Hu.recaptchaV2Script}function L3(){return Hu.recaptchaEnterpriseScript}function V3(){return Hu.gapiScript}function rx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var j3=500,U3=6e4,ip=1e12,_I=class{constructor(e){this.auth=e,this.counter=ip,this._widgets=new Map}render(e,t){let r=this.counter;return this._widgets.set(r,new wI(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;let r=e||ip;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;let r=e||ip;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}execute(e){return v(this,null,function*(){var t;let r=e||ip;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""})}},EI=class{constructor(){this.enterprise=new II}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},II=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},wI=class{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let i=typeof e=="string"?document.getElementById(e):e;U(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=B3(50);let{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},U3)},j3))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function B3(n){let e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}var $3="recaptcha-enterprise",Lu="NO_RECAPTCHA",mp=class{constructor(e){this.type=$3,this.auth=Ln(e)}verify(e="verify",t=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(null,null,function*(){GP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new dp(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;TP(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(Lu)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new EI().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&TP(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=L3();c.length!==0&&(c+=a),BI(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function xu(n,e,t,r=!1,i=!1){return v(this,null,function*(){let o=new mp(n),s;if(i)s=Lu;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function fa(n,e,t,r,i){return v(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield xu(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>v(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield xu(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield xu(n,e,t);return r(n,a).catch(c=>v(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield xu(n,e,t,!1,!0);return r(n,h)}return Promise.reject(c)}))}else{let a=yield xu(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function H3(n){return v(this,null,function*(){let e=Ln(n),t=yield GP(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new dp(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new mp(e).verify()})}function $I(n,e){let t=ha(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(lr(o,e??{}))return i;_n(i,"already-initialized")}return t.initialize({options:e})}function z3(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Gr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function HI(n,e,t){let r=Ln(n);U(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=ix(e),{host:s,port:a}=q3(e),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){U(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),U(lr(l,r.config.emulator)&&lr(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Mi(s)?(Xf(`${o}//${s}${c}`),ep("Auth",!0)):i||G3()}function ix(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function q3(n){let e=ix(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:SP(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:SP(s)}}}function SP(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function G3(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var ko=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qr("not implemented")}_getIdTokenResponse(e){return qr("not implemented")}_linkToIdToken(e,t){return qr("not implemented")}_getReauthenticationResolver(e){return qr("not implemented")}};function W3(n,e){return v(this,null,function*(){return cn(n,"POST","/v1/accounts:update",e)})}function K3(n,e){return v(this,null,function*(){return cn(n,"POST","/v1/accounts:signUp",e)})}function Q3(n,e){return v(this,null,function*(){return Fi(n,"POST","/v1/accounts:signInWithPassword",Qt(n,e))})}function Y3(n,e){return v(this,null,function*(){return Fi(n,"POST","/v1/accounts:signInWithEmailLink",Qt(n,e))})}function Z3(n,e){return v(this,null,function*(){return Fi(n,"POST","/v1/accounts:signInWithEmailLink",Qt(n,e))})}var Uu=class n extends ko{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fa(e,t,"signInWithPassword",Q3,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Y3(e,{email:this._email,oobCode:this._password});default:_n(e,"internal-error")}})}_linkToIdToken(e,t){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fa(e,r,"signUpPassword",K3,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Z3(e,{idToken:t,email:this._email,oobCode:this._password});default:_n(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function pa(n,e){return v(this,null,function*(){return Fi(n,"POST","/v1/accounts:signInWithIdp",Qt(n,e))})}var J3="http://localhost",yp=class n extends ko{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_n("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=sd(t,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return pa(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,pa(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,pa(e,t)}buildRequest(){let e={requestUri:J3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=No(t)}return e}};function AP(n,e){return v(this,null,function*(){return cn(n,"POST","/v1/accounts:sendVerificationCode",Qt(n,e))})}function X3(n,e){return v(this,null,function*(){return Fi(n,"POST","/v1/accounts:signInWithPhoneNumber",Qt(n,e))})}function e6(n,e){return v(this,null,function*(){let t=yield Fi(n,"POST","/v1/accounts:signInWithPhoneNumber",Qt(n,e));if(t.temporaryProof)throw ku(n,"account-exists-with-different-credential",t);return t})}var t6={USER_NOT_FOUND:"user-not-found"};function n6(n,e){return v(this,null,function*(){let t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Fi(n,"POST","/v1/accounts:signInWithPhoneNumber",Qt(n,t),t6)})}var vp=class n extends ko{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new n({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new n({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return X3(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return e6(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return n6(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!t&&!i&&!o?null:new n({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o})}};function r6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function i6(n){let e=la(da(n)).link,t=e?la(da(e)).deep_link_id:null,r=la(da(n)).deep_link_id;return(r?la(da(r)).link:null)||r||t||e||n}var _p=class n{constructor(e){var t,r,i,o,s,a;let c=la(da(e)),l=(t=c.apiKey)!==null&&t!==void 0?t:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,p=r6((i=c.mode)!==null&&i!==void 0?i:null);U(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=i6(e);try{return new n(t)}catch{return null}}};var ox=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Uu._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=_p.parseLink(r);return U(i,"argument-error"),Uu._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Bu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ep=class extends Bu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var zI=(()=>{class n extends Ep{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return yp._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();function o6(n,e){return v(this,null,function*(){return Fi(n,"POST","/v1/accounts:signUp",Qt(n,e))})}var ma=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(this,null,function*(){let o=yield Oi._fromIdTokenResponse(e,r,i),s=RP(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=RP(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function RP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var TI=class n extends an{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function sx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?TI._fromErrorAndOperation(n,o,e,r):o})}function s6(n,e,t=!1){return v(this,null,function*(){let r=yield ga(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ma._forOperation(n,"link",r)})}function a6(n,e,t=!1){return v(this,null,function*(){let{auth:r}=n;if(Dt(r.app))return Promise.reject(fr(r));let i="reauthenticate";try{let o=yield ga(n,sx(r,i,e,n),t);U(o.idToken,r,"internal-error");let s=VI(o.idToken);U(s,r,"internal-error");let{sub:a}=s;return U(n.uid===a,r,"user-mismatch"),ma._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&_n(r,"user-mismatch"),o}})}function ax(n,e,t=!1){return v(this,null,function*(){if(Dt(n.app))return Promise.reject(fr(n));let r="signIn",i=yield sx(n,r,e),o=yield ma._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Cp(n,e){return v(this,null,function*(){return ax(Ln(n),e)})}function cx(n){return v(this,null,function*(){let e=Ln(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Sp(n,e,t){return v(this,null,function*(){if(Dt(n.app))return Promise.reject(fr(n));let r=Ln(n),s=yield fa(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",o6,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&cx(n),c}),a=yield ma._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function zu(n,e,t){return Dt(n.app)?Promise.reject(fr(n)):Cp(xe(n),ox.credential(e,t)).catch(r=>v(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&cx(n),r}))}function Ap(n,e){return c6(xe(n),null,e)}function c6(n,e,t){return v(this,null,function*(){let{auth:r}=n,o={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);let s=yield ga(n,W3(r,o));yield n._updateTokensIfNecessary(s,!0)})}function qI(n,e,t,r){return xe(n).onIdTokenChanged(e,t,r)}function GI(n,e,t){return xe(n).beforeAuthStateChanged(e,t)}function WI(n,e,t,r){return xe(n).onAuthStateChanged(e,t,r)}function Rp(n){return xe(n).signOut()}function NP(n,e){return cn(n,"POST","/v2/accounts/mfaEnrollment:start",Qt(n,e))}var Ip="__sak";var wp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ip,"1"),this.storage.removeItem(Ip),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var u6=1e3,l6=10,d6=(()=>{class n extends wp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);P3()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,l6):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},u6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return v(this,null,function*(){yield si(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return v(this,null,function*(){let r=yield si(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return v(this,null,function*(){yield si(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),ux=d6;var h6=(()=>{class n extends wp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),KI=h6;function f6(n){return Promise.all(n.map(e=>v(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var p6=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return v(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield f6(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function QI(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var DI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=QI("",20);i.port1.start();let h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Qe(){return window}function g6(n){Qe().location.href=n}function YI(){return typeof Qe().WorkerGlobalScope<"u"&&typeof Qe().importScripts=="function"}function m6(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function y6(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function v6(){return YI()?self:null}var lx="firebaseLocalStorageDb",_6=1,Tp="firebaseLocalStorage",dx="fbase_key",Oo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Np(n,e){return n.transaction([Tp],e?"readwrite":"readonly").objectStore(Tp)}function E6(){let n=indexedDB.deleteDatabase(lx);return new Oo(n).toPromise()}function bI(){let n=indexedDB.open(lx,_6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Tp,{keyPath:dx})}catch(i){t(i)}}),n.addEventListener("success",()=>v(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Tp)?e(r):(r.close(),yield E6(),e(yield bI()))}))})}function MP(n,e,t){return v(this,null,function*(){let r=Np(n,!0).put({[dx]:e,value:t});return new Oo(r).toPromise()})}function I6(n,e){return v(this,null,function*(){let t=Np(n,!1).get(e),r=yield new Oo(t).toPromise();return r===void 0?null:r.value})}function PP(n,e){let t=Np(n,!0).delete(e);return new Oo(t).toPromise()}var w6=800,T6=3,D6=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield bI(),this.db)})}_withRetries(t){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>T6)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return YI()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=p6._getInstance(v6()),this.receiver._subscribe("keyChanged",(t,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var t,r;if(this.activeServiceWorker=yield m6(),!this.activeServiceWorker)return;this.sender=new DI(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||y6()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let t=yield bI();return yield MP(t,Ip,"1"),yield PP(t,Ip),!0}catch{}return!1})}_withPendingWrite(t){return v(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>MP(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return v(this,null,function*(){let r=yield this._withRetries(i=>I6(i,t));return this.localCache[t]=r,r})}_remove(t){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>PP(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return v(this,null,function*(){let t=yield this._withRetries(o=>{let s=Np(o,!1).getAll();return new Oo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),w6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),hx=D6;function xP(n,e){return cn(n,"POST","/v2/accounts/mfaSignIn:start",Qt(n,e))}var uI=rx("rcb"),b6=new xo(3e4,6e4),CI=class{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Qe().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return U(C6(t),e,"argument-error"),this.shouldResolveImmediately(t)&&wP(Qe().grecaptcha)?Promise.resolve(Qe().grecaptcha):new Promise((r,i)=>{let o=Qe().setTimeout(()=>{i(Kt(e,"network-request-failed"))},b6.get());Qe()[uI]=()=>{Qe().clearTimeout(o),delete Qe()[uI];let a=Qe().grecaptcha;if(!a||!wP(a)){i(Kt(e,"internal-error"));return}let c=a.render;a.render=(l,h)=>{let p=c(l,h);return this.counter++,p},this.hostLanguage=t,r(a)};let s=`${F3()}?${No({onload:uI,render:"explicit",hl:t})}`;BI(s).catch(()=>{clearTimeout(o),i(Kt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=Qe().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function C6(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}var SI=class{load(e){return v(this,null,function*(){return new _I(e)})}clearedOneInstance(){}};var Vu="recaptcha",S6={theme:"light",type:"image"},AI=class{constructor(e,t,r=Object.assign({},S6)){this.parameters=r,this.type=Vu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ln(e),this.isInvisible=this.parameters.size==="invisible",U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let i=typeof t=="string"?document.getElementById(t):t;U(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new SI:new CI,this.validateStartingState()}verify(){return v(this,null,function*(){this.assertNotDestroyed();let e=yield this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{let o=s=>{s&&(this.tokenChangeListeners.delete(o),i(s))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){let r=Qe()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){return v(this,null,function*(){if(yield this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){let t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId})}init(){return v(this,null,function*(){U(HP()&&!YI(),this.auth,"internal-error"),yield A6(),this.recaptcha=yield this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let e=yield D3(this.auth);U(e,this.auth,"internal-error"),this.parameters.sitekey=e})}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function A6(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}var RI=class{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){let t=vp._fromVerification(this.verificationId,e);return this.onConfirmation(t)}};function fx(n,e,t){return v(this,null,function*(){if(Dt(n.app))return Promise.reject(fr(n));let r=Ln(n),i=yield R6(r,e,xe(t));return new RI(i,o=>Cp(r,o))})}function R6(n,e,t){return v(this,null,function*(){var r;if(!n._getRecaptchaConfig())try{yield H3(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){let o=i.session;if("phoneNumber"in i){U(o.type==="enroll",n,"internal-error");let s={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(yield fa(n,s,"mfaSmsEnrollment",(h,p)=>v(null,null,function*(){if(p.phoneEnrollmentInfo.captchaResponse===Lu){U(t?.type===Vu,h,"argument-error");let g=yield lI(h,p,t);return NP(h,g)}return NP(h,p)}),"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneSessionInfo.sessionInfo}else{U(o.type==="signin",n,"internal-error");let s=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;U(s,n,"missing-multi-factor-info");let a={mfaPendingCredential:o.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(yield fa(n,a,"mfaSmsSignIn",(p,g)=>v(null,null,function*(){if(g.phoneSignInInfo.captchaResponse===Lu){U(t?.type===Vu,p,"argument-error");let m=yield lI(p,g,t);return xP(p,m)}return xP(p,g)}),"PHONE_PROVIDER").catch(p=>Promise.reject(p))).phoneResponseInfo.sessionInfo}}else{let o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(yield fa(n,o,"sendVerificationCode",(l,h)=>v(null,null,function*(){if(h.captchaResponse===Lu){U(t?.type===Vu,l,"argument-error");let p=yield lI(l,h,t);return AP(l,p)}return AP(l,h)}),"PHONE_PROVIDER").catch(l=>Promise.reject(l))).sessionInfo}}finally{t?._reset()}})}function lI(n,e,t){return v(this,null,function*(){U(t.type===Vu,n,"argument-error");let r=yield t.verify();U(typeof r=="string",n,"argument-error");let i=Object.assign({},e);if("phoneEnrollmentInfo"in i){let o=i.phoneEnrollmentInfo.phoneNumber,s=i.phoneEnrollmentInfo.captchaResponse,a=i.phoneEnrollmentInfo.clientType,c=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:s,clientType:a,recaptchaVersion:c}}),i}else if("phoneSignInInfo"in i){let o=i.phoneSignInInfo.captchaResponse,s=i.phoneSignInInfo.clientType,a=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:s,recaptchaVersion:a}}),i}else return Object.assign(i,{recaptchaToken:r}),i})}function px(n,e){return e?Gr(e):(U(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var $u=class extends ko{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return pa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return pa(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function N6(n){return ax(n.auth,new $u(n),n.bypassAuthState)}function M6(n){let{auth:e,user:t}=n;return U(t,e,"internal-error"),a6(t,new $u(n),n.bypassAuthState)}function P6(n){return v(this,null,function*(){let{auth:e,user:t}=n;return U(t,e,"internal-error"),s6(t,new $u(n),n.bypassAuthState)})}var Dp=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N6;case"linkViaPopup":case"linkViaRedirect":return P6;case"reauthViaPopup":case"reauthViaRedirect":return M6;default:_n(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var x6=new xo(2e3,1e4);function Mp(n,e,t){return v(this,null,function*(){if(Dt(n.app))return Promise.reject(Kt(n,"operation-not-supported-in-this-environment"));let r=Ln(n);y3(n,e,Bu);let i=px(r,t);return new k6(r,"signInViaPopup",e,i).executeNotNull()})}var k6=(()=>{class n extends Dp{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return v(this,null,function*(){let t=yield this.execute();return U(t,this.auth,"internal-error"),t})}onExecution(){return v(this,null,function*(){Wr(this.filter.length===1,"Popup operations only handle one event");let t=QI();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Kt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Kt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,x6.get())};t()}}n.currentPopupAction=null;return n})(),O6="pendingRedirect",ap=new Map,NI=class n extends Dp{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=ap.get(this.auth._key());if(!e){try{let r=(yield F6(this.resolver,this.auth))?yield si(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ap.set(this.auth._key(),e)}return this.bypassAuthState||ap.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return si(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,si(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function F6(n,e){return v(this,null,function*(){let t=j6(e),r=V6(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function L6(n,e){ap.set(n._key(),e)}function V6(n){return Gr(n._redirectPersistence)}function j6(n){return sp(O6,n.config.apiKey,n.name)}function U6(n,e,t=!1){return v(this,null,function*(){if(Dt(n.app))return Promise.reject(fr(n));let r=Ln(n),i=px(r,e),s=yield new NI(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var B6=10*60*1e3,MI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!gx(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Kt(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=B6&&this.cachedEventUids.clear(),this.cachedEventUids.has(kP(e))}saveEventToCache(e){this.cachedEventUids.add(kP(e)),this.lastProcessedEventTime=Date.now()}};function kP(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function gx({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function $6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gx(n);default:return!1}}function H6(t){return v(this,arguments,function*(n,e={}){return cn(n,"GET","/v1/projects",e)})}var z6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,q6=/^https?/;function G6(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield H6(n);for(let t of e)try{if(W6(t))return}catch{}_n(n,"unauthorized-domain")})}function W6(n){let e=hI(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!q6.test(t))return!1;if(z6.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var K6=new xo(3e4,6e4);function OP(){let n=Qe().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Q6(n){return new Promise((e,t)=>{var r,i,o;function s(){OP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OP(),t(Kt(n,"network-request-failed"))},timeout:K6.get()})}if(!((i=(r=Qe().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Qe().gapi)===null||o===void 0)&&o.load)s();else{let a=rx("iframefcb");return Qe()[a]=()=>{gapi.load?s():t(Kt(n,"network-request-failed"))},BI(`${V3()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw cp=null,e})}var cp=null;function Y6(n){return cp=cp||Q6(n),cp}var Z6=new xo(5e3,15e3),J6="__/auth/iframe",X6="emulator/auth/iframe",eG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nG(n){let e=n.config;U(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?FI(e,X6):`https://${n.config.authDomain}/${J6}`,r={apiKey:e.apiKey,appName:n.name,v:xi},i=tG.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${No(r).slice(1)}`}function rG(n){return v(this,null,function*(){let e=yield Y6(n),t=Qe().gapi;return U(t,n,"internal-error"),e.open({where:document.body,url:nG(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eG,dontclear:!0},r=>new Promise((i,o)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Kt(n,"network-request-failed"),a=Qe().setTimeout(()=>{o(s)},Z6.get());function c(){Qe().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var iG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oG=500,sG=600,aG="_blank",cG="http://localhost",bp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function uG(n,e,t,r=oG,i=sG){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},iG),{width:r.toString(),height:i.toString(),top:o,left:s}),l=st().toLowerCase();t&&(a=YP(l)?aG:t),KP(l)&&(e=e||cG,c.scrollbars="yes");let h=Object.entries(c).reduce((g,[m,w])=>`${g}${m}=${w},`,"");if(M3(l)&&a!=="_self")return lG(e||"",a),new bp(null);let p=window.open(e||"",a,h);U(p,n,"popup-blocked");try{p.focus()}catch{}return new bp(p)}function lG(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var dG="__/auth/handler",hG="emulator/auth/handler",fG=encodeURIComponent("fac");function FP(n,e,t,r,i,o){return v(this,null,function*(){U(n.config.authDomain,n,"auth-domain-config-required"),U(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:xi,eventId:i};if(e instanceof Bu){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",oP(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Ep){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let c=yield n._getAppCheckToken(),l=c?`#${fG}=${encodeURIComponent(c)}`:"";return`${pG(n)}?${No(a).slice(1)}${l}`})}function pG({config:n}){return n.emulator?FI(n,hG):`https://${n.authDomain}/${dG}`}var dI="webStorageSupport",PI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KI,this._completeRedirectFn=U6,this._overrideRedirectResult=L6}_openPopup(e,t,r,i){return v(this,null,function*(){var o;Wr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield FP(e,t,r,hI(),i);return uG(e,s,QI())})}_openRedirect(e,t,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield FP(e,t,r,hI(),i);return g6(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Wr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return v(this,null,function*(){let t=yield rG(e),r=new MI(e);return t.register("authEvent",i=>(U(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(dI,{type:dI},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[dI];s!==void 0&&t(!!s),_n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=G6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tx()||QP()||UI()}},mx=PI;var LP="@firebase/auth",VP="1.10.7";var xI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function gG(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mG(n){Fn(new kt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;U(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nx(n)},l=new vI(r,i,o,c);return z3(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Fn(new kt("auth-internal",e=>{let t=Ln(e.getProvider("auth").getImmediate());return(r=>new xI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$e(LP,VP,gG(n)),$e(LP,VP,"esm2017")}var yG=5*60,vG=GE("authIdTokenMaxAge")||yG,jP=null,_G=n=>e=>v(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>vG)return;let i=t?.token;jP!==i&&(jP=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function qu(n=Po()){let e=ha(n,"auth");if(e.isInitialized())return e.getImmediate();let t=$I(n,{popupRedirectResolver:mx,persistence:[hx,ux,KI]}),r=GE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=_G(o.toString());GI(t,s,()=>s(t.currentUser)),qI(t,a=>s(a))}}let i=zE("auth");return i&&HI(t,`http://${i}`),t}function EG(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}O3({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Kt("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",EG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mG("Browser");var oW="firebase",sW="11.9.1";$e(oW,sW,"app");function ZI(n){n===void 0&&(xc(ZI),n=M(Le));let e=n.get(_h);return t=>new te(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Li=new yi("ANGULARFIRE2_VERSION");function Gu(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var va=(n,e)=>{let t=e?[e]:rp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ya=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(ya||{}),yx=D_()&&typeof Zone<"u"?ya.WARN:ya.SILENT;var Pp=class{zone;delegate;constructor(e,t=Um){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Vi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=M(he);this.outsideAngular=t.runOutsideAngular(()=>new Pp(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Pp(typeof Zone>"u"?void 0:Zone.current,dn))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vx=!1;function aW(n,e){!vx&&(yx>ya.SILENT||D_())&&(vx=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),yx>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function cW(n){let e=M(he,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Fo(n){let e=M(he,{optional:!0});return e?e.run(()=>n()):n()}var uW=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),ot(t,()=>Fo(()=>n.apply(void 0,r)))),Ye=(n,e,t)=>(t||=e?ya.WARN:ya.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=M(Vi),s=M(_h),a=M(it)}catch{return aW(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Fo(()=>s.add())),i[l]=uW(i[l],r,a));let c=cW(()=>n.apply(this,i));return e?c instanceof te?c.pipe(ci(o.outsideAngular),ai(o.insideAngular),ZI(a)):c instanceof Promise?Fo(()=>new Promise((l,h)=>{s.run(()=>c).then(p=>ot(a,()=>Fo(()=>l(p))),p=>ot(a,()=>Fo(()=>h(p))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Fo(()=>c):c instanceof te?c.pipe(ci(o.outsideAngular),ai(o.insideAngular)):Fo(()=>c)});var Kr=class{constructor(e){return e}},Lo=class{constructor(){return rp()}};function lW(n){return n&&n.length===1?n[0]:new Kr(Po())}var JI=new V("angularfire2._apps"),dW={provide:Kr,useFactory:lW,deps:[[new xt,JI]]},hW={provide:Lo,deps:[[new xt,JI]]};function fW(n){return(e,t)=>{let r=t.get(Ei);$e("angularfire",Li.full,"core"),$e("angularfire",Li.full,"app"),$e("angular",oR.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Kr(i)}}function gse(n,...e){return Xt([dW,hW,{provide:JI,useFactory:fW(n),multi:!0,deps:[he,Le,Vi,...e]}])}var mse=Ye(aI,!0);var pW=new Map,gW={activated:!1,tokenObservers:[]},mW={initialized:!1,enabled:!1};function Vn(n){return pW.get(n)||Object.assign({},gW)}function wx(){return mW}var yW="https://content-firebaseappcheck.googleapis.com/v1";var vW="exchangeDebugToken",_x={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},bse=24*60*60*1e3;var tw=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new Ro,this.pending.promise.catch(t=>{}),yield _W(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ro,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function _W(n){return new Promise(e=>{setTimeout(e,n)})}var EW={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ji=new On("appCheck","AppCheck",EW);function Tx(n){if(!Vn(n).activated)throw ji.create("use-before-activation",{appName:n.name})}function Dx(r,i){return v(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(m){throw ji.create("fetch-network-error",{originalErrorMessage:m?.message})}if(c.status!==200)throw ji.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(m){throw ji.create("fetch-parse-error",{originalErrorMessage:m?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ji.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function bx(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${yW}/projects/${t}/apps/${r}:${vW}?key=${i}`,body:{debug_token:e}}}var IW="firebase-app-check-database",wW=1,nw="firebase-app-check-store";var xp=null;function TW(){return xp||(xp=new Promise((n,e)=>{try{let t=indexedDB.open(IW,wW);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ji.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(nw,{keyPath:"compositeKey"})}}}catch(t){e(ji.create("storage-open",{originalErrorMessage:t?.message}))}}),xp)}function DW(n,e){return bW(CW(n),e)}function bW(n,e){return v(this,null,function*(){let r=(yield TW()).transaction(nw,"readwrite"),o=r.objectStore(nw).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(ji.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function CW(n){return`${n.options.appId}-${n.name}`}var Wu=new dr("@firebase/app-check");function XI(n,e){return Nu()?DW(n,e).catch(t=>{Wu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Cx(){return wx().enabled}function Sx(){return v(this,null,function*(){let n=wx();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var SW={error:"UNKNOWN_ERROR"};function AW(n){return Yf.encodeString(JSON.stringify(n),!1)}function rw(n,e=!1,t=!1){return v(this,null,function*(){let r=n.app;Tx(r);let i=Vn(r),o=i.token,s;if(o&&!Ku(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Ku(l)?o=l:yield XI(r,void 0))}if(!e&&o&&Ku(o))return{token:o.token};let a=!1;if(Cx())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=Dx(bx(r,yield Sx()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield XI(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Wu.warn(l.message):t&&Wu.error(l),ew(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Vn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Wu.warn(l.message):t&&Wu.error(l),s=l}let c;return o?s?Ku(o)?c={token:o.token,internalError:s}:c=ew(s):(c={token:o.token},i.token=o,yield XI(r,o)):c=ew(s),a&&PW(r,c),c})}function RW(n){return v(this,null,function*(){let e=n.app;Tx(e);let{provider:t}=Vn(e);if(Cx()){let r=yield Sx(),{token:i}=yield Dx(bx(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function NW(n,e,t,r){let{app:i}=n,o=Vn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ku(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),Ex(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Ex(n))}function Ax(n,e){let t=Vn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Ex(n){let{app:e}=n,t=Vn(e),r=t.tokenRefresher;r||(r=MW(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function MW(n){let{app:e}=n;return new tw(()=>v(null,null,function*(){let t=Vn(e),r;if(t.token?r=yield rw(n,!0):r=yield rw(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Vn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},_x.RETRIAL_MIN_WAIT,_x.RETRIAL_MAX_WAIT)}function PW(n,e){let t=Vn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ku(n){return n.expireTimeMillis-Date.now()>0}function ew(n){return{token:AW(SW),error:n}}var iw=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Vn(this.app);for(let t of e)Ax(this.app,t.next);return Promise.resolve()}};function xW(n,e){return new iw(n,e)}function kW(n){return{getToken:e=>rw(n,e),getLimitedUseToken:()=>RW(n),addTokenListener:e=>NW(n,"INTERNAL",e),removeTokenListener:e=>Ax(n.app,e)}}var OW="@firebase/app-check",FW="0.10.0";var LW="app-check",Ix="app-check-internal";function VW(){Fn(new kt(LW,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return xW(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Ix).initialize()})),Fn(new kt(Ix,n=>{let e=n.getProvider("app-check").getImmediate();return kW(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),$e(OW,FW)}VW();var jW="app-check";var _a=class{constructor(){return va(jW)}};var UW=["localhost","0.0.0.0","127.0.0.1"],Vse=typeof window<"u"&&UW.includes(window.location.hostname);var Rx="auth",Vo=class{constructor(e){return e}},Qu=class{constructor(){return va(Rx)}};var ow=new V("angularfire2.auth-instances");function BW(n,e){let t=Gu(Rx,n,e);return t&&new Vo(t)}function $W(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Vo(r)}}var HW={provide:Qu,deps:[[new xt,ow]]},zW={provide:Vo,useFactory:BW,deps:[[new xt,ow],Kr]};function Kse(n,...e){return $e("angularfire",Li.full,"auth"),Xt([zW,HW,{provide:ow,useFactory:$W(n),multi:!0,deps:[he,Le,Vi,Lo,[new xt,_a],...e]}])}var Qse=Ye(qu,!0);var Nx=Ye(WI,!0);var Mx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Px={};var Qr,sw;(function(){var n;function e(D,_){function I(){}I.prototype=_.prototype,D.D=_.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(T,b,A){for(var E=Array(arguments.length-2),Er=2;Er<arguments.length;Er++)E[Er-2]=arguments[Er];return _.prototype[b].apply(T,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,_,I){I||(I=0);var T=Array(16);if(typeof _=="string")for(var b=0;16>b;++b)T[b]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(b=0;16>b;++b)T[b]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=D.g[0],I=D.g[1],b=D.g[2];var A=D.g[3],E=_+(A^I&(b^A))+T[0]+3614090360&4294967295;_=I+(E<<7&4294967295|E>>>25),E=A+(b^_&(I^b))+T[1]+3905402710&4294967295,A=_+(E<<12&4294967295|E>>>20),E=b+(I^A&(_^I))+T[2]+606105819&4294967295,b=A+(E<<17&4294967295|E>>>15),E=I+(_^b&(A^_))+T[3]+3250441966&4294967295,I=b+(E<<22&4294967295|E>>>10),E=_+(A^I&(b^A))+T[4]+4118548399&4294967295,_=I+(E<<7&4294967295|E>>>25),E=A+(b^_&(I^b))+T[5]+1200080426&4294967295,A=_+(E<<12&4294967295|E>>>20),E=b+(I^A&(_^I))+T[6]+2821735955&4294967295,b=A+(E<<17&4294967295|E>>>15),E=I+(_^b&(A^_))+T[7]+4249261313&4294967295,I=b+(E<<22&4294967295|E>>>10),E=_+(A^I&(b^A))+T[8]+1770035416&4294967295,_=I+(E<<7&4294967295|E>>>25),E=A+(b^_&(I^b))+T[9]+2336552879&4294967295,A=_+(E<<12&4294967295|E>>>20),E=b+(I^A&(_^I))+T[10]+4294925233&4294967295,b=A+(E<<17&4294967295|E>>>15),E=I+(_^b&(A^_))+T[11]+2304563134&4294967295,I=b+(E<<22&4294967295|E>>>10),E=_+(A^I&(b^A))+T[12]+1804603682&4294967295,_=I+(E<<7&4294967295|E>>>25),E=A+(b^_&(I^b))+T[13]+4254626195&4294967295,A=_+(E<<12&4294967295|E>>>20),E=b+(I^A&(_^I))+T[14]+2792965006&4294967295,b=A+(E<<17&4294967295|E>>>15),E=I+(_^b&(A^_))+T[15]+1236535329&4294967295,I=b+(E<<22&4294967295|E>>>10),E=_+(b^A&(I^b))+T[1]+4129170786&4294967295,_=I+(E<<5&4294967295|E>>>27),E=A+(I^b&(_^I))+T[6]+3225465664&4294967295,A=_+(E<<9&4294967295|E>>>23),E=b+(_^I&(A^_))+T[11]+643717713&4294967295,b=A+(E<<14&4294967295|E>>>18),E=I+(A^_&(b^A))+T[0]+3921069994&4294967295,I=b+(E<<20&4294967295|E>>>12),E=_+(b^A&(I^b))+T[5]+3593408605&4294967295,_=I+(E<<5&4294967295|E>>>27),E=A+(I^b&(_^I))+T[10]+38016083&4294967295,A=_+(E<<9&4294967295|E>>>23),E=b+(_^I&(A^_))+T[15]+3634488961&4294967295,b=A+(E<<14&4294967295|E>>>18),E=I+(A^_&(b^A))+T[4]+3889429448&4294967295,I=b+(E<<20&4294967295|E>>>12),E=_+(b^A&(I^b))+T[9]+568446438&4294967295,_=I+(E<<5&4294967295|E>>>27),E=A+(I^b&(_^I))+T[14]+3275163606&4294967295,A=_+(E<<9&4294967295|E>>>23),E=b+(_^I&(A^_))+T[3]+4107603335&4294967295,b=A+(E<<14&4294967295|E>>>18),E=I+(A^_&(b^A))+T[8]+1163531501&4294967295,I=b+(E<<20&4294967295|E>>>12),E=_+(b^A&(I^b))+T[13]+2850285829&4294967295,_=I+(E<<5&4294967295|E>>>27),E=A+(I^b&(_^I))+T[2]+4243563512&4294967295,A=_+(E<<9&4294967295|E>>>23),E=b+(_^I&(A^_))+T[7]+1735328473&4294967295,b=A+(E<<14&4294967295|E>>>18),E=I+(A^_&(b^A))+T[12]+2368359562&4294967295,I=b+(E<<20&4294967295|E>>>12),E=_+(I^b^A)+T[5]+4294588738&4294967295,_=I+(E<<4&4294967295|E>>>28),E=A+(_^I^b)+T[8]+2272392833&4294967295,A=_+(E<<11&4294967295|E>>>21),E=b+(A^_^I)+T[11]+1839030562&4294967295,b=A+(E<<16&4294967295|E>>>16),E=I+(b^A^_)+T[14]+4259657740&4294967295,I=b+(E<<23&4294967295|E>>>9),E=_+(I^b^A)+T[1]+2763975236&4294967295,_=I+(E<<4&4294967295|E>>>28),E=A+(_^I^b)+T[4]+1272893353&4294967295,A=_+(E<<11&4294967295|E>>>21),E=b+(A^_^I)+T[7]+4139469664&4294967295,b=A+(E<<16&4294967295|E>>>16),E=I+(b^A^_)+T[10]+3200236656&4294967295,I=b+(E<<23&4294967295|E>>>9),E=_+(I^b^A)+T[13]+681279174&4294967295,_=I+(E<<4&4294967295|E>>>28),E=A+(_^I^b)+T[0]+3936430074&4294967295,A=_+(E<<11&4294967295|E>>>21),E=b+(A^_^I)+T[3]+3572445317&4294967295,b=A+(E<<16&4294967295|E>>>16),E=I+(b^A^_)+T[6]+76029189&4294967295,I=b+(E<<23&4294967295|E>>>9),E=_+(I^b^A)+T[9]+3654602809&4294967295,_=I+(E<<4&4294967295|E>>>28),E=A+(_^I^b)+T[12]+3873151461&4294967295,A=_+(E<<11&4294967295|E>>>21),E=b+(A^_^I)+T[15]+530742520&4294967295,b=A+(E<<16&4294967295|E>>>16),E=I+(b^A^_)+T[2]+3299628645&4294967295,I=b+(E<<23&4294967295|E>>>9),E=_+(b^(I|~A))+T[0]+4096336452&4294967295,_=I+(E<<6&4294967295|E>>>26),E=A+(I^(_|~b))+T[7]+1126891415&4294967295,A=_+(E<<10&4294967295|E>>>22),E=b+(_^(A|~I))+T[14]+2878612391&4294967295,b=A+(E<<15&4294967295|E>>>17),E=I+(A^(b|~_))+T[5]+4237533241&4294967295,I=b+(E<<21&4294967295|E>>>11),E=_+(b^(I|~A))+T[12]+1700485571&4294967295,_=I+(E<<6&4294967295|E>>>26),E=A+(I^(_|~b))+T[3]+2399980690&4294967295,A=_+(E<<10&4294967295|E>>>22),E=b+(_^(A|~I))+T[10]+4293915773&4294967295,b=A+(E<<15&4294967295|E>>>17),E=I+(A^(b|~_))+T[1]+2240044497&4294967295,I=b+(E<<21&4294967295|E>>>11),E=_+(b^(I|~A))+T[8]+1873313359&4294967295,_=I+(E<<6&4294967295|E>>>26),E=A+(I^(_|~b))+T[15]+4264355552&4294967295,A=_+(E<<10&4294967295|E>>>22),E=b+(_^(A|~I))+T[6]+2734768916&4294967295,b=A+(E<<15&4294967295|E>>>17),E=I+(A^(b|~_))+T[13]+1309151649&4294967295,I=b+(E<<21&4294967295|E>>>11),E=_+(b^(I|~A))+T[4]+4149444226&4294967295,_=I+(E<<6&4294967295|E>>>26),E=A+(I^(_|~b))+T[11]+3174756917&4294967295,A=_+(E<<10&4294967295|E>>>22),E=b+(_^(A|~I))+T[2]+718787259&4294967295,b=A+(E<<15&4294967295|E>>>17),E=I+(A^(b|~_))+T[9]+3951481745&4294967295,D.g[0]=D.g[0]+_&4294967295,D.g[1]=D.g[1]+(b+(E<<21&4294967295|E>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+A&4294967295}r.prototype.u=function(D,_){_===void 0&&(_=D.length);for(var I=_-this.blockSize,T=this.B,b=this.h,A=0;A<_;){if(b==0)for(;A<=I;)i(this,D,A),A+=this.blockSize;if(typeof D=="string"){for(;A<_;)if(T[b++]=D.charCodeAt(A++),b==this.blockSize){i(this,T),b=0;break}}else for(;A<_;)if(T[b++]=D[A++],b==this.blockSize){i(this,T),b=0;break}}this.h=b,this.o+=_},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var _=1;_<D.length-8;++_)D[_]=0;var I=8*this.o;for(_=D.length-8;_<D.length;++_)D[_]=I&255,I/=256;for(this.u(D),D=Array(16),_=I=0;4>_;++_)for(var T=0;32>T;T+=8)D[I++]=this.g[_]>>>T&255;return D};function o(D,_){var I=a;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=_(D)}function s(D,_){this.h=_;for(var I=[],T=!0,b=D.length-1;0<=b;b--){var A=D[b]|0;T&&A==_||(I[b]=A,T=!1)}this.g=I}var a={};function c(D){return-128<=D&&128>D?o(D,function(_){return new s([_|0],0>_?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var _=[],I=1,T=0;D>=I;T++)_[T]=D/I|0,I*=4294967296;return new s(_,0)}function h(D,_){if(D.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(D.charAt(0)=="-")return R(h(D.substring(1),_));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(_,8)),T=p,b=0;b<D.length;b+=8){var A=Math.min(8,D.length-b),E=parseInt(D.substring(b,b+A),_);8>A?(A=l(Math.pow(_,A)),T=T.j(A).add(l(E))):(T=T.j(I),T=T.add(l(E)))}return T}var p=c(0),g=c(1),m=c(16777216);n=s.prototype,n.m=function(){if(S(this))return-R(this).m();for(var D=0,_=1,I=0;I<this.g.length;I++){var T=this.i(I);D+=(0<=T?T:4294967296+T)*_,_*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(S(this))return"-"+R(this).toString(D);for(var _=l(Math.pow(D,6)),I=this,T="";;){var b=ge(I,_).g;I=k(I,b.j(_));var A=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=b,w(I))return A+T;for(;6>A.length;)A="0"+A;T=A+T}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(var _=0;_<D.g.length;_++)if(D.g[_]!=0)return!1;return!0}function S(D){return D.h==-1}n.l=function(D){return D=k(this,D),S(D)?-1:w(D)?0:1};function R(D){for(var _=D.g.length,I=[],T=0;T<_;T++)I[T]=~D.g[T];return new s(I,~D.h).add(g)}n.abs=function(){return S(this)?R(this):this},n.add=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],T=0,b=0;b<=_;b++){var A=T+(this.i(b)&65535)+(D.i(b)&65535),E=(A>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);T=E>>>16,A&=65535,E&=65535,I[b]=E<<16|A}return new s(I,I[I.length-1]&-2147483648?-1:0)};function k(D,_){return D.add(R(_))}n.j=function(D){if(w(this)||w(D))return p;if(S(this))return S(D)?R(this).j(R(D)):R(R(this).j(D));if(S(D))return R(this.j(R(D)));if(0>this.l(m)&&0>D.l(m))return l(this.m()*D.m());for(var _=this.g.length+D.g.length,I=[],T=0;T<2*_;T++)I[T]=0;for(T=0;T<this.g.length;T++)for(var b=0;b<D.g.length;b++){var A=this.i(T)>>>16,E=this.i(T)&65535,Er=D.i(b)>>>16,za=D.i(b)&65535;I[2*T+2*b]+=E*za,H(I,2*T+2*b),I[2*T+2*b+1]+=A*za,H(I,2*T+2*b+1),I[2*T+2*b+1]+=E*Er,H(I,2*T+2*b+1),I[2*T+2*b+2]+=A*Er,H(I,2*T+2*b+2)}for(T=0;T<_;T++)I[T]=I[2*T+1]<<16|I[2*T];for(T=_;T<2*_;T++)I[T]=0;return new s(I,0)};function H(D,_){for(;(D[_]&65535)!=D[_];)D[_+1]+=D[_]>>>16,D[_]&=65535,_++}function q(D,_){this.g=D,this.h=_}function ge(D,_){if(w(_))throw Error("division by zero");if(w(D))return new q(p,p);if(S(D))return _=ge(R(D),_),new q(R(_.g),R(_.h));if(S(_))return _=ge(D,R(_)),new q(R(_.g),_.h);if(30<D.g.length){if(S(D)||S(_))throw Error("slowDivide_ only works with positive integers.");for(var I=g,T=_;0>=T.l(D);)I=Ge(I),T=Ge(T);var b=ve(I,1),A=ve(T,1);for(T=ve(T,2),I=ve(I,2);!w(T);){var E=A.add(T);0>=E.l(D)&&(b=b.add(I),A=E),T=ve(T,1),I=ve(I,1)}return _=k(D,b.j(_)),new q(b,_)}for(b=p;0<=D.l(_);){for(I=Math.max(1,Math.floor(D.m()/_.m())),T=Math.ceil(Math.log(I)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),A=l(I),E=A.j(_);S(E)||0<E.l(D);)I-=T,A=l(I),E=A.j(_);w(A)&&(A=g),b=b.add(A),D=k(D,E)}return new q(b,D)}n.A=function(D){return ge(this,D).h},n.and=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],T=0;T<_;T++)I[T]=this.i(T)&D.i(T);return new s(I,this.h&D.h)},n.or=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],T=0;T<_;T++)I[T]=this.i(T)|D.i(T);return new s(I,this.h|D.h)},n.xor=function(D){for(var _=Math.max(this.g.length,D.g.length),I=[],T=0;T<_;T++)I[T]=this.i(T)^D.i(T);return new s(I,this.h^D.h)};function Ge(D){for(var _=D.g.length+1,I=[],T=0;T<_;T++)I[T]=D.i(T)<<1|D.i(T-1)>>>31;return new s(I,D.h)}function ve(D,_){var I=_>>5;_%=32;for(var T=D.g.length-I,b=[],A=0;A<T;A++)b[A]=0<_?D.i(A+I)>>>_|D.i(A+I+1)<<32-_:D.i(A+I);return new s(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sw=Px.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Qr=Px.Integer=s}).apply(typeof Mx<"u"?Mx:typeof self<"u"?self:typeof window<"u"?window:{});var kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yr={};var aw,qW,Ea,cw,Yu,Op,uw,lw,dw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,f){return u==Array.prototype||u==Object.prototype||(u[d]=f.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof kp=="object"&&kp];for(var d=0;d<u.length;++d){var f=u[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(u,d){if(d)e:{var f=r;u=u.split(".");for(var y=0;y<u.length-1;y++){var C=u[y];if(!(C in f))break e;f=f[C]}u=u[u.length-1],y=f[u],d=d(y),d!=y&&d!=null&&e(f,u,{configurable:!0,writable:!0,value:d})}}function o(u,d){u instanceof String&&(u+="");var f=0,y=!1,C={next:function(){if(!y&&f<u.length){var N=f++;return{value:d(N,u[N]),done:!1}}return y=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(u){return u||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function c(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function l(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function h(u,d,f){return u.call.apply(u.bind,arguments)}function p(u,d,f){if(!u)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,y),u.apply(d,C)}}return function(){return u.apply(d,arguments)}}function g(u,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function m(u,d){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),u.apply(this,y)}}function w(u,d){function f(){}f.prototype=d.prototype,u.aa=d.prototype,u.prototype=new f,u.prototype.constructor=u,u.Qb=function(y,C,N){for(var F=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)F[Ce-2]=arguments[Ce];return d.prototype[C].apply(y,F)}}function S(u){let d=u.length;if(0<d){let f=Array(d);for(let y=0;y<d;y++)f[y]=u[y];return f}return[]}function R(u,d){for(let f=1;f<arguments.length;f++){let y=arguments[f];if(c(y)){let C=u.length||0,N=y.length||0;u.length=C+N;for(let F=0;F<N;F++)u[C+F]=y[F]}else u.push(y)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function H(u){return/^[\s\xa0]*$/.test(u)}function q(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function ge(u){return ge[" "](u),u}ge[" "]=function(){};var Ge=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function ve(u,d,f){for(let y in u)d.call(f,u[y],y,u)}function D(u,d){for(let f in u)d.call(void 0,u[f],f,u)}function _(u){let d={};for(let f in u)d[f]=u[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(u,d){let f,y;for(let C=1;C<arguments.length;C++){y=arguments[C];for(f in y)u[f]=y[f];for(let N=0;N<I.length;N++)f=I[N],Object.prototype.hasOwnProperty.call(y,f)&&(u[f]=y[f])}}function b(u){var d=1;u=u.split(":");let f=[];for(;0<d&&u.length;)f.push(u.shift()),d--;return u.length&&f.push(u.join(":")),f}function A(u){a.setTimeout(()=>{throw u},0)}function E(){var u=qg;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class Er{constructor(){this.h=this.g=null}add(d,f){let y=za.get();y.set(d,f),this.h?this.h.next=y:this.g=y,this.h=y}}var za=new k(()=>new y1,u=>u.reset());class y1{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let qa,Ga=!1,qg=new Er,ND=()=>{let u=a.Promise.resolve(void 0);qa=()=>{u.then(v1)}};var v1=()=>{for(var u;u=E();){try{u.h.call(u.g)}catch(f){A(f)}var d=za;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}Ga=!1};function ni(){this.s=this.s,this.C=this.C}ni.prototype.s=!1,ni.prototype.ma=function(){this.s||(this.s=!0,this.N())},ni.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ft(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}ft.prototype.h=function(){this.defaultPrevented=!0};var _1=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return u}();function Wa(u,d){if(ft.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var f=this.type=u.type,y=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(Ge){e:{try{ge(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=u.fromElement:f=="mouseout"&&(d=u.toElement);this.relatedTarget=d,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:E1[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Wa.aa.h.call(this)}}w(Wa,ft);var E1={2:"touch",3:"pen",4:"mouse"};Wa.prototype.h=function(){Wa.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ka="closure_listenable_"+(1e6*Math.random()|0),I1=0;function w1(u,d,f,y,C){this.listener=u,this.proxy=null,this.src=d,this.type=f,this.capture=!!y,this.ha=C,this.key=++I1,this.da=this.fa=!1}function Tl(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Dl(u){this.src=u,this.g={},this.h=0}Dl.prototype.add=function(u,d,f,y,C){var N=u.toString();u=this.g[N],u||(u=this.g[N]=[],this.h++);var F=Wg(u,d,y,C);return-1<F?(d=u[F],f||(d.fa=!1)):(d=new w1(d,this.src,N,!!y,C),d.fa=f,u.push(d)),d};function Gg(u,d){var f=d.type;if(f in u.g){var y=u.g[f],C=Array.prototype.indexOf.call(y,d,void 0),N;(N=0<=C)&&Array.prototype.splice.call(y,C,1),N&&(Tl(d),u.g[f].length==0&&(delete u.g[f],u.h--))}}function Wg(u,d,f,y){for(var C=0;C<u.length;++C){var N=u[C];if(!N.da&&N.listener==d&&N.capture==!!f&&N.ha==y)return C}return-1}var Kg="closure_lm_"+(1e6*Math.random()|0),Qg={};function MD(u,d,f,y,C){if(y&&y.once)return xD(u,d,f,y,C);if(Array.isArray(d)){for(var N=0;N<d.length;N++)MD(u,d[N],f,y,C);return null}return f=Xg(f),u&&u[Ka]?u.K(d,f,l(y)?!!y.capture:!!y,C):PD(u,d,f,!1,y,C)}function PD(u,d,f,y,C,N){if(!d)throw Error("Invalid event type");var F=l(C)?!!C.capture:!!C,Ce=Zg(u);if(Ce||(u[Kg]=Ce=new Dl(u)),f=Ce.add(d,f,y,F,N),f.proxy)return f;if(y=T1(),f.proxy=y,y.src=u,y.listener=f,u.addEventListener)_1||(C=F),C===void 0&&(C=!1),u.addEventListener(d.toString(),y,C);else if(u.attachEvent)u.attachEvent(OD(d.toString()),y);else if(u.addListener&&u.removeListener)u.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function T1(){function u(f){return d.call(u.src,u.listener,f)}let d=D1;return u}function xD(u,d,f,y,C){if(Array.isArray(d)){for(var N=0;N<d.length;N++)xD(u,d[N],f,y,C);return null}return f=Xg(f),u&&u[Ka]?u.L(d,f,l(y)?!!y.capture:!!y,C):PD(u,d,f,!0,y,C)}function kD(u,d,f,y,C){if(Array.isArray(d))for(var N=0;N<d.length;N++)kD(u,d[N],f,y,C);else y=l(y)?!!y.capture:!!y,f=Xg(f),u&&u[Ka]?(u=u.i,d=String(d).toString(),d in u.g&&(N=u.g[d],f=Wg(N,f,y,C),-1<f&&(Tl(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete u.g[d],u.h--)))):u&&(u=Zg(u))&&(d=u.g[d.toString()],u=-1,d&&(u=Wg(d,f,y,C)),(f=-1<u?d[u]:null)&&Yg(f))}function Yg(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[Ka])Gg(d.i,u);else{var f=u.type,y=u.proxy;d.removeEventListener?d.removeEventListener(f,y,u.capture):d.detachEvent?d.detachEvent(OD(f),y):d.addListener&&d.removeListener&&d.removeListener(y),(f=Zg(d))?(Gg(f,u),f.h==0&&(f.src=null,d[Kg]=null)):Tl(u)}}}function OD(u){return u in Qg?Qg[u]:Qg[u]="on"+u}function D1(u,d){if(u.da)u=!0;else{d=new Wa(d,this);var f=u.listener,y=u.ha||u.src;u.fa&&Yg(u),u=f.call(y,d)}return u}function Zg(u){return u=u[Kg],u instanceof Dl?u:null}var Jg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xg(u){return typeof u=="function"?u:(u[Jg]||(u[Jg]=function(d){return u.handleEvent(d)}),u[Jg])}function pt(){ni.call(this),this.i=new Dl(this),this.M=this,this.F=null}w(pt,ni),pt.prototype[Ka]=!0,pt.prototype.removeEventListener=function(u,d,f,y){kD(this,u,d,f,y)};function At(u,d){var f,y=u.F;if(y)for(f=[];y;y=y.F)f.push(y);if(u=u.M,y=d.type||d,typeof d=="string")d=new ft(d,u);else if(d instanceof ft)d.target=d.target||u;else{var C=d;d=new ft(y,u),T(d,C)}if(C=!0,f)for(var N=f.length-1;0<=N;N--){var F=d.g=f[N];C=bl(F,y,!0,d)&&C}if(F=d.g=u,C=bl(F,y,!0,d)&&C,C=bl(F,y,!1,d)&&C,f)for(N=0;N<f.length;N++)F=d.g=f[N],C=bl(F,y,!1,d)&&C}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var f=u.g[d],y=0;y<f.length;y++)Tl(f[y]);delete u.g[d],u.h--}}this.F=null},pt.prototype.K=function(u,d,f,y){return this.i.add(String(u),d,!1,f,y)},pt.prototype.L=function(u,d,f,y){return this.i.add(String(u),d,!0,f,y)};function bl(u,d,f,y){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,N=0;N<d.length;++N){var F=d[N];if(F&&!F.da&&F.capture==f){var Ce=F.listener,ut=F.ha||F.src;F.fa&&Gg(u.i,F),C=Ce.call(ut,y)!==!1&&C}}return C&&!y.defaultPrevented}function FD(u,d,f){if(typeof u=="function")f&&(u=g(u,f));else if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(u,d||0)}function LD(u){u.g=FD(()=>{u.g=null,u.i&&(u.i=!1,LD(u))},u.l);let d=u.h;u.h=null,u.m.apply(null,d)}class b1 extends ni{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:LD(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qa(u){ni.call(this),this.h=u,this.g={}}w(Qa,ni);var VD=[];function jD(u){ve(u.g,function(d,f){this.g.hasOwnProperty(f)&&Yg(d)},u),u.g={}}Qa.prototype.N=function(){Qa.aa.N.call(this),jD(this)},Qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var em=a.JSON.stringify,C1=a.JSON.parse,S1=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function tm(){}tm.prototype.h=null;function UD(u){return u.h||(u.h=u.i())}function BD(){}var Ya={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nm(){ft.call(this,"d")}w(nm,ft);function rm(){ft.call(this,"c")}w(rm,ft);var qi={},$D=null;function Cl(){return $D=$D||new pt}qi.La="serverreachability";function HD(u){ft.call(this,qi.La,u)}w(HD,ft);function Za(u){let d=Cl();At(d,new HD(d))}qi.STAT_EVENT="statevent";function zD(u,d){ft.call(this,qi.STAT_EVENT,u),this.stat=d}w(zD,ft);function Rt(u){let d=Cl();At(d,new zD(d,u))}qi.Ma="timingevent";function qD(u,d){ft.call(this,qi.Ma,u),this.size=d}w(qD,ft);function Ja(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},d)}function Xa(){this.g=!0}Xa.prototype.xa=function(){this.g=!1};function A1(u,d,f,y,C,N){u.info(function(){if(u.g)if(N)for(var F="",Ce=N.split("&"),ut=0;ut<Ce.length;ut++){var ye=Ce[ut].split("=");if(1<ye.length){var gt=ye[0];ye=ye[1];var mt=gt.split("_");F=2<=mt.length&&mt[1]=="type"?F+(gt+"="+ye+"&"):F+(gt+"=redacted&")}}else F=null;else F=N;return"XMLHTTP REQ ("+y+") [attempt "+C+"]: "+d+`
`+f+`
`+F})}function R1(u,d,f,y,C,N,F){u.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+C+"]: "+d+`
`+f+`
`+N+" "+F})}function ns(u,d,f,y){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+M1(u,f)+(y?" "+y:"")})}function N1(u,d){u.info(function(){return"TIMEOUT: "+d})}Xa.prototype.info=function(){};function M1(u,d){if(!u.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(u=0;u<f.length;u++)if(Array.isArray(f[u])){var y=f[u];if(!(2>y.length)){var C=y[1];if(Array.isArray(C)&&!(1>C.length)){var N=C[0];if(N!="noop"&&N!="stop"&&N!="close")for(var F=1;F<C.length;F++)C[F]=""}}}}return em(f)}catch{return d}}var Sl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},GD={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},im;function Al(){}w(Al,tm),Al.prototype.g=function(){return new XMLHttpRequest},Al.prototype.i=function(){return{}},im=new Al;function ri(u,d,f,y){this.j=u,this.i=d,this.l=f,this.R=y||1,this.U=new Qa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new WD}function WD(){this.i=null,this.g="",this.h=!1}var KD={},om={};function sm(u,d,f){u.L=1,u.v=Pl(Ir(d)),u.m=f,u.P=!0,QD(u,null)}function QD(u,d){u.F=Date.now(),Rl(u),u.A=Ir(u.v);var f=u.A,y=u.R;Array.isArray(y)||(y=[String(y)]),ub(f.i,"t",y),u.C=0,f=u.j.J,u.h=new WD,u.g=Sb(u.j,f?d:null,!u.m),0<u.O&&(u.M=new b1(g(u.Y,u,u.g),u.O)),d=u.U,f=u.g,y=u.ca;var C="readystatechange";Array.isArray(C)||(C&&(VD[0]=C.toString()),C=VD);for(var N=0;N<C.length;N++){var F=MD(f,C[N],y||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),Za(),A1(u.i,u.u,u.A,u.l,u.R,u.m)}ri.prototype.ca=function(u){u=u.target;let d=this.M;d&&wr(u)==3?d.j():this.Y(u)},ri.prototype.Y=function(u){try{if(u==this.g)e:{let mt=wr(this.g);var d=this.g.Ba();let os=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||mb(this.g)))){this.J||mt!=4||d==7||(d==8||0>=os?Za(3):Za(2)),am(this);var f=this.g.Z();this.X=f;t:if(YD(this)){var y=mb(this.g);u="";var C=y.length,N=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gi(this),ec(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,u+=this.h.i.decode(y[d],{stream:!(N&&d==C-1)});y.length=0,this.h.g+=u,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,R1(this.i,this.u,this.A,this.l,this.R,mt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,ut=this.g;if((Ce=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Ce)){var ye=Ce;break t}}ye=null}if(f=ye)ns(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cm(this,f);else{this.o=!1,this.s=3,Rt(12),Gi(this),ec(this);break e}}if(this.P){f=!0;let wn;for(;!this.J&&this.C<F.length;)if(wn=P1(this,F),wn==om){mt==4&&(this.s=4,Rt(14),f=!1),ns(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==KD){this.s=4,Rt(15),ns(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else ns(this.i,this.l,wn,null),cm(this,wn);if(YD(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||F.length!=0||this.h.h||(this.s=1,Rt(16),f=!1),this.o=this.o&&f,!f)ns(this.i,this.l,F,"[Invalid Chunked Response]"),Gi(this),ec(this);else if(0<F.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),pm(gt),gt.M=!0,Rt(11))}}else ns(this.i,this.l,F,null),cm(this,F);mt==4&&Gi(this),this.o&&!this.J&&(mt==4?Tb(this.j,this):(this.o=!1,Rl(this)))}else Q1(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),Gi(this),ec(this)}}}catch{}finally{}};function YD(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function P1(u,d){var f=u.C,y=d.indexOf(`
`,f);return y==-1?om:(f=Number(d.substring(f,y)),isNaN(f)?KD:(y+=1,y+f>d.length?om:(d=d.slice(y,y+f),u.C=y+f,d)))}ri.prototype.cancel=function(){this.J=!0,Gi(this)};function Rl(u){u.S=Date.now()+u.I,ZD(u,u.I)}function ZD(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ja(g(u.ba,u),d)}function am(u){u.B&&(a.clearTimeout(u.B),u.B=null)}ri.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(N1(this.i,this.A),this.L!=2&&(Za(),Rt(17)),Gi(this),this.s=2,ec(this)):ZD(this,this.S-u)};function ec(u){u.j.G==0||u.J||Tb(u.j,u)}function Gi(u){am(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,jD(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function cm(u,d){try{var f=u.j;if(f.G!=0&&(f.g==u||um(f.h,u))){if(!u.K&&um(f.h,u)&&f.G==3){try{var y=f.Da.g.parse(d)}catch{y=null}if(Array.isArray(y)&&y.length==3){var C=y;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<u.F)Ll(f),Ol(f);else break e;fm(f),Rt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ja(g(f.Za,f),6e3));if(1>=eb(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ki(f,11)}else if((u.K||f.g==u)&&Ll(f),!H(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let ye=C[d];if(f.T=ye[0],ye=ye[1],f.G==2)if(ye[0]=="c"){f.K=ye[1],f.ia=ye[2];let gt=ye[3];gt!=null&&(f.la=gt,f.j.info("VER="+f.la));let mt=ye[4];mt!=null&&(f.Aa=mt,f.j.info("SVER="+f.Aa));let os=ye[5];os!=null&&typeof os=="number"&&0<os&&(y=1.5*os,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;let wn=u.g;if(wn){let jl=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jl){var N=y.h;N.g||jl.indexOf("spdy")==-1&&jl.indexOf("quic")==-1&&jl.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(lm(N,N.h),N.h=null))}if(y.D){let gm=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;gm&&(y.ya=gm,Ne(y.I,y.D,gm))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-u.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var F=u;if(y.qa=Cb(y,y.J?y.ia:null,y.W),F.K){tb(y.h,F);var Ce=F,ut=y.L;ut&&(Ce.I=ut),Ce.B&&(am(Ce),Rl(Ce)),y.g=F}else Ib(y);0<f.i.length&&Fl(f)}else ye[0]!="stop"&&ye[0]!="close"||Ki(f,7);else f.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Ki(f,7):hm(f):ye[0]!="noop"&&f.l&&f.l.ta(ye),f.v=0)}}Za(4)}catch{}}var x1=class{constructor(u,d){this.g=u,this.map=d}};function JD(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function XD(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function eb(u){return u.h?1:u.g?u.g.size:0}function um(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function lm(u,d){u.g?u.g.add(d):u.h=d}function tb(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}JD.prototype.cancel=function(){if(this.i=nb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function nb(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(let f of u.g.values())d=d.concat(f.D);return d}return S(u.i)}function k1(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var d=[],f=u.length,y=0;y<f;y++)d.push(u[y]);return d}d=[],f=0;for(y in u)d[f++]=u[y];return d}function O1(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var d=[];u=u.length;for(var f=0;f<u;f++)d.push(f);return d}d=[],f=0;for(let y in u)d[f++]=y;return d}}}function rb(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var f=O1(u),y=k1(u),C=y.length,N=0;N<C;N++)d.call(void 0,y[N],f&&f[N],u)}var ib=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function F1(u,d){if(u){u=u.split("&");for(var f=0;f<u.length;f++){var y=u[f].indexOf("="),C=null;if(0<=y){var N=u[f].substring(0,y);C=u[f].substring(y+1)}else N=u[f];d(N,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Wi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Wi){this.h=u.h,Nl(this,u.j),this.o=u.o,this.g=u.g,Ml(this,u.s),this.l=u.l;var d=u.i,f=new rc;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),ob(this,f),this.m=u.m}else u&&(d=String(u).match(ib))?(this.h=!1,Nl(this,d[1]||"",!0),this.o=tc(d[2]||""),this.g=tc(d[3]||"",!0),Ml(this,d[4]),this.l=tc(d[5]||"",!0),ob(this,d[6]||"",!0),this.m=tc(d[7]||"")):(this.h=!1,this.i=new rc(null,this.h))}Wi.prototype.toString=function(){var u=[],d=this.j;d&&u.push(nc(d,sb,!0),":");var f=this.g;return(f||d=="file")&&(u.push("//"),(d=this.o)&&u.push(nc(d,sb,!0),"@"),u.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&u.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&u.push("/"),u.push(nc(f,f.charAt(0)=="/"?j1:V1,!0))),(f=this.i.toString())&&u.push("?",f),(f=this.m)&&u.push("#",nc(f,B1)),u.join("")};function Ir(u){return new Wi(u)}function Nl(u,d,f){u.j=f?tc(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function Ml(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function ob(u,d,f){d instanceof rc?(u.i=d,$1(u.i,u.h)):(f||(d=nc(d,U1)),u.i=new rc(d,u.h))}function Ne(u,d,f){u.i.set(d,f)}function Pl(u){return Ne(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function tc(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function nc(u,d,f){return typeof u=="string"?(u=encodeURI(u).replace(d,L1),f&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function L1(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sb=/[#\/\?@]/g,V1=/[#\?:]/g,j1=/[#\?]/g,U1=/[#\?@]/g,B1=/#/g;function rc(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function ii(u){u.g||(u.g=new Map,u.h=0,u.i&&F1(u.i,function(d,f){u.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=rc.prototype,n.add=function(u,d){ii(this),this.i=null,u=rs(this,u);var f=this.g.get(u);return f||this.g.set(u,f=[]),f.push(d),this.h+=1,this};function ab(u,d){ii(u),d=rs(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function cb(u,d){return ii(u),d=rs(u,d),u.g.has(d)}n.forEach=function(u,d){ii(this),this.g.forEach(function(f,y){f.forEach(function(C){u.call(d,C,y,this)},this)},this)},n.na=function(){ii(this);let u=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let y=0;y<d.length;y++){let C=u[y];for(let N=0;N<C.length;N++)f.push(d[y])}return f},n.V=function(u){ii(this);let d=[];if(typeof u=="string")cb(this,u)&&(d=d.concat(this.g.get(rs(this,u))));else{u=Array.from(this.g.values());for(let f=0;f<u.length;f++)d=d.concat(u[f])}return d},n.set=function(u,d){return ii(this),this.i=null,u=rs(this,u),cb(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},n.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function ub(u,d,f){ab(u,d),0<f.length&&(u.i=null,u.g.set(rs(u,d),S(f)),u.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var y=d[f];let N=encodeURIComponent(String(y)),F=this.V(y);for(y=0;y<F.length;y++){var C=N;F[y]!==""&&(C+="="+encodeURIComponent(String(F[y]))),u.push(C)}}return this.i=u.join("&")};function rs(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function $1(u,d){d&&!u.j&&(ii(u),u.i=null,u.g.forEach(function(f,y){var C=y.toLowerCase();y!=C&&(ab(this,y),ub(this,C,f))},u)),u.j=d}function H1(u,d){let f=new Xa;if(a.Image){let y=new Image;y.onload=m(oi,f,"TestLoadImage: loaded",!0,d,y),y.onerror=m(oi,f,"TestLoadImage: error",!1,d,y),y.onabort=m(oi,f,"TestLoadImage: abort",!1,d,y),y.ontimeout=m(oi,f,"TestLoadImage: timeout",!1,d,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=u}else d(!1)}function z1(u,d){let f=new Xa,y=new AbortController,C=setTimeout(()=>{y.abort(),oi(f,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:y.signal}).then(N=>{clearTimeout(C),N.ok?oi(f,"TestPingServer: ok",!0,d):oi(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),oi(f,"TestPingServer: error",!1,d)})}function oi(u,d,f,y,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),y(f)}catch{}}function q1(){this.g=new S1}function G1(u,d,f){let y=f||"";try{rb(u,function(C,N){let F=C;l(C)&&(F=em(C)),d.push(y+N+"="+encodeURIComponent(F))})}catch(C){throw d.push(y+"type="+encodeURIComponent("_badmap")),C}}function ic(u){this.l=u.Ub||null,this.j=u.eb||!1}w(ic,tm),ic.prototype.g=function(){return new xl(this.l,this.j)},ic.prototype.i=function(u){return function(){return u}}({});function xl(u,d){pt.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(xl,pt),n=xl.prototype,n.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,sc(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oc(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,sc(this)),this.g&&(this.readyState=3,sc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lb(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function lb(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?oc(this):sc(this),this.readyState==3&&lb(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,oc(this))},n.Qa=function(u){this.g&&(this.response=u,oc(this))},n.ga=function(){this.g&&oc(this)};function oc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,sc(u)}n.setRequestHeader=function(u,d){this.u.append(u,d)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,u.push(f[0]+": "+f[1]),f=d.next();return u.join(`\r
`)};function sc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function db(u){let d="";return ve(u,function(f,y){d+=y,d+=":",d+=f,d+=`\r
`}),d}function dm(u,d,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=db(f),typeof u=="string"?f!=null&&encodeURIComponent(String(f)):Ne(u,d,f))}function je(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(je,pt);var W1=/^https?$/i,K1=["POST","PUT"];n=je.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,d,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():im.g(),this.v=this.o?UD(this.o):UD(im),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(N){hb(this,N);return}if(u=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var C in y)f.set(C,y[C]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let N of y.keys())f.set(N,y.get(N));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),C=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(K1,d,void 0))||y||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,F]of f)this.g.setRequestHeader(N,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gb(this),this.u=!0,this.g.send(u),this.u=!1}catch(N){hb(this,N)}};function hb(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,fb(u),kl(u)}function fb(u){u.A||(u.A=!0,At(u,"complete"),At(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,At(this,"complete"),At(this,"abort"),kl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kl(this,!0)),je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?pb(this):this.bb())},n.bb=function(){pb(this)};function pb(u){if(u.h&&typeof s<"u"&&(!u.v[1]||wr(u)!=4||u.Z()!=2)){if(u.u&&wr(u)==4)FD(u.Ea,0,u);else if(At(u,"readystatechange"),wr(u)==4){u.h=!1;try{let F=u.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var y;if(y=F===0){var C=String(u.D).match(ib)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),y=!W1.test(C?C.toLowerCase():"")}f=y}if(f)At(u,"complete"),At(u,"success");else{u.m=6;try{var N=2<wr(u)?u.g.statusText:""}catch{N=""}u.l=N+" ["+u.Z()+"]",fb(u)}}finally{kl(u)}}}}function kl(u,d){if(u.g){gb(u);let f=u.g,y=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||At(u,"ready");try{f.onreadystatechange=y}catch{}}}function gb(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function wr(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),C1(d)}};function mb(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Q1(u){let d={};u=(u.g&&2<=wr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<u.length;y++){if(H(u[y]))continue;var f=b(u[y]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=d[C]||[];d[C]=N,N.push(f)}D(d,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ac(u,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[u]||d}function yb(u){this.Aa=0,this.i=[],this.j=new Xa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ac("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ac("baseRetryDelayMs",5e3,u),this.cb=ac("retryDelaySeedMs",1e4,u),this.Wa=ac("forwardChannelMaxRetries",2,u),this.wa=ac("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new JD(u&&u.concurrentRequestLimit),this.Da=new q1,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=yb.prototype,n.la=8,n.G=1,n.connect=function(u,d,f,y){Rt(0),this.W=u,this.H=d||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=Cb(this,null,this.W),Fl(this)};function hm(u){if(vb(u),u.G==3){var d=u.U++,f=Ir(u.I);if(Ne(f,"SID",u.K),Ne(f,"RID",d),Ne(f,"TYPE","terminate"),cc(u,f),d=new ri(u,u.j,d),d.L=2,d.v=Pl(Ir(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Sb(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Rl(d)}bb(u)}function Ol(u){u.g&&(pm(u),u.g.cancel(),u.g=null)}function vb(u){Ol(u),u.u&&(a.clearTimeout(u.u),u.u=null),Ll(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Fl(u){if(!XD(u.h)&&!u.s){u.s=!0;var d=u.Ga;qa||ND(),Ga||(qa(),Ga=!0),qg.add(d,u),u.B=0}}function Y1(u,d){return eb(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ja(g(u.Ga,u,d),Db(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let C=new ri(this,this.j,u),N=this.o;if(this.S&&(N?(N=_(N),T(N,this.S)):N=this.S),this.m!==null||this.O||(C.H=N,N=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(d+=y,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Eb(this,C,d),f=Ir(this.I),Ne(f,"RID",u),Ne(f,"CVER",22),this.D&&Ne(f,"X-HTTP-Session-Id",this.D),cc(this,f),N&&(this.O?d="headers="+encodeURIComponent(String(db(N)))+"&"+d:this.m&&dm(f,this.m,N)),lm(this.h,C),this.Ua&&Ne(f,"TYPE","init"),this.P?(Ne(f,"$req",d),Ne(f,"SID","null"),C.T=!0,sm(C,f,null)):sm(C,f,d),this.G=2}}else this.G==3&&(u?_b(this,u):this.i.length==0||XD(this.h)||_b(this))};function _b(u,d){var f;d?f=d.l:f=u.U++;let y=Ir(u.I);Ne(y,"SID",u.K),Ne(y,"RID",f),Ne(y,"AID",u.T),cc(u,y),u.m&&u.o&&dm(y,u.m,u.o),f=new ri(u,u.j,f,u.B+1),u.m===null&&(f.H=u.o),d&&(u.i=d.D.concat(u.i)),d=Eb(u,f,1e3),f.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),lm(u.h,f),sm(f,y,d)}function cc(u,d){u.H&&ve(u.H,function(f,y){Ne(d,y,f)}),u.l&&rb({},function(f,y){Ne(d,y,f)})}function Eb(u,d,f){f=Math.min(u.i.length,f);var y=u.l?g(u.l.Na,u.l,u):null;e:{var C=u.i;let N=-1;for(;;){let F=["count="+f];N==-1?0<f?(N=C[0].g,F.push("ofs="+N)):N=0:F.push("ofs="+N);let Ce=!0;for(let ut=0;ut<f;ut++){let ye=C[ut].g,gt=C[ut].map;if(ye-=N,0>ye)N=Math.max(0,C[ut].g-100),Ce=!1;else try{G1(gt,F,"req"+ye+"_")}catch{y&&y(gt)}}if(Ce){y=F.join("&");break e}}}return u=u.i.splice(0,f),d.D=u,y}function Ib(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;qa||ND(),Ga||(qa(),Ga=!0),qg.add(d,u),u.v=0}}function fm(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ja(g(u.Fa,u),Db(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,wb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ja(g(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),Ol(this),wb(this))};function pm(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function wb(u){u.g=new ri(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=Ir(u.qa);Ne(d,"RID","rpc"),Ne(d,"SID",u.K),Ne(d,"AID",u.T),Ne(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ne(d,"TO",u.ja),Ne(d,"TYPE","xmlhttp"),cc(u,d),u.m&&u.o&&dm(d,u.m,u.o),u.L&&(u.g.I=u.L);var f=u.g;u=u.ia,f.L=1,f.v=Pl(Ir(d)),f.m=null,f.P=!0,QD(f,u)}n.Za=function(){this.C!=null&&(this.C=null,Ol(this),fm(this),Rt(19))};function Ll(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Tb(u,d){var f=null;if(u.g==d){Ll(u),pm(u),u.g=null;var y=2}else if(um(u.h,d))f=d.D,tb(u.h,d),y=1;else return;if(u.G!=0){if(d.o)if(y==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=u.B;y=Cl(),At(y,new qD(y,f)),Fl(u)}else Ib(u);else if(C=d.s,C==3||C==0&&0<d.X||!(y==1&&Y1(u,d)||y==2&&fm(u)))switch(f&&0<f.length&&(d=u.h,d.i=d.i.concat(f)),C){case 1:Ki(u,5);break;case 4:Ki(u,10);break;case 3:Ki(u,6);break;default:Ki(u,2)}}}function Db(u,d){let f=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(f*=2),f*d}function Ki(u,d){if(u.j.info("Error code "+d),d==2){var f=g(u.fb,u),y=u.Xa;let C=!y;y=new Wi(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Nl(y,"https"),Pl(y),C?H1(y.toString(),f):z1(y.toString(),f)}else Rt(2);u.G=0,u.l&&u.l.sa(d),bb(u),vb(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function bb(u){if(u.G=0,u.ka=[],u.l){let d=nb(u.h);(d.length!=0||u.i.length!=0)&&(R(u.ka,d),R(u.ka,u.i),u.h.i.length=0,S(u.i),u.i.length=0),u.l.ra()}}function Cb(u,d,f){var y=f instanceof Wi?Ir(f):new Wi(f);if(y.g!="")d&&(y.g=d+"."+y.g),Ml(y,y.s);else{var C=a.location;y=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var N=new Wi(null);y&&Nl(N,y),d&&(N.g=d),C&&Ml(N,C),f&&(N.l=f),y=N}return f=u.D,d=u.ya,f&&d&&Ne(y,f,d),Ne(y,"VER",u.la),cc(u,y),y}function Sb(u,d,f){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new je(new ic({eb:f})):new je(u.pa),d.Ha(u.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ab(){}n=Ab.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Vl(){}Vl.prototype.g=function(u,d){return new Zt(u,d)};function Zt(u,d){pt.call(this),this.g=new yb(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!H(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!H(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new is(this)}w(Zt,pt),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){hm(this.g)},Zt.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var f={};f.__data__=u,u=f}else this.u&&(f={},f.__data__=em(u),u=f);d.i.push(new x1(d.Ya++,u)),d.G==3&&Fl(d)},Zt.prototype.N=function(){this.g.l=null,delete this.j,hm(this.g),delete this.g,Zt.aa.N.call(this)};function Rb(u){nm.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){e:{for(let f in d){u=f;break e}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}w(Rb,nm);function Nb(){rm.call(this),this.status=1}w(Nb,rm);function is(u){this.g=u}w(is,Ab),is.prototype.ua=function(){At(this.g,"a")},is.prototype.ta=function(u){At(this.g,new Rb(u))},is.prototype.sa=function(u){At(this.g,new Nb)},is.prototype.ra=function(){At(this.g,"b")},Vl.prototype.createWebChannel=Vl.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,dw=Yr.createWebChannelTransport=function(){return new Vl},lw=Yr.getStatEventTarget=function(){return Cl()},uw=Yr.Event=qi,Op=Yr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sl.NO_ERROR=0,Sl.TIMEOUT=8,Sl.HTTP_ERROR=6,Yu=Yr.ErrorCode=Sl,GD.COMPLETE="complete",cw=Yr.EventType=GD,BD.EventType=Ya,Ya.OPEN="a",Ya.CLOSE="b",Ya.ERROR="c",Ya.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Ea=Yr.WebChannel=BD,qW=Yr.FetchXmlHttpFactory=ic,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,aw=Yr.XhrIo=je}).apply(typeof kp<"u"?kp:typeof self<"u"?self:typeof window<"u"?window:{});var xx="@firebase/firestore",kx="4.7.17";var at=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};at.UNAUTHENTICATED=new at(null),at.GOOGLE_CREDENTIALS=new at("google-credentials-uid"),at.FIRST_PARTY=new at("first-party-uid"),at.MOCK_USER=new at("mock-user");var Ua="11.9.0";var $o=new dr("@firebase/firestore");function Ia(){return $o.logLevel}function B(n,...e){if($o.logLevel<=fe.DEBUG){let t=e.map(tD);$o.debug(`Firestore (${Ua}): ${n}`,...t)}}function Zr(n,...e){if($o.logLevel<=fe.ERROR){let t=e.map(tD);$o.error(`Firestore (${Ua}): ${n}`,...t)}}function Aa(n,...e){if($o.logLevel<=fe.WARN){let t=e.map(tD);$o.warn(`Firestore (${Ua}): ${n}`,...t)}}function tD(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Y(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Ck(n,r,t)}function Ck(n,e,t){let r=`FIRESTORE (${Ua}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Zr(r),new Error(r)}function Te(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||Ck(e,i,r)}function ne(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends an{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var jn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var $p=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},mw=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(at.UNAUTHENTICATED))}shutdown(){}},yw=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},vw=class{constructor(e){this.t=e,this.currentUser=at.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Te(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new jn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new jn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>v(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new jn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new $p(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new at(e)}},_w=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=at.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Ew=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new _w(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(at.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Hp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Iw=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Te(this.o===void 0,3512);let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Hp(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Te(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Hp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function GW(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function Sk(){return new TextEncoder}var zp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=GW(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function de(n,e){return n<e?-1:n>e?1:0}function ww(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return de(r,i);{let o=Sk(),s=WW(o.encode(Ox(n,t)),o.encode(Ox(e,t)));return s!==0?s:de(r,i)}}t+=r>65535?2:1}return de(n.length,e.length)}function Ox(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function WW(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return de(n[t],e[t]);return de(n.length,e.length)}function Ra(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Fx=-62135596800,Lx=1e6,ht=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Lx);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Fx)throw new $(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lx}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-Fx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var oe=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ht(0,0))}static max(){return new n(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Vx="__name__",qp=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Y(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Y(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return de(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):ww(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qr.fromString(e.substring(4,e.length-2))}},Ve=class n extends qp{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},KW=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ln=class n extends qp{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return KW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vx}static keyField(){return new n([Vx])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new $(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new $(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new $(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var K=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ve.fromString(e))}static fromName(e){return new n(Ve.fromString(e).popFirst(5))}static empty(){return new n(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ve.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ve(e.slice()))}};var nl=-1,Tw=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Tw.UNKNOWN_ID=-1;function QW(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(r===1e9?new ht(t+1,0):new ht(t,r));return new Ho(i,K.empty(),e)}function YW(n){return new Ho(n.readTime,n.key,nl)}var Ho=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(oe.min(),K.empty(),nl)}static max(){return new n(oe.max(),K.empty(),nl)}};function ZW(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=K.comparator(n.documentKey,e.documentKey),t!==0?t:de(n.largestBatchId,e.largestBatchId))}var JW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Dw=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ba(n){return v(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==JW)throw n;B("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function XW(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function $a(n){return n.name==="IndexedDbTransactionError"}var nD=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),rD=-1;function bg(n){return n==null}function rl(n){return n===0&&1/n==-1/0}function e9(n){return typeof n=="number"&&Number.isInteger(n)&&!rl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var Ak="";function t9(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=jx(e)),e=n9(n.get(t),e);return jx(e)}function n9(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case Ak:t+="";break;default:t+=o}}return t}function jx(n){return n+Ak+""}var r9="remoteDocuments",Rk="owner";var Nk="mutationQueues";var Mk="mutations";var Pk="documentMutations",i9="remoteDocumentsV14";var xk="remoteDocumentGlobal";var kk="targets";var Ok="targetDocuments";var Fk="targetGlobal",Lk="collectionParents";var Vk="clientMetadata";var jk="bundles";var Uk="namedQueries";var o9="indexConfiguration";var s9="indexState";var a9="indexEntries";var Bk="documentOverlays";var c9="globals";var u9=[Nk,Mk,Pk,r9,kk,Rk,Fk,Ok,Vk,xk,Lk,jk,Uk],lae=[...u9,Bk],l9=[Nk,Mk,Pk,i9,kk,Rk,Fk,Ok,Vk,xk,Lk,jk,Uk,Bk],d9=l9,h9=[...d9,o9,s9,a9];var dae=[...h9,c9];function Ux(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $k(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var He=class n{constructor(e,t){this.comparator=e,this.root=t||pr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ba(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ba(this.root,e,this.comparator,!1)}getReverseIterator(){return new ba(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ba(this.root,e,this.comparator,!0)}},ba=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},pr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}};pr.EMPTY=null,pr.RED=!0,pr.BLACK=!1;pr.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new pr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ct=class n{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gp(this.data.getIterator())}getIteratorFrom(e){return new Gp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Gp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var In=class n{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new n([])}unionWith(e){let t=new ct(ln.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ra(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Wp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var St=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Wp("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};St.EMPTY_BYTE_STRING=new St("");var f9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(n){if(Te(!!n,39018),typeof n=="string"){let e=0,t=f9.exec(n);if(Te(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(n.seconds),nanos:ke(n.nanos)}}function ke(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Xr(n){return typeof n=="string"?St.fromBase64String(n):St.fromUint8Array(n)}var Hk="server_timestamp",zk="__type__",qk="__previous_value__",Gk="__local_write_time__";function iD(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[zk])===null||t===void 0?void 0:t.stringValue)===Hk}function Cg(n){let e=n.mapValue.fields[qk];return iD(e)?Cg(e):e}function il(n){let e=Jr(n.mapValue.fields[Gk].timestampValue);return new ht(e.seconds,e.nanos)}var bw=class{constructor(e,t,r,i,o,s,a,c,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l,this.isUsingEmulator=h}},Kp="(default)",Qp=class n{constructor(e,t){this.projectId=e,this.database=t||Kp}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Kp}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var oD="__type__",Wk="__max__",Fp={mapValue:{fields:{__type__:{stringValue:Wk}}}},sD="__vector__",Na="value";function Bi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?iD(n)?4:Qk(n)?9007199254740991:Kk(n)?10:11:Y(28295,{value:n})}function vr(n,e){if(n===e)return!0;let t=Bi(n);if(t!==Bi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return il(n).isEqual(il(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Jr(i.timestampValue),a=Jr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Xr(i.bytesValue).isEqual(Xr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return ke(i.geoPointValue.latitude)===ke(o.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ke(i.integerValue)===ke(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ke(i.doubleValue),a=ke(o.doubleValue);return s===a?rl(s)===rl(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Ra(n.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Ux(s)!==Ux(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!vr(s[c],a[c])))return!1;return!0}(n,e);default:return Y(52216,{left:n})}}function ol(n,e){return(n.values||[]).find(t=>vr(t,e))!==void 0}function Ma(n,e){if(n===e)return 0;let t=Bi(n),r=Bi(e);if(t!==r)return de(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return de(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ke(o.integerValue||o.doubleValue),c=ke(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return Bx(n.timestampValue,e.timestampValue);case 4:return Bx(il(n),il(e));case 5:return ww(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Xr(o),c=Xr(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let h=de(a[l],c[l]);if(h!==0)return h}return de(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=de(ke(o.latitude),ke(s.latitude));return a!==0?a:de(ke(o.longitude),ke(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return $x(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,l,h;let p=o.fields||{},g=s.fields||{},m=(a=p[Na])===null||a===void 0?void 0:a.arrayValue,w=(c=g[Na])===null||c===void 0?void 0:c.arrayValue,S=de(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((h=w?.values)===null||h===void 0?void 0:h.length)||0);return S!==0?S:$x(m,w)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Fp.mapValue&&s===Fp.mapValue)return 0;if(o===Fp.mapValue)return 1;if(s===Fp.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){let g=ww(c[p],h[p]);if(g!==0)return g;let m=Ma(a[c[p]],l[h[p]]);if(m!==0)return m}return de(c.length,h.length)}(n.mapValue,e.mapValue);default:throw Y(23264,{Pe:t})}}function Bx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return de(n,e);let t=Jr(n),r=Jr(e),i=de(t.seconds,r.seconds);return i!==0?i:de(t.nanos,r.nanos)}function $x(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ma(t[i],r[i]);if(o)return o}return de(t.length,r.length)}function Pa(n){return Cw(n)}function Cw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Jr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Xr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return K.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Cw(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Cw(t.fields[s])}`;return i+"}"}(n.mapValue):Y(61005,{value:n})}function jp(n){switch(Bi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Cg(n);return e?16+jp(e):16;case 5:return 2*n.stringValue.length;case 6:return Xr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+jp(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return zi(r.fields,(o,s)=>{i+=o.length+jp(s)}),i}(n.mapValue);default:throw Y(13486,{value:n})}}function Hx(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Sw(n){return!!n&&"integerValue"in n}function aD(n){return!!n&&"arrayValue"in n}function zx(n){return!!n&&"nullValue"in n}function qx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Up(n){return!!n&&"mapValue"in n}function Kk(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[oD])===null||t===void 0?void 0:t.stringValue)===sD}function Ju(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return zi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ju(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ju(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Qk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Wk}var fae={mapValue:{fields:{[oD]:{stringValue:sD},[Na]:{arrayValue:{}}}}};var un=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Up(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ju(t)}setAll(e){let t=ln.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Ju(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Up(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Up(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){zi(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Ju(this.value))}};function Yk(n){let e=[];return zi(n.fields,(t,r)=>{let i=new ln([t]);if(Up(r)){let o=Yk(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new In(e)}var Un=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,oe.min(),oe.min(),oe.min(),un.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,oe.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,oe.min(),oe.min(),un.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,oe.min(),oe.min(),un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var xa=class{constructor(e,t){this.position=e,this.inclusive=t}};function Gx(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=K.comparator(K.fromName(s.referenceValue),t.key):r=Ma(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!vr(n.position[t],e.position[t]))return!1;return!0}var ka=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function p9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Yp=class{},Xe=class n extends Yp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Rw(e,t,r):t==="array-contains"?new Pw(e,r):t==="in"?new xw(e,r):t==="not-in"?new kw(e,r):t==="array-contains-any"?new Ow(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Nw(e,r):new Mw(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ma(t,this.value)):t!==null&&Bi(this.value)===Bi(t)&&this.matchesComparison(Ma(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Bn=class n extends Yp{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return Zk(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function Zk(n){return n.op==="and"}function Jk(n){return g9(n)&&Zk(n)}function g9(n){for(let e of n.filters)if(e instanceof Bn)return!1;return!0}function Aw(n){if(n instanceof Xe)return n.field.canonicalString()+n.op.toString()+Pa(n.value);if(Jk(n))return n.filters.map(e=>Aw(e)).join(",");{let e=n.filters.map(t=>Aw(t)).join(",");return`${n.op}(${e})`}}function Xk(n,e){return n instanceof Xe?function(r,i){return i instanceof Xe&&r.op===i.op&&r.field.isEqual(i.field)&&vr(r.value,i.value)}(n,e):n instanceof Bn?function(r,i){return i instanceof Bn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Xk(s,i.filters[a]),!0):!1}(n,e):void Y(19439)}function eO(n){return n instanceof Xe?function(t){return`${t.field.canonicalString()} ${t.op} ${Pa(t.value)}`}(n):n instanceof Bn?function(t){return t.op.toString()+" {"+t.getFilters().map(eO).join(" ,")+"}"}(n):"Filter"}var Rw=class extends Xe{constructor(e,t,r){super(e,t,r),this.key=K.fromName(r.referenceValue)}matches(e){let t=K.comparator(e.key,this.key);return this.matchesComparison(t)}},Nw=class extends Xe{constructor(e,t){super(e,"in",t),this.keys=tO("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Mw=class extends Xe{constructor(e,t){super(e,"not-in",t),this.keys=tO("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function tO(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>K.fromName(r.referenceValue))}var Pw=class extends Xe{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return aD(t)&&ol(t.arrayValue,this.value)}},xw=class extends Xe{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&ol(this.value.arrayValue,t)}},kw=class extends Xe{constructor(e,t){super(e,"not-in",t)}matches(e){if(ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ol(this.value.arrayValue,t)}},Ow=class extends Xe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!aD(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ol(this.value.arrayValue,r))}};var Fw=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function Kx(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Fw(n,e,t,r,i,o,s)}function cD(n){let e=ne(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Aw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),bg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Pa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Pa(r)).join(",")),e.Ie=t}return e.Ie}function uD(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!p9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Xk(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Wx(n.startAt,e.startAt)&&Wx(n.endAt,e.endAt)}function Lw(n){return K.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var zo=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function m9(n,e,t,r,i,o,s,a){return new zo(n,e,t,r,i,o,s,a)}function Sg(n){return new zo(n)}function Qx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function nO(n){return n.collectionGroup!==null}function Xu(n){let e=ne(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ct(ln.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new ka(o,r))}),t.has(ln.keyField().canonicalString())||e.Ee.push(new ka(ln.keyField(),r))}return e.Ee}function gr(n){let e=ne(n);return e.de||(e.de=y9(e,Xu(n))),e.de}function y9(n,e){if(n.limitType==="F")return Kx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ka(i.field,o)});let t=n.endAt?new xa(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new xa(n.startAt.position,n.startAt.inclusive):null;return Kx(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Vw(n,e){let t=n.filters.concat([e]);return new zo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function jw(n,e,t){return new zo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ag(n,e){return uD(gr(n),gr(e))&&n.limitType===e.limitType}function rO(n){return`${cD(gr(n))}|lt:${n.limitType}`}function wa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>eO(i)).join(", ")}]`),bg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Pa(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Pa(i)).join(",")),`Target(${r})`}(gr(n))}; limitType=${n.limitType})`}function Rg(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Xu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let l=Gx(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,Xu(r),i)||r.endAt&&!function(s,a,c){let l=Gx(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,Xu(r),i))}(n,e)}function v9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iO(n){return(e,t)=>{let r=!1;for(let i of Xu(n)){let o=_9(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function _9(n,e,t){let r=n.field.isKeyField()?K.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?Ma(c,l):Y(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:n.dir})}}var ei=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zi(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return $k(this.inner)}size(){return this.innerSize}};var E9=new He(K.comparator);function ti(){return E9}var oO=new He(K.comparator);function Zu(...n){let e=oO;for(let t of n)e=e.insert(t.key,t);return e}function sO(n){let e=oO;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function jo(){return el()}function aO(){return el()}function el(){return new ei(n=>n.toString(),(n,e)=>n.isEqual(e))}var I9=new He(K.comparator),w9=new ct(K.comparator);function pe(...n){let e=w9;for(let t of n)e=e.add(t);return e}var T9=new ct(de);function D9(){return T9}function lD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rl(e)?"-0":e}}function cO(n){return{integerValue:""+n}}function uO(n,e){return e9(e)?cO(e):lD(n,e)}var Oa=class{constructor(){this._=void 0}};function b9(n,e,t){return n instanceof qo?function(i,o){let s={fields:{[zk]:{stringValue:Hk},[Gk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&iD(o)&&(o=Cg(o)),o&&(s.fields[qk]=o),{mapValue:s}}(t,e):n instanceof Go?dO(n,e):n instanceof Wo?hO(n,e):function(i,o){let s=lO(i,o),a=Yx(s)+Yx(i.Re);return Sw(s)&&Sw(i.Re)?cO(a):lD(i.serializer,a)}(n,e)}function C9(n,e,t){return n instanceof Go?dO(n,e):n instanceof Wo?hO(n,e):t}function lO(n,e){return n instanceof Ko?function(r){return Sw(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var qo=class extends Oa{},Go=class extends Oa{constructor(e){super(),this.elements=e}};function dO(n,e){let t=fO(e);for(let r of n.elements)t.some(i=>vr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Wo=class extends Oa{constructor(e){super(),this.elements=e}};function hO(n,e){let t=fO(e);for(let r of n.elements)t=t.filter(i=>!vr(i,r));return{arrayValue:{values:t}}}var Ko=class extends Oa{constructor(e,t){super(),this.serializer=e,this.Re=t}};function Yx(n){return ke(n.integerValue||n.doubleValue)}function fO(n){return aD(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var Zp=class{constructor(e,t){this.field=e,this.transform=t}};function S9(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Go&&i instanceof Go||r instanceof Wo&&i instanceof Wo?Ra(r.elements,i.elements,vr):r instanceof Ko&&i instanceof Ko?vr(r.Re,i.Re):r instanceof qo&&i instanceof qo}(n.transform,e.transform)}var Uw=class{constructor(e,t){this.version=e,this.transformResults=t}},mr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Bp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Fa=class{};function pO(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new sl(n.key,mr.none()):new Qo(n.key,n.data,mr.none());{let t=n.data,r=un.empty(),i=new ct(ln.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new _r(n.key,r,new In(i.toArray()),mr.none())}}function A9(n,e,t){n instanceof Qo?function(i,o,s){let a=i.value.clone(),c=Jx(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof _r?function(i,o,s){if(!Bp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=Jx(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(gO(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function tl(n,e,t,r){return n instanceof Qo?function(o,s,a,c){if(!Bp(o.precondition,s))return a;let l=o.value.clone(),h=Xx(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof _r?function(o,s,a,c){if(!Bp(o.precondition,s))return a;let l=Xx(o.fieldTransforms,c,s),h=s.data;return h.setAll(gO(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Bp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function R9(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=lO(r.transform,i||null);o!=null&&(t===null&&(t=un.empty()),t.set(r.field,o))}return t||null}function Zx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ra(r,i,(o,s)=>S9(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Qo=class extends Fa{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},_r=class extends Fa{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function gO(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function Jx(n,e,t){let r=new Map;Te(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,C9(s,a,t[i]))}return r}function Xx(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,b9(o,s,e))}return r}var sl=class extends Fa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Bw=class extends Fa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var $w=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&A9(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=tl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=tl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=aO();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=pO(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pe())}isEqual(e){return this.batchId===e.batchId&&Ra(this.mutations,e.mutations,(t,r)=>Zx(t,r))&&Ra(this.baseMutations,e.baseMutations,(t,r)=>Zx(t,r))}},Hw=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Te(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return I9}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var zw=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var qw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ze,me;function N9(n){switch(n){case P.OK:return Y(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return Y(15467,{code:n})}}function mO(n){if(n===void 0)return Zr("GRPC error has no .code"),P.UNKNOWN;switch(n){case Ze.OK:return P.OK;case Ze.CANCELLED:return P.CANCELLED;case Ze.UNKNOWN:return P.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return P.INTERNAL;case Ze.UNAVAILABLE:return P.UNAVAILABLE;case Ze.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ze.NOT_FOUND:return P.NOT_FOUND;case Ze.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ze.ABORTED:return P.ABORTED;case Ze.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ze.DATA_LOSS:return P.DATA_LOSS;default:return Y(39323,{code:n})}}(me=Ze||(Ze={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";var ek=null;var M9=new Qr([4294967295,4294967295],0);function tk(n){let e=Sk().encode(n),t=new sw;return t.update(e),new Uint8Array(t.digest())}function nk(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Qr([t,r],0),new Qr([i,o],0)]}var Gw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Uo(`Invalid padding: ${t}`);if(r<0)throw new Uo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Uo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Uo(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Qr.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Qr.fromNumber(r)));return i.compare(M9)===1&&(i=new Qr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=tk(e),[r,i]=nk(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=tk(e),[r,i]=nk(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Uo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Jp=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,al.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(oe.min(),i,new He(de),ti(),pe())}},al=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,pe(),pe(),pe())}};var Ca=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},Xp=class{constructor(e,t){this.targetId=e,this.Ce=t}},eg=class{constructor(e,t,r=St.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},tg=class{constructor(){this.Fe=0,this.Me=rk(),this.xe=St.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=pe(),t=pe(),r=pe();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Y(38017,{changeType:o})}}),new al(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=rk()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Te(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},Ww=class{constructor(e){this.ze=e,this.je=new Map,this.He=ti(),this.Je=Lp(),this.Ye=Lp(),this.Ze=new He(de)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(Lw(o))if(r===0){let s=new K(o.path);this.tt(t,s,Un.newNoDocument(s,oe.min()))}else Te(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),c=a?this.lt(a,e,s):1;if(c!==0){this.st(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}ek?.ht(function(h,p,g,m,w){var S,R,k,H,q,ge;let Ge={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},ve=p.unchangedNames;return ve&&(Ge.bloomFilter={applied:w===0,hashCount:(S=ve?.hashCount)!==null&&S!==void 0?S:0,bitmapLength:(H=(k=(R=ve?.bits)===null||R===void 0?void 0:R.bitmap)===null||k===void 0?void 0:k.length)!==null&&H!==void 0?H:0,padding:(ge=(q=ve?.bits)===null||q===void 0?void 0:q.padding)!==null&&ge!==void 0?ge:0,mightContain:D=>{var _;return(_=m?.mightContain(D))!==null&&_!==void 0&&_}}),Ge}(s,e.Ce,this.ze.Pt(),a,c))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Xr(r).toUint8Array()}catch(c){if(c instanceof Wp)return Aa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Gw(s,i,o)}catch(c){return Aa(c instanceof Uo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&Lw(a.target)){let c=new K(a.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,Un.newNoDocument(c,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=pe();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this._t(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new Jp(e,t,this.Ze,this.He,r);return this.He=ti(),this.Je=Lp(),this.Ye=Lp(),this.Ze=new He(de),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new tg,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new ct(de),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new ct(de),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||B("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new tg),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function Lp(){return new He(K.comparator)}function rk(){return new He(K.comparator)}var P9={asc:"ASCENDING",desc:"DESCENDING"},x9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},k9={and:"AND",or:"OR"},Kw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Qw(n,e){return n.useProto3Json||bg(e)?e:{value:e}}function ng(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function O9(n,e){return ng(n,e.toTimestamp())}function yr(n){return Te(!!n,49232),oe.fromTimestamp(function(t){let r=Jr(t);return new ht(r.seconds,r.nanos)}(n))}function dD(n,e){return Yw(n,e).canonicalString()}function Yw(n,e){let t=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function vO(n){let e=Ve.fromString(n);return Te(TO(e),10190,{key:e.toString()}),e}function Zw(n,e){return dD(n.databaseId,e.path)}function hw(n,e){let t=vO(e);if(t.get(1)!==n.databaseId.projectId)throw new $(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new K(EO(t))}function _O(n,e){return dD(n.databaseId,e)}function F9(n){let e=vO(n);return e.length===4?Ve.emptyPath():EO(e)}function Jw(n){return new Ve(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function EO(n){return Te(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function ik(n,e,t){return{name:Zw(n,e),fields:t.value.mapValue.fields}}function L9(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Te(h===void 0||typeof h=="string",58123),St.fromBase64String(h||"")):(Te(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),St.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?P.UNKNOWN:mO(l.code);return new $(h,l.message||"")}(s);t=new eg(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=hw(n,r.document.name),o=yr(r.document.updateTime),s=r.document.createTime?yr(r.document.createTime):oe.min(),a=new un({mapValue:{fields:r.document.fields}}),c=Un.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Ca(l,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=hw(n,r.document),o=r.readTime?yr(r.readTime):oe.min(),s=Un.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ca([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=hw(n,r.document),o=r.removedTargetIds||[];t=new Ca([],o,i,null)}else{if(!("filter"in e))return Y(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new qw(i,o),a=r.targetId;t=new Xp(a,s)}}return t}function V9(n,e){let t;if(e instanceof Qo)t={update:ik(n,e.key,e.value)};else if(e instanceof sl)t={delete:Zw(n,e.key)};else if(e instanceof _r)t={update:ik(n,e.key,e.data),updateMask:W9(e.fieldMask)};else{if(!(e instanceof Bw))return Y(16599,{ft:e.type});t={verify:Zw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof qo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Go)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ko)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw Y(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:O9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Y(27497)}(n,e.precondition)),t}function j9(n,e){return n&&n.length>0?(Te(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?yr(i.updateTime):yr(o);return s.isEqual(oe.min())&&(s=yr(o)),new Uw(s,i.transformResults||[])}(t,e))):[]}function U9(n,e){return{documents:[_O(n,e.path)]}}function B9(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=_O(n,i);let o=function(l){if(l.length!==0)return wO(Bn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:Ta(g.field),direction:z9(g.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Qw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:t,parent:i}}function $9(n){let e=F9(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Te(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let g=IO(p);return g instanceof Bn&&Jk(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(g=>function(w){return new ka(Da(w.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,bg(g)?null:g}(t.limit));let c=null;t.startAt&&(c=function(p){let g=!!p.before,m=p.values||[];return new xa(m,g)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let g=!p.before,m=p.values||[];return new xa(m,g)}(t.endAt)),m9(e,i,s,o,a,"F",c,l)}function H9(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function IO(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Da(t.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Da(t.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Da(t.unaryFilter.field);return Xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Da(t.unaryFilter.field);return Xe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(n):n.fieldFilter!==void 0?function(t){return Xe.create(Da(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Bn.create(t.compositeFilter.filters.map(r=>IO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(t.compositeFilter.op))}(n):Y(30097,{filter:n})}function z9(n){return P9[n]}function q9(n){return x9[n]}function G9(n){return k9[n]}function Ta(n){return{fieldPath:n.canonicalString()}}function Da(n){return ln.fromServerFormat(n.fieldPath)}function wO(n){return n instanceof Xe?function(t){if(t.op==="=="){if(qx(t.value))return{unaryFilter:{field:Ta(t.field),op:"IS_NAN"}};if(zx(t.value))return{unaryFilter:{field:Ta(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(qx(t.value))return{unaryFilter:{field:Ta(t.field),op:"IS_NOT_NAN"}};if(zx(t.value))return{unaryFilter:{field:Ta(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ta(t.field),op:q9(t.op),value:t.value}}}(n):n instanceof Bn?function(t){let r=t.getFilters().map(i=>wO(i));return r.length===1?r[0]:{compositeFilter:{op:G9(t.op),filters:r}}}(n):Y(54877,{filter:n})}function W9(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function TO(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var cl=class n{constructor(e,t,r,i,o=oe.min(),s=oe.min(),a=St.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Xw=class{constructor(e){this.wt=e}};function K9(n){let e=$9({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?jw(e,e.limit,"L"):e}var rg=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(ke(e.integerValue));else if("doubleValue"in e){let r=ke(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),rl(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=Jr(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Xr(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?Qk(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Kk(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):Y(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=Na,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(ke(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),K.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};rg.Wt=new rg;var eT=class{constructor(){this.Cn=new tT}addToCollectionParentIndex(e,t){return this.Cn.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(Ho.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(Ho.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},tT=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ct(Ve.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(Ve.comparator)).toArray()}};var pae=new Uint8Array(0);var ok={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DO=41943040,En=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(DO,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);var ul=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var sk="LruGarbageCollector",Q9=1048576;function ak([n,e],[t,r]){let i=de(n,t);return i===0?de(e,r):i}var nT=class{constructor(e){this.Er=e,this.buffer=new ct(ak),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();ak(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},rT=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){B(sk,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){$a(t)?B(sk,"Ignoring IndexedDB error during garbage collection: ",t):yield Ba(t)}yield this.mr(3e5)}))}},iT=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return x.resolve(nD.le);let r=new nT(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(ok)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ok):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,c,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Ia()<=fe.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(l-c)+`ms
Total Duration: ${l-h}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function Y9(n,e){return new iT(n,e)}var oT=class{constructor(){this.changes=new ei(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var sT=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var aT=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&tl(r.mutation,i,In.empty(),ht.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pe()){let i=jo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Zu();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=jo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pe()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=ti(),s=el(),a=function(){return el()}();return t.forEach((c,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof _r)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),tl(h.mutation,l,h.mutation.getFieldMask(),ht.now())):s.set(l.key,In.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new sT(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=el(),i=new He((s,a)=>s-a),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let h=r.get(c)||In.empty();h=a.applyToLocalView(l,h),r.set(c,h);let p=(i.get(a.batchId)||pe()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,h=c.value,p=aO();h.forEach(g=>{if(!o.has(g)){let m=pO(t.get(g),r.get(g));m!==null&&p.set(g,m),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):x.resolve(jo()),a=nl,c=o;return s.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,pe())).next(h=>({batchId:a,changes:sO(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new K(t)).next(r=>{let i=Zu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Zu();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,c=>{let l=function(p,g){return new zo(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Un.newInvalidDocument(h)))});let a=Zu();return s.forEach((c,l)=>{let h=o.get(c);h!==void 0&&tl(h.mutation,l,In.empty(),ht.now()),Rg(t,l)&&(a=a.insert(c,l))}),a})}};var cT=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return x.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:yr(i.createTime)}}(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:K9(i.bundledQuery),readTime:yr(i.readTime)}}(t)),x.resolve()}};var uT=class{constructor(){this.overlays=new He(K.comparator),this.Qr=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=jo();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=jo(),o=t.length+1,s=new K(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new He((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=jo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=jo(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new zw(t,r));let o=this.Qr.get(t);o===void 0&&(o=pe(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var lT=class{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var ll=class{constructor(){this.$r=new ct(Je.Ur),this.Kr=new ct(Je.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new Je(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Je(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new K(new Ve([])),r=new Je(t,e),i=new Je(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new K(new Ve([])),r=new Je(t,e),i=new Je(t,e+1),o=pe();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Je(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Je=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return K.comparator(e.key,t.key)||de(e.Zr,t.Zr)}static Wr(e,t){return de(e.Zr,t.Zr)||K.comparator(e.key,t.key)}};var dT=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new ct(Je.Ur)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new $w(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new Je(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,t){return x.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?rD:this.nr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Je(t,0),i=new Je(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ct(de);return t.forEach(i=>{let o=new Je(i,0),s=new Je(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),x.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;K.isDocumentKey(o)||(o=o.child(""));let s=new Je(new K(o),0),a=new ct(de);return this.Xr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Zr)),!0)},s),x.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Te(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return x.forEach(t.mutations,i=>{let o=new Je(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new Je(t,0),i=this.Xr.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var hT=class{constructor(e){this.ii=e,this.docs=function(){return new He(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():Un.newInvalidDocument(t))}getEntries(e,t){let r=ti();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Un.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=ti(),s=t.path,a=new K(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||ZW(YW(h),r)<=0||(i.has(h.key)||Rg(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Y(9500)}si(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new fT(this)}getSize(e){return x.resolve(this.size)}},fT=class extends oT{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var pT=class{constructor(e){this.persistence=e,this.oi=new ei(t=>cD(t),uD),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this._i=0,this.ai=new ll,this.targetCount=0,this.ui=ul.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),x.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new ul(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.Tr(t),x.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.ai.containsKey(t))}};var ig=class{constructor(e,t){this.ci={},this.overlays={},this.li=new nD(0),this.hi=!1,this.hi=!0,this.Pi=new lT,this.referenceDelegate=e(this),this.Ti=new pT(this),this.indexManager=new eT,this.remoteDocumentCache=function(i){return new hT(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Xw(t),this.Ei=new cT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new dT(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){B("MemoryPersistence","Starting transaction:",e);let i=new gT(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return x.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},gT=class extends Dw{constructor(e){super(),this.currentSequenceNumber=e}},mT=class n{constructor(e){this.persistence=e,this.Vi=new ll,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw Y(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),x.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.gi,r=>{let i=K.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,oe.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return x.or([()=>x.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},og=class n{constructor(e,t){this.persistence=e,this.yi=new ei(r=>t9(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Y9(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return x.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return x.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?x.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,oe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),x.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),x.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jp(e.data.value)),t}Dr(e,t,r){return x.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var yT=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=pe(),i=pe();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var vT=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var _T=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return rP()?8:XW(st())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new vT;return this.Ss(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Ia()<=fe.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",wa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),x.resolve()):(Ia()<=fe.DEBUG&&B("QueryEngine","Query:",wa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Ia()<=fe.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",wa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(t))):x.resolve())}ws(e,t){if(Qx(t))return x.resolve(null);let r=gr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=jw(t,null,"F"),r=gr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=pe(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.vs(t,a);return this.Cs(t,l,s,c.readTime)?this.ws(e,jw(t,null,"F")):this.Fs(e,l,t,c)}))})))}bs(e,t,r,i){return Qx(t)||i.isEqual(oe.min())?x.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?x.resolve(null):(Ia()<=fe.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wa(t)),this.Fs(e,s,t,QW(i,nl)).next(a=>a))})}vs(e,t){let r=new ct(iO(e));return t.forEach((i,o)=>{Rg(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return Ia()<=fe.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",wa(t)),this.ys.getDocumentsMatchingQuery(e,t,Ho.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var hD="LocalStore",Z9=3e8,ET=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new He(de),this.Os=new ei(o=>cD(o),uD),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aT(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function J9(n,e,t,r){return new ET(n,e,t,r)}function bO(n,e){return v(this,null,function*(){let t=ne(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=pe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(r,c).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:a}))})})})}function X9(n,e){let t=ne(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){let p=l.batch,g=p.keys(),m=x.resolve();return g.forEach(w=>{m=m.next(()=>h.getEntry(c,w)).next(S=>{let R=l.docVersions.get(w);Te(R!==null,48541),S.version.compareTo(R)<0&&(p.applyToRemoteDocument(S,l),S.isValidDocument()&&(S.setReadTime(l.commitVersion),h.addEntry(S)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=pe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function CO(n){let e=ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function e8(n,e){let t=ne(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(o,h.addedDocuments,p)));let m=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(St.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),function(S,R,k){return S.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=Z9?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(g,m,h)&&a.push(t.Ti.updateTargetData(o,m))});let c=ti(),l=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(t8(o,s,e.documentUpdates).next(h=>{c=h.qs,l=h.Qs})),!r.isEqual(oe.min())){let h=t.Ti.getLastRemoteSnapshotVersion(o).next(p=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.xs=i,o))}function t8(n,e,t){let r=pe(),i=pe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=ti();return t.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(oe.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):B(hD,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function n8(n,e){let t=ne(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=rD),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function r8(n,e){let t=ne(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new cl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function IT(n,e,t){return v(this,null,function*(){let r=ne(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!$a(s))throw s;B(hD,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function ck(n,e,t){let r=ne(n),i=oe.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,h){let p=ne(c),g=p.Os.get(h);return g!==void 0?x.resolve(p.xs.get(g)):p.Ti.getTargetData(l,h)}(r,s,gr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:oe.min(),t?o:pe())).next(a=>(i8(r,v9(e),a),{documents:a,$s:o})))}function i8(n,e,t){let r=n.Ns.get(e)||oe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var sg=class{constructor(){this.activeTargetIds=D9()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var wT=class{constructor(){this.xo=new sg,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new sg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var TT=class{No(e){}shutdown(){}};var uk="ConnectivityMonitor",ag=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){B(uk,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){B(uk,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Vp=null;function DT(){return Vp===null?Vp=function(){return 268435456+Math.round(2147483648*Math.random())}():Vp++,"0x"+Vp.toString(16)}var fw="RestConnection",o8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},bT=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Kp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=DT(),a=this.jo(e,t.toUriEncodedString());B(fw,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,o);let{host:l}=new URL(a),h=Mi(l);return this.Jo(e,a,c,r,h).then(p=>(B(fw,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Aa(fw,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ua}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=o8[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var CT=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var bt="WebChannelConnection",ST=class extends bT{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=DT();return new Promise((a,c)=>{let l=new aw;l.setWithCredentials(!0),l.listenOnce(cw.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Yu.NO_ERROR:let p=l.getResponseJson();B(bt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Yu.TIMEOUT:B(bt,`RPC '${e}' ${s} timed out`),c(new $(P.DEADLINE_EXCEEDED,"Request time out"));break;case Yu.HTTP_ERROR:let g=l.getStatus();if(B(bt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let w=m?.error;if(w&&w.status&&w.message){let S=function(k){let H=k.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(H)>=0?H:P.UNKNOWN}(w.status);c(new $(S,w.message))}else c(new $(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new $(P.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{h_:e,streamId:s,P_:l.getLastErrorCode(),T_:l.getLastError()})}}finally{B(bt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);B(bt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}I_(e,t,r){let i=DT(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=dw(),a=lw(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let h=o.join("");B(bt,`Creating RPC '${e}' stream ${i}: ${h}`,c);let p=s.createWebChannel(h,c);this.E_(p);let g=!1,m=!1,w=new CT({Zo:R=>{m?B(bt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(B(bt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),B(bt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Xo:()=>p.close()}),S=(R,k,H)=>{R.listen(k,q=>{try{H(q)}catch(ge){setTimeout(()=>{throw ge},0)}})};return S(p,Ea.EventType.OPEN,()=>{m||(B(bt,`RPC '${e}' stream ${i} transport opened.`),w.__())}),S(p,Ea.EventType.CLOSE,()=>{m||(m=!0,B(bt,`RPC '${e}' stream ${i} transport closed`),w.u_(),this.d_(p))}),S(p,Ea.EventType.ERROR,R=>{m||(m=!0,Aa(bt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),w.u_(new $(P.UNAVAILABLE,"The operation could not be completed")))}),S(p,Ea.EventType.MESSAGE,R=>{var k;if(!m){let H=R.data[0];Te(!!H,16349);let q=H,ge=q?.error||((k=q[0])===null||k===void 0?void 0:k.error);if(ge){B(bt,`RPC '${e}' stream ${i} received error:`,ge);let Ge=ge.status,ve=function(I){let T=Ze[I];if(T!==void 0)return mO(T)}(Ge),D=ge.message;ve===void 0&&(ve=P.INTERNAL,D="Unknown error status: "+Ge+" with message "+ge.message),m=!0,w.u_(new $(ve,D)),p.close()}else B(bt,`RPC '${e}' stream ${i} received:`,H),w.c_(H)}}),S(a,uw.STAT_EVENT,R=>{R.stat===Op.PROXY?B(bt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Op.NOPROXY&&B(bt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}};function pw(){return typeof document<"u"?document:null}function Ng(n){return new Kw(n,!0)}var cg=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();let t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var lk="PersistentStream",ug=class{constructor(e,t,r,i,o,s,a,c){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new cg(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}stop(){return v(this,null,function*(){this.O_()&&(yield this.close(0))})}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){return v(this,null,function*(){if(this.N_())return this.close(0)})}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,t){return v(this,null,function*(){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(Zr(t.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}W_(){}auth(){this.state=1;let e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{let i=new $(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){let r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(()=>v(this,null,function*(){this.state=0,this.start()}))}j_(e){return B(lk,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(B(lk,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},AT=class extends ug{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();let t=L9(this.serializer,e),r=function(o){if(!("targetChange"in o))return oe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?oe.min():s.readTime?yr(s.readTime):oe.min()}(e);return this.listener.Y_(t,r)}Z_(e){let t={};t.database=Jw(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=Lw(c)?{documents:U9(o,c)}:{query:B9(o,c).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=yO(o,s.resumeToken);let l=Qw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(oe.min())>0){a.readTime=ng(o,s.snapshotVersion.toTimestamp());let l=Qw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=H9(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){let t={};t.database=Jw(this.serializer),t.removeTarget=e,this.Q_(t)}},RT=class extends ug{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();let t=j9(e.writeResults,e.commitTime),r=yr(e.commitTime);return this.listener.ra(r,t)}ia(){let e={};e.database=Jw(this.serializer),this.Q_(e)}ta(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>V9(this.serializer,r))};this.Q_(t)}};var NT=class{},MT=class extends NT{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new $(P.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,Yw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(P.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,Yw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(P.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}},PT=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Zr(t),this.ua=!1):B("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}};var Yo="RemoteStore",xT=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(()=>v(this,null,function*(){Xo(this)&&(B(Yo,"Restarting streams for network reachability change."),yield function(c){return v(this,null,function*(){let l=ne(c);l.da.add(4),yield vl(l),l.Va.set("Unknown"),l.da.delete(4),yield Mg(l)})}(this))}))}),this.Va=new PT(r,i)}};function Mg(n){return v(this,null,function*(){if(Xo(n))for(let e of n.Aa)yield e(!0)})}function vl(n){return v(this,null,function*(){for(let e of n.Aa)yield e(!1)})}function SO(n,e){let t=ne(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),mD(t)?gD(t):Ha(t).N_()&&pD(t,e))}function fD(n,e){let t=ne(n),r=Ha(t);t.Ea.delete(e),r.N_()&&AO(t,e),t.Ea.size===0&&(r.N_()?r.k_():Xo(t)&&t.Va.set("Unknown"))}function pD(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ha(n).Z_(e)}function AO(n,e){n.ma.Ke(e),Ha(n).X_(e)}function gD(n){n.ma=new Ww({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Ha(n).start(),n.Va.ca()}function mD(n){return Xo(n)&&!Ha(n).O_()&&n.Ea.size>0}function Xo(n){return ne(n).da.size===0}function RO(n){n.ma=void 0}function s8(n){return v(this,null,function*(){n.Va.set("Online")})}function a8(n){return v(this,null,function*(){n.Ea.forEach((e,t)=>{pD(n,e)})})}function c8(n,e){return v(this,null,function*(){RO(n),mD(n)?(n.Va.Pa(e),gD(n)):n.Va.set("Unknown")})}function u8(n,e,t){return v(this,null,function*(){if(n.Va.set("Online"),e instanceof eg&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ea.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ea.delete(a),i.ma.removeTarget(a))})}(n,e)}catch(r){B(Yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield lg(n,r)}else if(e instanceof Ca?n.ma.Xe(e):e instanceof Xp?n.ma.ot(e):n.ma.nt(e),!t.isEqual(oe.min()))try{let r=yield CO(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.ma.It(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let h=o.Ea.get(l);h&&o.Ea.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let h=o.Ea.get(c);if(!h)return;o.Ea.set(c,h.withResumeToken(St.EMPTY_BYTE_STRING,h.snapshotVersion)),AO(o,c);let p=new cl(h.target,c,l,h.sequenceNumber);pD(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){B(Yo,"Failed to raise snapshot:",r),yield lg(n,r)}})}function lg(n,e,t){return v(this,null,function*(){if(!$a(e))throw e;n.da.add(1),yield vl(n),n.Va.set("Offline"),t||(t=()=>CO(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){B(Yo,"Retrying IndexedDB access"),yield t(),n.da.delete(1),yield Mg(n)}))})}function NO(n,e){return e().catch(t=>lg(n,t,e))}function Pg(n){return v(this,null,function*(){let e=ne(n),t=$i(e),r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:rD;for(;l8(e);)try{let i=yield n8(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,d8(e,i)}catch(i){yield lg(e,i)}MO(e)&&PO(e)})}function l8(n){return Xo(n)&&n.Ia.length<10}function d8(n,e){n.Ia.push(e);let t=$i(n);t.N_()&&t.ea&&t.ta(e.mutations)}function MO(n){return Xo(n)&&!$i(n).O_()&&n.Ia.length>0}function PO(n){$i(n).start()}function h8(n){return v(this,null,function*(){$i(n).ia()})}function f8(n){return v(this,null,function*(){let e=$i(n);for(let t of n.Ia)e.ta(t.mutations)})}function p8(n,e,t){return v(this,null,function*(){let r=n.Ia.shift(),i=Hw.from(r,e,t);yield NO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Pg(n)})}function g8(n,e){return v(this,null,function*(){e&&$i(n).ea&&(yield function(r,i){return v(this,null,function*(){if(function(s){return N9(s)&&s!==P.ABORTED}(i.code)){let o=r.Ia.shift();$i(r).L_(),yield NO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Pg(r)}})}(n,e)),MO(n)&&PO(n)})}function dk(n,e){return v(this,null,function*(){let t=ne(n);t.asyncQueue.verifyOperationInProgress(),B(Yo,"RemoteStore received new credentials");let r=Xo(t);t.da.add(3),yield vl(t),r&&t.Va.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),yield Mg(t)})}function m8(n,e){return v(this,null,function*(){let t=ne(n);e?(t.da.delete(2),yield Mg(t)):e||(t.da.add(2),yield vl(t),t.Va.set("Unknown"))})}function Ha(n){return n.fa||(n.fa=function(t,r,i){let o=ne(t);return o.oa(),new AT(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:s8.bind(null,n),n_:a8.bind(null,n),i_:c8.bind(null,n),Y_:u8.bind(null,n)}),n.Aa.push(e=>v(null,null,function*(){e?(n.fa.L_(),mD(n)?gD(n):n.Va.set("Unknown")):(yield n.fa.stop(),RO(n))}))),n.fa}function $i(n){return n.ga||(n.ga=function(t,r,i){let o=ne(t);return o.oa(),new RT(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:h8.bind(null,n),i_:g8.bind(null,n),na:f8.bind(null,n),ra:p8.bind(null,n)}),n.Aa.push(e=>v(null,null,function*(){e?(n.ga.L_(),yield Pg(n)):(yield n.ga.stop(),n.Ia.length>0&&(B(Yo,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))}))),n.ga}var kT=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function yD(n,e){if(Zr("AsyncQueue",`${e}: ${n}`),$a(n))return new $(P.UNAVAILABLE,`${e}: ${n}`);throw n}var dg=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||K.comparator(t.key,r.key):(t,r)=>K.comparator(t.key,r.key),this.keyedMap=Zu(),this.sortedSet=new He(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var hg=class{constructor(){this.pa=new He(K.comparator)}track(e){let t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Y(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){let e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}},La=class n{constructor(e,t,r,i,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,dg.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ag(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var OT=class{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}},FT=class{constructor(){this.queries=hk(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=ne(t),o=i.queries;i.queries=hk(),o.forEach((s,a)=>{for(let c of a.Sa)c.onError(r)})})(this,new $(P.ABORTED,"Firestore shutting down"))}};function hk(){return new ei(n=>rO(n),Ag)}function vD(n,e){return v(this,null,function*(){let t=ne(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new OT,r=e.va()?0:1);try{switch(r){case 0:o.ba=yield t.onListen(i,!0);break;case 1:o.ba=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=yD(s,`Initialization of query '${wa(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&ED(t)})}function _D(n,e){return v(this,null,function*(){let t=ne(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function y8(n,e){let t=ne(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&ED(t)}function v8(n,e,t){let r=ne(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function ED(n){n.Ca.forEach(e=>{e.next()})}var LT,fk;(fk=LT||(LT={})).xa="default",fk.Cache="cache";var dl=class{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new La(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;let r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;let t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=La.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==LT.Cache}};var fg=class{constructor(e){this.key=e}},pg=class{constructor(e){this.key=e}},VT=class{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=pe(),this.mutatedKeys=pe(),this.Za=iO(e),this.Xa=new dg(this.Za)}get eu(){return this.Ha}tu(e,t){let r=t?t.nu:new hg,i=t?t.Xa:this.Xa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),m=Rg(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),S=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),R=!1;g&&m?g.data.isEqual(m.data)?w!==S&&(r.track({type:3,doc:m}),R=!0):this.ru(g,m)||(r.track({type:2,doc:m}),R=!0,(c&&this.Za(m,c)>0||l&&this.Za(m,l)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),R=!0):g&&!m&&(r.track({type:1,doc:g}),R=!0,(c||l)&&(a=!0)),R&&(m?(s=s.add(m),o=S?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;let s=e.nu.wa();s.sort((h,p)=>function(m,w){let S=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Vt:R})}};return S(m)-S(w)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),i=i!=null&&i;let a=t&&!i?this.su():[],c=this.Ya.size===0&&this.current&&!i?1:0,l=c!==this.Ja;return this.Ja=c,s.length!==0||l?{snapshot:new La(this.query,e.Xa,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new hg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];let e=this.Ya;this.Ya=pe(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new pg(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new fg(r))}),t}au(e){this.Ha=e.$s,this.Ya=pe();let t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return La.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}},ID="SyncEngine",jT=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},UT=class{constructor(e){this.key=e,this.cu=!1}},BT=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new ei(a=>rO(a),Ag),this.Pu=new Map,this.Tu=new Set,this.Iu=new He(K.comparator),this.Eu=new Map,this.du=new ll,this.Au={},this.Ru=new Map,this.Vu=ul.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}};function _8(n,e,t=!0){return v(this,null,function*(){let r=VO(n),i,o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=yield xO(r,e,t,!0),i})}function E8(n,e){return v(this,null,function*(){let t=VO(n);yield xO(t,e,!0,!1)})}function xO(n,e,t,r){return v(this,null,function*(){let i=yield r8(n.localStore,gr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield I8(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&SO(n.remoteStore,i),a})}function I8(n,e,t,r,i){return v(this,null,function*(){n.fu=(p,g,m)=>function(S,R,k,H){return v(this,null,function*(){let q=R.view.tu(k);q.Cs&&(q=yield ck(S.localStore,R.query,!1).then(({documents:D})=>R.view.tu(D,q)));let ge=H&&H.targetChanges.get(R.targetId),Ge=H&&H.targetMismatches.get(R.targetId)!=null,ve=R.view.applyChanges(q,S.isPrimaryClient,ge,Ge);return gk(S,R.targetId,ve.ou),ve.snapshot})}(n,p,g,m);let o=yield ck(n.localStore,e,!0),s=new VT(e,o.$s),a=s.tu(o.documents),c=al.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,c);gk(n,t,l.ou);let h=new jT(e,t,s);return n.hu.set(e,h),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),l.snapshot})}function w8(n,e,t){return v(this,null,function*(){let r=ne(n),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!Ag(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield IT(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&fD(r.remoteStore,i.targetId),$T(r,i.targetId)}).catch(Ba))):($T(r,i.targetId),yield IT(r.localStore,i.targetId,!0))})}function T8(n,e){return v(this,null,function*(){let t=ne(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),fD(t.remoteStore,r.targetId))})}function D8(n,e,t){return v(this,null,function*(){let r=M8(n);try{let i=yield function(s,a){let c=ne(s),l=ht.now(),h=a.reduce((m,w)=>m.add(w.key),pe()),p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=ti(),S=pe();return c.Bs.getEntries(m,h).next(R=>{w=R,w.forEach((k,H)=>{H.isValidDocument()||(S=S.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,w)).next(R=>{p=R;let k=[];for(let H of a){let q=R9(H,p.get(H.key).overlayedDocument);q!=null&&k.push(new _r(H.key,q,Yk(q.value.mapValue),mr.exists(!0)))}return c.mutationQueue.addMutationBatch(m,l,k,a)}).next(R=>{g=R;let k=R.applyToLocalDocumentSet(p,S);return c.documentOverlayCache.saveOverlays(m,R.batchId,k)})}).then(()=>({batchId:g.batchId,changes:sO(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Au[s.currentUser.toKey()];l||(l=new He(de)),l=l.insert(a,c),s.Au[s.currentUser.toKey()]=l}(r,i.batchId,t),yield _l(r,i.changes),yield Pg(r.remoteStore)}catch(i){let o=yD(i,"Failed to persist write");t.reject(o)}})}function kO(n,e){return v(this,null,function*(){let t=ne(n);try{let r=yield e8(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?Te(s.cu,14607):i.removedDocuments.size>0&&(Te(s.cu,42227),s.cu=!1))}),yield _l(t,r,e)}catch(r){yield Ba(r)}})}function pk(n,e,t){let r=ne(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.hu.forEach((o,s)=>{let a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=ne(s);c.onlineState=a;let l=!1;c.queries.forEach((h,p)=>{for(let g of p.Sa)g.Fa(a)&&(l=!0)}),l&&ED(c)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function b8(n,e,t){return v(this,null,function*(){let r=ne(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new He(K.comparator);s=s.insert(o,Un.newNoDocument(o,oe.min()));let a=pe().add(o),c=new Jp(oe.min(),new Map,new He(de),s,a);yield kO(r,c),r.Iu=r.Iu.remove(o),r.Eu.delete(e),wD(r)}else yield IT(r.localStore,e,!1).then(()=>$T(r,e,t)).catch(Ba)})}function C8(n,e){return v(this,null,function*(){let t=ne(n),r=e.batch.batchId;try{let i=yield X9(t.localStore,e);FO(t,r,null),OO(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield _l(t,i)}catch(i){yield Ba(i)}})}function S8(n,e,t){return v(this,null,function*(){let r=ne(n);try{let i=yield function(s,a){let c=ne(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(p=>(Te(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(l,p))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(r.localStore,e);FO(r,e,t),OO(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield _l(r,i)}catch(i){yield Ba(i)}})}function OO(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function FO(n,e,t){let r=ne(n),i=r.Au[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function $T(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||LO(n,r)})}function LO(n,e){n.Tu.delete(e.path.canonicalString());let t=n.Iu.get(e);t!==null&&(fD(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),wD(n))}function gk(n,e,t){for(let r of t)r instanceof fg?(n.du.addReference(r.key,e),A8(n,r)):r instanceof pg?(B(ID,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||LO(n,r.key)):Y(19791,{pu:r})}function A8(n,e){let t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(B(ID,"New document in limbo: "+t),n.Tu.add(r),wD(n))}function wD(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){let e=n.Tu.values().next().value;n.Tu.delete(e);let t=new K(Ve.fromString(e)),r=n.Vu.next();n.Eu.set(r,new UT(t)),n.Iu=n.Iu.insert(t,r),SO(n.remoteStore,new cl(gr(Sg(t.path)),r,"TargetPurposeLimboResolution",nD.le))}}function _l(n,e,t){return v(this,null,function*(){let r=ne(n),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((a,c)=>{s.push(r.fu(c,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(l){i.push(l);let p=yT.Rs(c.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.lu.Y_(i),yield function(c,l){return v(this,null,function*(){let h=ne(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,g=>x.forEach(g.ds,m=>h.persistence.referenceDelegate.addReference(p,g.targetId,m)).next(()=>x.forEach(g.As,m=>h.persistence.referenceDelegate.removeReference(p,g.targetId,m)))))}catch(p){if(!$a(p))throw p;B(hD,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let m=h.xs.get(g),w=m.snapshotVersion,S=m.withLastLimboFreeSnapshotVersion(w);h.xs=h.xs.insert(g,S)}}})}(r.localStore,o))})}function R8(n,e){return v(this,null,function*(){let t=ne(n);if(!t.currentUser.isEqual(e)){B(ID,"User change. New user:",e.toKey());let r=yield bO(t.localStore,e);t.currentUser=e,function(o,s){o.Ru.forEach(a=>{a.forEach(c=>{c.reject(new $(P.CANCELLED,s))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _l(t,r.ks)}})}function N8(n,e){let t=ne(n),r=t.Eu.get(e);if(r&&r.cu)return pe().add(r.key);{let i=pe(),o=t.Pu.get(e);if(!o)return i;for(let s of o){let a=t.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function VO(n){let e=ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b8.bind(null,e),e.lu.Y_=y8.bind(null,e.eventManager),e.lu.gu=v8.bind(null,e.eventManager),e}function M8(n){let e=ne(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S8.bind(null,e),e}var jO=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return v(this,null,function*(){this.serializer=Ng(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),yield this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)})}vu(t,r){return null}Cu(t,r){return null}Du(t){return J9(this.persistence,new _T,t.initialUser,this.serializer)}Su(t){return new ig(mT.fi,this.serializer)}bu(t){return new wT}terminate(){return v(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),HT=class extends jO{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Te(this.persistence.referenceDelegate instanceof og,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new rT(r,e.asyncQueue,t)}Su(e){let t=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new ig(r=>og.fi(r,t),this.serializer)}};var P8=(()=>{class n{initialize(t,r){return v(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>pk(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=R8.bind(null,this.syncEngine),yield m8(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new FT}()}createDatastore(t){let r=Ng(t.databaseInfo.databaseId),i=function(s){return new ST(s)}(t.databaseInfo);return function(s,a,c,l){return new MT(s,a,c,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new xT(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>pk(this.syncEngine,r,0),function(){return ag.C()?new ag:new TT}())}createSyncEngine(t,r){return function(o,s,a,c,l,h,p){let g=new BT(o,s,a,c,l,h);return p&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var t,r;yield function(o){return v(this,null,function*(){let s=ne(o);B(Yo,"RemoteStore shutting down."),s.da.add(5),yield vl(s),s.Ra.shutdown(),s.Va.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var hl=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Hi="FirestoreClient",zT=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=at.UNAUTHENTICATED,this.clientId=zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){B(Hi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(B(Hi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=yD(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function gw(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),B(Hi,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield bO(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function mk(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield x8(n);B(Hi,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>dk(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>dk(e.remoteStore,i)),n._onlineComponents=e})}function x8(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B(Hi,"Using user provided OfflineComponentProvider");try{yield gw(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Aa("Error using user provided cache. Falling back to memory cache: "+t),yield gw(n,new jO)}}else B(Hi,"Using default OfflineComponentProvider"),yield gw(n,new HT(void 0));return n._offlineComponents})}function UO(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(B(Hi,"Using user provided OnlineComponentProvider"),yield mk(n,n._uninitializedComponentsProvider._online)):(B(Hi,"Using default OnlineComponentProvider"),yield mk(n,new P8))),n._onlineComponents})}function k8(n){return UO(n).then(e=>e.syncEngine)}function gg(n){return v(this,null,function*(){let e=yield UO(n),t=e.eventManager;return t.onListen=_8.bind(null,e.syncEngine),t.onUnlisten=w8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=E8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=T8.bind(null,e.syncEngine),t})}function O8(n,e,t={}){let r=new jn;return n.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return function(o,s,a,c,l){let h=new hl({next:g=>{h.xu(),s.enqueueAndForget(()=>_D(o,p));let m=g.docs.has(a);!m&&g.fromCache?l.reject(new $(P.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&c&&c.source==="server"?l.reject(new $(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new dl(Sg(a.path),h,{includeMetadataChanges:!0,Qa:!0});return vD(o,p)}(yield gg(n),n.asyncQueue,e,t,r)})),r.promise}function F8(n,e,t={}){let r=new jn;return n.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return function(o,s,a,c,l){let h=new hl({next:g=>{h.xu(),s.enqueueAndForget(()=>_D(o,p)),g.fromCache&&c.source==="server"?l.reject(new $(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new dl(a,h,{includeMetadataChanges:!0,Qa:!0});return vD(o,p)}(yield gg(n),n.asyncQueue,e,t,r)})),r.promise}function BO(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var yk=new Map;function $O(n,e,t){if(!t)throw new $(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function L8(n,e,t,r){if(e===!0&&r===!0)throw new $(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function vk(n){if(!K.isDocumentKey(n))throw new $(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _k(n){if(K.isDocumentKey(n))throw new $(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Y(12329,{type:typeof n})}function Yt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=xg(n);throw new $(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var HO="firestore.googleapis.com",Ek=!0,mg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HO,this.ssl=Ek}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Ek;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Q9)throw new $(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}L8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Va=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mw;switch(r.type){case"firstParty":return new Ew(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=yk.get(t);r&&(B("ComponentProvider","Removing Datastore"),yk.delete(t),r.terminate())}(this),Promise.resolve()}};function zO(n,e,t,r={}){var i;n=Yt(n,Va);let o=Mi(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(Xf(`https://${c}`),ep("Firestore",!0)),s.host!==HO&&s.host!==c&&Aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!lr(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=at.MOCK_USER;else{h=ZM(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new $(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new at(g)}n._authCredentials=new yw(new $p(h,p))}}var Zo=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ct=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ui=class n extends Zo{constructor(e,t,r){super(e,t,Sg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new K(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function qO(n,e,...t){if(n=xe(n),$O("collection","path",e),n instanceof Va){let r=Ve.fromString(e,...t);return _k(r),new Ui(n,null,r)}{if(!(n instanceof Ct||n instanceof Ui))throw new $(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ve.fromString(e,...t));return _k(r),new Ui(n.firestore,null,r)}}function TD(n,e,...t){if(n=xe(n),arguments.length===1&&(e=zp.newId()),$O("doc","path",e),n instanceof Va){let r=Ve.fromString(e,...t);return vk(r),new Ct(n,null,new K(r))}{if(!(n instanceof Ct||n instanceof Ui))throw new $(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ve.fromString(e,...t));return vk(r),new Ct(n.firestore,n instanceof Ui?n.converter:null,new K(r))}}var Ik="AsyncQueue",yg=class{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new cg(this,"async_queue_retry"),this.rc=()=>{let r=pw();r&&B(Ik,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;let t=pw();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;let t=pw();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});let t=new jn;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){return v(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!$a(e))throw e;B(Ik,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(e){let t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Zr("INTERNAL UNHANDLED ERROR: ",wk(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);let i=kT.createAndSchedule(this,e,t,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&Y(47125,{cc:wk(this.Xu)})}verifyOperationInProgress(){}lc(){return v(this,null,function*(){let e;do e=this.sc,yield e;while(e!==this.sc)})}hc(e){for(let t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){let t=this.Zu.indexOf(e);this.Zu.splice(t,1)}};function wk(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function Tk(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var $n=class extends Va{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new yg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new yg(e),this._firestoreClient=void 0,yield e}})}};function kg(n,e){let t=typeof n=="object"?n:Po(),r=typeof n=="string"?n:e||Kp,i=ha(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=YM("firestore");o&&zO(i,...o)}return i}function Og(n){if(n._terminated)throw new $(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||V8(n),n._firestoreClient}function V8(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,l,h){return new bw(a,c,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,BO(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new zT(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var fl=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(St.fromBase64String(e))}catch(t){throw new $(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ja=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Jo=class{constructor(e){this._methodName=e}};var pl=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}};var gl=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var j8=/^__.*__$/,qT=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new _r(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qo(e,this.data,t,this.fieldTransforms)}},vg=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new _r(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function GO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ic:n})}}var GT=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Eg(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(GO(this.Ic)&&j8.test(e))throw this.gc('Document fields cannot begin and end with "__"')}},WT=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ng(e)}bc(e,t,r,i=!1){return new GT({Ic:e,methodName:t,wc:r,path:ln.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Fg(n){let e=n._freezeSettings(),t=Ng(n._databaseId);return new WT(n._databaseId,!!e.ignoreUndefinedProperties,t)}function WO(n,e,t,r,i,o={}){let s=n.bc(o.merge||o.mergeFields?2:0,e,t,i);DD("Data must be an object, but it was:",s,r);let a=KO(r,s),c,l;if(o.merge)c=new In(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=YT(e,p,t);if(!s.contains(g))throw new $(P.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);YO(h,g)||h.push(g)}c=new In(h),l=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,l=s.fieldTransforms;return new qT(new un(a),c,l)}var _g=class n extends Jo{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};var KT=class n extends Jo{_toFieldTransform(e){return new Zp(e.path,new qo)}isEqual(e){return e instanceof n}};var QT=class n extends Jo{constructor(e,t){super(e),this.Dc=t}_toFieldTransform(e){let t=new Ko(e.serializer,uO(e.serializer,this.Dc));return new Zp(e.path,t)}isEqual(e){return e instanceof n&&this.Dc===e.Dc}};function U8(n,e,t,r){let i=n.bc(1,e,t);DD("Data must be an object, but it was:",i,r);let o=[],s=un.empty();zi(r,(c,l)=>{let h=bD(e,c,t);l=xe(l);let p=i.mc(h);if(l instanceof _g)o.push(h);else{let g=El(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new In(o);return new vg(s,a,i.fieldTransforms)}function B8(n,e,t,r,i,o){let s=n.bc(1,e,t),a=[YT(e,r,t)],c=[i];if(o.length%2!=0)throw new $(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(YT(e,o[g])),c.push(o[g+1]);let l=[],h=un.empty();for(let g=a.length-1;g>=0;--g)if(!YO(l,a[g])){let m=a[g],w=c[g];w=xe(w);let S=s.mc(m);if(w instanceof _g)l.push(m);else{let R=El(w,S);R!=null&&(l.push(m),h.set(m,R))}}let p=new In(l);return new vg(h,p,s.fieldTransforms)}function $8(n,e,t,r=!1){return El(t,n.bc(r?4:3,e))}function El(n,e){if(QO(n=xe(n)))return DD("Unsupported field value:",e,n),KO(n,e);if(n instanceof Jo)return function(r,i){if(!GO(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=El(a,i.fc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ht.fromDate(r);return{timestampValue:ng(i.serializer,o)}}if(r instanceof ht){let o=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ng(i.serializer,o)}}if(r instanceof pl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fl)return{bytesValue:yO(i.serializer,r._byteString)};if(r instanceof Ct){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:dD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof gl)return function(s,a){return{mapValue:{fields:{[oD]:{stringValue:sD},[Na]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.gc("VectorValues must only contain numeric values.");return lD(a.serializer,l)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${xg(r)}`)}(n,e)}function KO(n,e){let t={};return $k(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zi(n,(r,i)=>{let o=El(i,e.Ac(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function QO(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ht||n instanceof pl||n instanceof fl||n instanceof Ct||n instanceof Jo||n instanceof gl)}function DD(n,e,t){if(!QO(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=xg(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function YT(n,e,t){if((e=xe(e))instanceof ja)return e._internalPath;if(typeof e=="string")return bD(n,e);throw Eg("Field path arguments must be of type string or ",n,!1,void 0,t)}var H8=new RegExp("[~\\*/\\[\\]]");function bD(n,e,t){if(e.search(H8)>=0)throw Eg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ja(...e.split("."))._internalPath}catch{throw Eg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Eg(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new $(P.INVALID_ARGUMENT,a+n+c)}function YO(n,e){return n.some(t=>t.isEqual(e))}var Ig=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new ZT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(CD("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},ZT=class extends Ig{data(){return super.data()}};function CD(n,e){return typeof e=="string"?bD(n,e):e instanceof ja?e._internalPath:e._delegate._internalPath}function ZO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new $(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ml=class{},JT=class extends ml{};function JO(n,e,...t){let r=[];e instanceof ml&&r.push(e),r=r.concat(t),function(o){let s=o.filter(c=>c instanceof XT).length,a=o.filter(c=>c instanceof wg).length;if(s>1||s>0&&a>0)throw new $(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var wg=class n extends JT{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return e1(e._query,t),new Zo(e.firestore,e.converter,Vw(e._query,t))}_parse(e){let t=Fg(e.firestore);return function(o,s,a,c,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new $(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){bk(p,h);let w=[];for(let S of p)w.push(Dk(c,o,S));g={arrayValue:{values:w}}}else g=Dk(c,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||bk(p,h),g=$8(a,s,p,h==="in"||h==="not-in");return Xe.create(l,h,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function XO(n,e,t){let r=e,i=CD("where",n);return wg._create(i,r,t)}var XT=class n extends ml{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Bn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)e1(s,c),s=Vw(s,c)}(e._query,t),new Zo(e.firestore,e.converter,Vw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function Dk(n,e,t){if(typeof(t=xe(t))=="string"){if(t==="")throw new $(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nO(e)&&t.indexOf("/")!==-1)throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ve.fromString(t));if(!K.isDocumentKey(r))throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Hx(n,new K(r))}if(t instanceof Ct)return Hx(n,t._key);throw new $(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xg(t)}.`)}function bk(n,e){if(!Array.isArray(n)||n.length===0)throw new $(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e1(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new $(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var eD=class{convertValue(e,t="none"){switch(Bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return zi(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Na].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ke(s.doubleValue));return new gl(o)}convertGeoPoint(e){return new pl(ke(e.latitude),ke(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Cg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(il(e));default:return null}}convertTimestamp(e){let t=Jr(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ve.fromString(e);Te(TO(r),9688,{name:e});let i=new Qp(r.get(1),r.get(3)),o=new K(r.popFirst(5));return i.isEqual(t)||Zr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function t1(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Bo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Tg=class extends Ig{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Sa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(CD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Sa=class extends Tg{data(e={}){return super.data(e)}},Dg=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Bo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Sa(this._firestore,this._userDataWriter,r.key,r,new Bo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new Sa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Sa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:z8(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function z8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:n})}}function n1(n){n=Yt(n,Ct);let e=Yt(n.firestore,$n);return O8(Og(e),n._key).then(t=>a1(e,n,t))}var yl=class extends eD{constructor(e){super(),this.firestore=e}convertBytes(e){return new fl(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,t)}};function r1(n){n=Yt(n,Zo);let e=Yt(n.firestore,$n),t=Og(e),r=new yl(e);return ZO(n._query),F8(t,n._query).then(i=>new Dg(e,r,n,i))}function i1(n,e,t){n=Yt(n,Ct);let r=Yt(n.firestore,$n),i=t1(n.converter,e,t);return Vg(r,[WO(Fg(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,mr.none())])}function o1(n,e,t,...r){n=Yt(n,Ct);let i=Yt(n.firestore,$n),o=Fg(i),s;return s=typeof(e=xe(e))=="string"||e instanceof ja?B8(o,"updateDoc",n._key,e,t,r):U8(o,"updateDoc",n._key,e),Vg(i,[s.toMutation(n._key,mr.exists(!0))])}function s1(n){return Vg(Yt(n.firestore,$n),[new sl(n._key,mr.none())])}function Lg(n,e){let t=Yt(n.firestore,$n),r=TD(n),i=t1(n.converter,e);return Vg(t,[WO(Fg(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,mr.exists(!1))]).then(()=>r)}function SD(n,...e){var t,r,i;n=xe(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Tk(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Tk(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,l,h;if(n instanceof Ct)l=Yt(n.firestore,$n),h=Sg(n._key.path),c={next:p=>{e[s]&&e[s](a1(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Yt(n,Zo);l=Yt(p.firestore,$n),h=p._query;let g=new yl(l);c={next:m=>{e[s]&&e[s](new Dg(l,g,p,m))},error:e[s+1],complete:e[s+2]},ZO(n._query)}return function(g,m,w,S){let R=new hl(S),k=new dl(m,R,w);return g.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return vD(yield gg(g),k)})),()=>{R.xu(),g.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return _D(yield gg(g),k)}))}}(Og(l),h,a,c)}function Vg(n,e){return function(r,i){let o=new jn;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return D8(yield k8(r),i,o)})),o.promise}(Og(n),e)}function a1(n,e,t){let r=t.docs.get(e._key),i=new yl(n);return new Tg(n,i,e._key,r,new Bo(t.hasPendingWrites,t.fromCache),e.converter)}function c1(){return new KT("serverTimestamp")}function u1(n){return new QT("increment",n)}(function(e,t=!0){(function(i){Ua=i})(xi),Fn(new kt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new $n(new vw(r.getProvider("auth-internal")),new Iw(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new $(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qp(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),$e(xx,kx,e),$e(xx,kx,"esm2017")})();var jg=function(){return jg=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},jg.apply(this,arguments)};var W8={includeMetadataChanges:!1};function l1(n,e){return e===void 0&&(e=W8),new te(function(t){var r=SD(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function d1(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:jg(jg({},r),(t={},t[e.idField]=n.id,t))}function h1(n){return l1(n,{includeMetadataChanges:!0}).pipe(ee(function(e){return e.docs}))}function f1(n,e){return e===void 0&&(e={}),h1(n).pipe(ee(function(t){return t.map(function(r){return d1(r,e)})}))}var es=class{constructor(e){return e}},p1="firestore",AD=class{constructor(){return va(p1)}};var RD=new V("angularfire2.firestore-instances");function K8(n,e){let t=Gu(p1,n,e);return t&&new es(t)}function Q8(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new es(r)}}var Y8={provide:AD,deps:[[new xt,RD]]},Z8={provide:es,useFactory:K8,deps:[[new xt,RD],Kr]};function Sce(n,...e){return $e("angularfire",Li.full,"fst"),Xt([Z8,Y8,{provide:RD,useFactory:Q8(n),multi:!0,deps:[he,Le,Vi,Lo,[new xt,Qu],[new xt,_a],...e]}])}var Ace=Ye(f1,!0);var Rce=Ye(Lg,!0,2);var Ug=Ye(qO,!0,2);var Nce=Ye(s1,!0,2);var ts=Ye(TD,!0,2);var Bg=Ye(n1,!0);var $g=Ye(r1,!0);var Mce=Ye(kg,!0);var g1=Ye(u1,!0,2);var Hg=Ye(JO,!0,2);var Il=Ye(i1,!0,2);var wl=Ye(o1,!0,2);var zg=Ye(XO,!0,2);var m1=class n{constructor(e){this.firestore=e;Nx(this._auth,t=>v(this,null,function*(){if(!t){this.userNameSubject.next(null),this.userRoleSubject.next(null),this.userUidSubject.next(null);return}let r=t.uid,i=null;if(this.userUidSubject.next(t.uid),t.providerData[0]?.providerId==="google.com")i=t.displayName||t.email||null;else{let o=ts(this.firestore,"usuarios",r),s=yield Bg(o);if(s.exists()){let a=s.data();i=a?.nombre||t.email||null,this.userRoleSubject.next(a?.role||"user")}}this.userNameSubject.next(i)}))}_auth=M(Vo);roles="user";auth=qu();userNameSubject=new ze(null);userName$=this.userNameSubject.asObservable();userUidSubject=new ze(null);userUid$=this.userUidSubject.asObservable();userRoleSubject=new ze(null);userRole$=this.userRoleSubject.asObservable();loadUserRole(e,t){return v(this,null,function*(){let r=ts(this.firestore,"usuarios",e),o=(yield Bg(r)).data();if(o){this.userRoleSubject.next(o?.role||"user");let s=o?.nombre;this.userNameSubject.next(s&&s.trim()!==""?s:"USUARIO"),console.log("Usuario encontrado en usuarios:",e,s)}else if(t){let s=ts(this.firestore,"numeros",t),a=yield Bg(s);if(a.exists()){let l=a.data()?.nombre||"USUARIO";this.userNameSubject.next(l),this.userRoleSubject.next("user"),console.log("Nombre encontrado en numeros:",l),yield Il(r,{nombre:l,role:"user",telefono:t,creadoEn:new Date})}else yield Il(s,{telefono:t,nombre:"USUARIOW",creadoEn:new Date}),this.userNameSubject.next("USUARIOW"),this.userRoleSubject.next("user"),yield Il(r,{nombre:"USUARIOW",role:"user",telefono:t,creadoEn:new Date}),console.log("Nuevo documento creado en numeros con nombre USUARIOW")}})}incrementarIntentosPorEmail(e){return v(this,null,function*(){let t=Ug(this.firestore,"usuarios"),r=Hg(t,zg("email","==",e)),i=yield $g(r);if(i.empty)console.warn(`No se encontr\xF3 un usuario con el email: ${e}`);else{let o=i.docs[0],s=o.id,l=(o.data().intentos??0)+1;yield wl(ts(this.firestore,"usuarios",s),{intentos:l}),console.log(`Intentos para ${e}: ${l}`),l>=3&&alert("\xA1Este usuario ha superado el l\xEDmite de intentos!")}})}cambiarPassword(e,t){return v(this,null,function*(){try{let i=(yield zu(this._auth,e.email,e.password)).user;yield Ap(i,t),console.log("Contrase\xF1a actualizada correctamente.")}catch(r){throw console.error("Error al cambiar la contrase\xF1a:",r),r}})}updateUserName(e){let t=e?.displayName||e?.email||null;this.userNameSubject.next(t)}signUp(e){return v(this,null,function*(){let t=yield Sp(this._auth,e.email,e.password);return this.updateUserName(t.user),yield Il(ts(this.firestore,"usuarios",t.user.uid),{email:e.email,nombre:e.nombre,telefono:"",intentos:0,role:this.roles||"user"}),yield this.loadUserRole(t.user.uid),t})}signIn(e){return v(this,null,function*(){let t=Ug(this.firestore,"usuarios"),r=Hg(t,zg("email","==",e.email)),i=yield $g(r);if(i.empty)throw new Error("Usuario no encontrado");let o=i.docs[0],s=o.data();if(s.intentos>=3)throw alert("Demasiados intentos, cambia tu clave para poder ingresar"),new Error("Demasiados intentos fallidos. Intenta m\xE1s tarde.");try{let a=yield zu(this._auth,e.email,e.password);yield wl(o.ref,{intentos:0});let c=s.nombre||a.user.email||null;return this.userNameSubject.next(c),this.userRoleSubject.next(s.role||"user"),a}catch{throw yield wl(o.ref,{intentos:g1(1),ultimoIntento:c1()}),alert("datos incorrectos"),new Error("Correo o contrase\xF1a incorrectos")}})}signInWithGoogle(){return v(this,null,function*(){let e=new zI,t=yield Mp(this._auth,e),r=t.user;this.updateUserName(r),yield this.loadUserRole(r.uid);let i=kg(),o=Ug(i,"usuarios"),s=Hg(o,zg("email","==",r.email)),a=yield $g(s);return a.empty?yield Lg(o,{uid:r.uid,email:r.email,nombre:r.displayName||"",intentos:0,telefono:"",role:"user"}):a.forEach(c=>v(this,null,function*(){let l=ts(i,"usuarios",c.id);yield wl(l,{intentos:0})})),t})}cerrarSesion(){return Rp(this._auth).then(()=>{this.userNameSubject.next(null),console.log("Sesi\xF3n cerrada correctamente.")}).catch(e=>{console.error("Error al cerrar sesi\xF3n:",e)})}getCurrentUser(){return new Promise(e=>{let t=this.auth.onAuthStateChanged(r=>{t(),e(r)})})}static \u0275fac=function(t){return new(t||n)(G(es))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})};export{O as a,se as b,X8 as c,e5 as d,v as e,Ue as f,te as g,hs as h,Se as i,ze as j,yt as k,W as l,ms as m,$m as n,ee as o,vc as p,ui as q,Hm as r,xF as s,kF as t,OF as u,rt as v,FF as w,qn as x,LF as y,hn as z,VF as A,pC as B,di as C,gC as D,BF as E,_c as F,Wm as G,$F as H,HF as I,wd as J,Lt as K,Km as L,lt as M,L as N,wv as O,j as P,Bt as Q,V as R,G as S,M as T,Xt as U,yL as V,it as W,en as X,iee as Y,oee as Z,tr as _,Le as $,RC as aa,Fe as ba,he as ca,Zn as da,It as ea,CV as fa,_i as ga,qv as ha,Ei as ia,see as ja,Wv as ka,jV as la,Yv as ma,Sn as na,aee as oa,cj as pa,uj as qa,cee as ra,uee as sa,ho as ta,xs as ua,mn as va,z as wa,jr as xa,yee as ya,ks as za,AA as Aa,zt as Ba,Ee as Ca,Nh as Da,wt as Ea,NU as Fa,w_ as Ga,Mr as Ha,zs as Ia,QU as Ja,kh as Ka,Eee as La,Iee as Ma,wee as Na,Tee as Oa,Dee as Pa,zA as Qa,qA as Ra,T_ as Sa,GA as Ta,WA as Ua,hB as Va,bee as Wa,pB as Xa,rr as Ya,Cee as Za,See as _a,Aee as $a,DB as ab,QA as bb,YA as cb,Ree as db,ZA as eb,JA as fb,Nee as gb,Mee as hb,Pee as ib,xee as jb,CB as kb,XA as lb,SB as mb,AB as nb,kee as ob,RB as pb,MB as qb,yn as rb,Oee as sb,Fee as tb,Lee as ub,Vee as vb,jee as wb,Uee as xb,oR as yb,Bee as zb,D_ as Ab,Ii as Bb,b_ as Cb,wi as Db,An as Eb,yo as Fb,dR as Gb,$ee as Hb,qe as Ib,Ti as Jb,C$ as Kb,FR as Lb,S$ as Mb,A$ as Nb,R$ as Ob,N$ as Pb,P$ as Qb,x$ as Rb,V_ as Sb,F$ as Tb,Z$ as Ub,iH as Vb,sN as Wb,SH as Xb,AH as Yb,sn as Zb,ur as _b,yE as $b,kn as ac,Of as bc,iz as cc,az as dc,cz as ec,gz as fc,TM as gc,fM as hc,Hr as ic,Sie as jc,Aie as kc,Vz as lc,bu as mc,Bz as nc,Nie as oc,Hz as pc,qz as qc,Wz as rc,$M as sc,Mie as tc,Pie as uc,eq as vc,nq as wc,xie as xc,kie as yc,Oie as zc,gse as Ac,mse as Bc,zu as Cc,Ap as Dc,WI as Ec,AI as Fc,fx as Gc,qu as Hc,Kse as Ic,Qse as Jc,qO as Kc,TD as Lc,kg as Mc,JO as Nc,XO as Oc,r1 as Pc,o1 as Qc,es as Rc,Sce as Sc,Ace as Tc,Rce as Uc,Ug as Vc,Nce as Wc,ts as Xc,Mce as Yc,wl as Zc,m1 as _c};
