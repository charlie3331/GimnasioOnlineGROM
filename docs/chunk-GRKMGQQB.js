import{Aa as v,Fa as m,Fc as j,Hc as H,Ja as l,Ka as _,Mb as x,Qa as o,Ra as e,Sa as f,Sb as M,T as C,Ya as F,Za as y,_c as R,ac as A,bc as E,e as h,ec as S,gc as k,hc as U,jb as c,jc as P,kc as I,oc as B,qc as D,rc as O,sa as a,sb as u,wa as b,xc as T,zc as z}from"./chunk-YKU5JZST.js";var W=()=>["/phone"],J=()=>["/auth/sign-up"],K=()=>["/change"];function V(i,n){i&1&&(o(0,"div"),c(1,"El correo es obligatorio."),e())}function G(i,n){i&1&&(o(0,"div"),c(1,"Debe ser un correo v\xE1lido."),e())}function N(i,n){if(i&1&&(o(0,"div",22),m(1,V,2,0,"div",23)(2,G,2,0,"div",23),e()),i&2){let r,t,s=y();a(),l("ngIf",(r=s.form.get("email"))==null||r.errors==null?null:r.errors.required),a(),l("ngIf",(t=s.form.get("email"))==null||t.errors==null?null:t.errors.email)}}function L(i,n){i&1&&(o(0,"div"),c(1,"La contrase\xF1a es obligatoria."),e())}function q(i,n){if(i&1&&(o(0,"div",22),m(1,L,2,0,"div",23),e()),i&2){let r,t=y();a(),l("ngIf",(r=t.form.get("password"))==null||r.errors==null?null:r.errors.required)}}var w=class i{constructor(n){this.router=n}_formBuilder=C(T);_authService=C(R);auth=H();form=this._formBuilder.group({email:this._formBuilder.control("",[U.required,U.email]),password:this._formBuilder.control("",U.required)});captchaResuelto=!1;recaptchaVerifier;ngOnInit(){this.initRecaptcha()}initRecaptcha(){this.recaptchaVerifier&&this.recaptchaVerifier.clear(),this.recaptchaVerifier=new j(this.auth,"recaptcha-container",{size:"normal",callback:n=>{console.log("reCAPTCHA resuelto:",n),this.captchaResuelto=!0},"expired-callback":()=>{console.warn("reCAPTCHA expirado"),this.captchaResuelto=!1}}),this.recaptchaVerifier.render().then(n=>{console.log("reCAPTCHA renderizado con ID:",n)})}submit(){return h(this,null,function*(){if(this.form.invalid)return;let{email:n,password:r}=this.form.value;if(!n.trim()||!r.trim()){alert("Por favor, completa todos los campos.");return}if(!this.captchaResuelto){alert("Por favor, completa el reCAPTCHA.");return}try{yield this._authService.signIn({email:n,password:r}),this.router.navigate(["/home"])}catch(t){console.error(t),this.recaptchaVerifier.clear(),this.initRecaptcha(),this.captchaResuelto=!1,yield this._authService.incrementarIntentosPorEmail(n)}this.form.reset()})}conGoogle(){return h(this,null,function*(){try{let n=yield this._authService.signInWithGoogle();console.log("Usuario autenticado con Google:",n.user),this.router.navigate(["/home"])}catch(n){console.error("Error en autenticaci\xF3n con Google:",n)}})}static \u0275fac=function(r){return new(r||i)(b(A))};static \u0275cmp=v({type:i,selectors:[["app-sign-in"]],decls:32,vars:14,consts:[[1,"registro-container"],[1,"social-networks"],[1,"google-btn",3,"click"],[1,"bx","bxl-google"],[1,"google-btn",3,"routerLink"],[1,"bx","bx-phone"],[1,"bx","bxl-twitch","icon"],[1,"bx","bxl-twitter","icon"],[1,"bx","bxl-instagram","icon"],[1,"bx","bxl-tiktok","icon"],["novalidate","",1,"login-form",3,"ngSubmit","formGroup"],[1,"container-input"],[1,"bx","bx-envelope"],["type","email","placeholder","Correo electr\xF3nico","formControlName","email"],["class","error",4,"ngIf"],[1,"bx","bx-lock"],["type","password","placeholder","Contrase\xF1a","formControlName","password"],[1,"links"],[3,"routerLink"],[1,"change-link",3,"routerLink"],["id","recaptcha-container"],["type","submit",1,"button",3,"disabled"],[1,"error"],[4,"ngIf"]],template:function(r,t){if(r&1&&(o(0,"body")(1,"div",0)(2,"h2"),c(3,"Iniciar Sesi\xF3n"),e(),o(4,"div",1)(5,"button",2),F("click",function(){return t.conGoogle()}),f(6,"i",3),e(),o(7,"button",4),f(8,"i",5),e(),f(9,"i",6)(10,"i",7)(11,"i",8)(12,"i",9),e(),o(13,"form",10),F("ngSubmit",function(){return t.submit()}),o(14,"span"),c(15,"Use su correo y contrase\xF1a"),e(),o(16,"div",11),f(17,"i",12)(18,"input",13),e(),m(19,N,3,2,"div",14),o(20,"div",11),f(21,"i",15)(22,"input",16),e(),m(23,q,2,1,"div",14),o(24,"div",17)(25,"a",18),c(26,"No tienes cuenta, crea una"),e(),o(27,"a",19),c(28,"\xBFCambiar tu clave?"),e()(),f(29,"div",20),o(30,"button",21),c(31,"Iniciar sesi\xF3n"),e()()()()),r&2){let s,p,g,d;a(7),l("routerLink",u(11,W)),a(6),l("formGroup",t.form),a(5),_("invalid",((s=t.form.get("email"))==null?null:s.invalid)&&((s=t.form.get("email"))==null?null:s.touched)),a(),l("ngIf",((p=t.form.get("email"))==null?null:p.invalid)&&((p=t.form.get("email"))==null?null:p.touched)),a(3),_("invalid",((g=t.form.get("password"))==null?null:g.invalid)&&((g=t.form.get("password"))==null?null:g.touched)),a(),l("ngIf",((d=t.form.get("password"))==null?null:d.invalid)&&((d=t.form.get("password"))==null?null:d.touched)),a(2),l("routerLink",u(12,J)),a(2),l("routerLink",u(13,K)),a(3),l("disabled",t.form.invalid)}},dependencies:[z,B,k,P,I,D,O,S,E,M,x],styles:['@font-face{font-family:Montserrat;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459WRhyzbi.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Montserrat;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Montserrat;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459WZhyzbi.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Montserrat;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459Wdhyzbi.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Montserrat;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459Wlhyw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Montserrat;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459WRhyzbi.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Montserrat;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Montserrat;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459WZhyzbi.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Montserrat;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459Wdhyzbi.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Montserrat;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459Wlhyw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Montserrat;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459WRhyzbi.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Montserrat;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459W1hyzbi.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Montserrat;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459WZhyzbi.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Montserrat;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459Wdhyzbi.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Montserrat;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/montserrat/v30/JTUSjIg1_i6t8kCHKm459Wlhyw.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Montserrat,sans-serif}body[_ngcontent-%COMP%]{background-color:#000;display:flex;justify-content:center;align-items:start;padding-top:60px;height:100vh;font-family:Montserrat,sans-serif}.registro-container[_ngcontent-%COMP%]{background-color:#fff;padding:40px 30px;width:400px;border-radius:15px;box-shadow:0 0 12px #00000026;display:flex;flex-direction:column;gap:16px}.registro-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px;color:#333}.social-networks[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-bottom:10px}.google-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;background-color:#fff;border:1px solid #ccc;padding:8px 12px;border-radius:5px;font-weight:500;cursor:pointer;font-size:14px}.google-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4285f4;font-size:18px}.icon[_ngcontent-%COMP%]{font-size:20px;color:#444;cursor:pointer;transition:transform .2s}.icon[_ngcontent-%COMP%]:hover{transform:scale(1.2);color:#ff6f00}.container-input[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#eee;padding:10px 15px;border-radius:6px;margin-bottom:5px}.container-input[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;margin-right:8px;color:#666}.container-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;background:transparent;outline:none;width:100%;font-size:14px}.button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#ff6f00;border:none;border-radius:5px;color:#fff;font-weight:600;cursor:pointer;transition:background-color .3s}.button[_ngcontent-%COMP%]:hover{background-color:#e65c00}.error[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:-5px;margin-bottom:5px;padding-left:4px}.invalid[_ngcontent-%COMP%]{border-bottom:2px solid red}.links[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:12px;margin-top:10px}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#444;text-decoration:none;transition:color .2s}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ff6f00}.social-networks[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:25px;justify-content:center}.social-networks[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .social-networks[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{border:1px solid #C9CCCB;border-radius:6px;padding:10px;font-size:20px;cursor:pointer;transition:all .3s ease;background-color:#fff;color:#333}.social-networks[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:hover, .social-networks[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]:hover{background-color:#ff6f00;color:#fff;border-color:#ff6f00}.google-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px;color:#000;transition:color .3s ease}.google-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff}']})};export{w as default};
